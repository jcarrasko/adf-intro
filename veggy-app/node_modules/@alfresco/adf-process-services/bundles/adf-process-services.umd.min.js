!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/core"),require("@angular/forms"),require("@angular/platform-browser/animations"),require("@alfresco/adf-core"),require("@angular/material"),require("@angular/flex-layout"),require("@ngx-translate/core"),require("rxjs/Observable"),require("rxjs/add/observable/throw"),require("rxjs/Subject"),require("rxjs/add/observable/forkJoin"),require("rxjs/add/observable/fromPromise"),require("rxjs/operator/switchMap"),require("@angular/material/core"),require("moment-es6")):"function"==typeof define&&define.amd?define(["exports","@angular/common","@angular/core","@angular/forms","@angular/platform-browser/animations","@alfresco/adf-core","@angular/material","@angular/flex-layout","@ngx-translate/core","rxjs/Observable","rxjs/add/observable/throw","rxjs/Subject","rxjs/add/observable/forkJoin","rxjs/add/observable/fromPromise","rxjs/operator/switchMap","@angular/material/core","moment-es6"],e):e(t["adf-process-services"]={},t.ng.common,t.ng.core,t.ng.forms,t["@angular/platform-browser/animations"],t["@alfresco/adf-core"],t["@angular/material"],t["@angular/flex-layout"],t["@ngx-translate/core"],t.Rx,t.Rx.Observable,t.Rx,t.Rx.Observable,t.Rx.Observable,t.Rx.Observable.prototype,t["@angular/material/core"],t["moment-es6"])}(this,function(t,e,n,i,s,r,o,a,c,l,u,p,h,d,f,m,y){"use strict";/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function b(){return[o.MatAutocompleteModule,o.MatButtonModule,o.MatCardModule,o.MatDialogModule,o.MatCheckboxModule,o.MatDatepickerModule,o.MatGridListModule,o.MatIconModule,o.MatInputModule,o.MatListModule,o.MatOptionModule,o.MatRadioModule,o.MatSelectModule,o.MatSlideToggleModule,o.MatTableModule,o.MatTabsModule,o.MatProgressSpinnerModule,o.MatNativeDateModule,o.MatRippleModule,o.MatTooltipModule,o.MatChipsModule]}function v(t,e){return e={exports:{}},t(e,e.exports),e.exports}function g(){try{return N.apply(this,arguments)}catch(t){return V.errorObject.e=t,V.errorObject}}function S(t){return t.reduce(function(t,e){return t.concat(e instanceof Y.UnsubscriptionError?e.errors:e)},[])}function _(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:pt.noop}function T(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function w(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,i=t.subscriber,s=t.scheduler,r=i.openContext();i.closed||(i.add(r.closeAction=s.schedule(I,n,{subscriber:i,context:r})),this.schedule(t,e))}function I(t){var e=t.subscriber,n=t.context;e.closeContext(n)}function A(t){var e=t.value,n=t.subscriber;n.closed||(n.next(e),n.complete())}function k(t){var e=t.err,n=t.subscriber;n.closed||n.error(e)}function E(t){var e=+t.length;return isNaN(e)?0:0!==e&&function(t){return"number"==typeof t&&Z.root.isFinite(t)}(e)?(e=function(t){var e=+t;if(0===e)return e;if(isNaN(e))return e;return e<0?-1:1}(e)*Math.floor(Math.abs(e)))<=0?0:e>Qt?Qt:e:e}function x(t){t.debouncedNext()}function O(){return function(){function t(){this._values=[]}return t.prototype.add=function(t){this.has(t)||this._values.push(t)},t.prototype.has=function(t){return-1!==this._values.indexOf(t)},Object.defineProperty(t.prototype,"size",{get:function(){return this._values.length},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this._values.length=0},t}()}function D(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}function P(t){t.subscriber.clearThrottle()}function C(t){var e=t.subscriber,n=t.windowTimeSpan,i=t.window;i&&e.closeWindow(i),t.window=e.openWindow(),this.schedule(t,n)}function L(t){var e=t.windowTimeSpan,n=t.subscriber,i=t.scheduler,s=t.windowCreationInterval,r={action:this,subscription:null},o={subscriber:n,window:n.openWindow(),context:r};r.subscription=i.schedule(F,e,o),this.add(r.subscription),this.schedule(t,s)}function F(t){var e=t.subscriber,n=t.window,i=t.context;i&&i.action&&i.subscription&&i.action.remove(i.subscription),e.closeWindow(n)}y=y&&y.hasOwnProperty("default")?y["default"]:y;var R=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),M=function(){return function(){}}();M.decorators=[{type:n.NgModule,args:[{providers:[{provide:o.MAT_PLACEHOLDER_GLOBAL_OPTIONS,useValue:{"float":"never"}}],imports:b(),exports:b()}]}],M.ctorParameters=function(){return[]};var N,j="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},V={errorObject:{e:{}}},U={tryCatch:function(t){return N=t,g}},B={isFunction:function(t){return"function"==typeof t}},K={isArray:Array.isArray||function(t){return t&&"number"==typeof t.length}},$={isObject:function(t){return null!=t&&"object"==typeof t}},z=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Y={UnsubscriptionError:function(t){function e(e){t.call(this),this.errors=e;var n=Error.call(this,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"");this.name=n.name="UnsubscriptionError",this.stack=n.stack,this.message=n.message}return z(e,t),e}(Error)},q={Subscription:function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,i=this._parents,s=this._unsubscribe,r=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var o=-1,a=i?i.length:0;n;)n.remove(this),n=++o<a&&i[o]||null;if(B.isFunction(s)){(l=U.tryCatch(s).call(this))===V.errorObject&&(e=!0,t=t||(V.errorObject.e instanceof Y.UnsubscriptionError?S(V.errorObject.e.errors):[V.errorObject.e]))}if(K.isArray(r))for(o=-1,a=r.length;++o<a;){var c=r[o];if($.isObject(c)){var l=U.tryCatch(c.unsubscribe).call(c);if(l===V.errorObject){e=!0,t=t||[];var u=V.errorObject.e;u instanceof Y.UnsubscriptionError?t=t.concat(S(u.errors)):t.push(u)}}}if(e)throw new Y.UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var i=n;(n=new t)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}()},G={empty:{closed:!0,next:function(t){},error:function(t){throw t},complete:function(){}}},H="undefined"!=typeof window&&window,W="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,J=H||void 0!==j&&j||W,Q=J;!function(){if(!J)throw new Error("RxJS could not find any global context (window, self, global)")}();var Z={root:Q},X=v(function(t,e){var n=Z.root.Symbol;e.rxSubscriber="function"==typeof n&&"function"==typeof n["for"]?n["for"]("rxSubscriber"):"@@rxSubscriber",e.$$rxSubscriber=e.rxSubscriber}),tt=(X.rxSubscriber,X.$$rxSubscriber,j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),et=function(t){function e(n,i,s){switch(t.call(this),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=G.empty;break;case 1:if(!n){this.destination=G.empty;break}if("object"==typeof n){n instanceof e?(this.destination=n,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new it(this,n));break}default:this.syncErrorThrowable=!0,this.destination=new it(this,n,i,s)}}return tt(e,t),e.prototype[X.rxSubscriber]=function(){return this},e.create=function(t,n,i){var s=new e(t,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(q.Subscription),nt=et,it=function(t){function e(e,n,i,s){t.call(this),this._parentSubscriber=e;var r,o=this;B.isFunction(n)?r=n:n&&(r=n.next,i=n.error,s=n.complete,n!==G.empty&&(o=Object.create(n),B.isFunction(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=r,this._error=i,this._complete=s}return tt(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber;if(this._error)e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else{if(!e.syncErrorThrowable)throw this.unsubscribe(),t;e.syncErrorValue=t,e.syncErrorThrown=!0,this.unsubscribe()}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){throw this.unsubscribe(),n}},e.prototype.__tryOrSetError=function(t,e,n){try{e.call(this._context,n)}catch(i){return t.syncErrorValue=i,t.syncErrorThrown=!0,!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(et),st={Subscriber:nt},rt=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ot={OuterSubscriber:function(t){function e(){t.apply(this,arguments)}return rt(e,t),e.prototype.notifyNext=function(t,e,n,i,s){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(st.Subscriber)},at={isArrayLike:function(t){return t&&"number"==typeof t.length}},ct={isPromise:function(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}},lt={toSubscriber:function(t,e,n){if(t){if(t instanceof st.Subscriber)return t;if(t[X.rxSubscriber])return t[X.rxSubscriber]()}return t||e||n?new st.Subscriber(t,e,n):new st.Subscriber(G.empty)}},ut=v(function(t,e){function n(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}e.getSymbolObservable=n,e.observable=n(Z.root),e.$$observable=e.observable}),pt=(ut.getSymbolObservable,ut.observable,ut.$$observable,{noop:function(){}}),ht={pipe:function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return _(t)},pipeFromArray:_},dt={Observable:function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var i=this.operator,s=lt.toSubscriber(t,e,n);if(i?i.call(s,this.source):s.add(this.source?this._subscribe(s):this._trySubscribe(s)),s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.syncErrorThrown=!0,t.syncErrorValue=e,t.error(e)}},t.prototype.forEach=function(t,e){var n=this;if(e||(Z.root.Rx&&Z.root.Rx.config&&Z.root.Rx.config.Promise?e=Z.root.Rx.config.Promise:Z.root.Promise&&(e=Z.root.Promise)),!e)throw new Error("no Promise impl found");return new e(function(e,i){var s;s=n.subscribe(function(e){if(s)try{t(e)}catch(n){i(n),s.unsubscribe()}else t(e)},i,e)})},t.prototype._subscribe=function(t){return this.source.subscribe(t)},t.prototype[ut.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return 0===t.length?this:ht.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;if(t||(Z.root.Rx&&Z.root.Rx.config&&Z.root.Rx.config.Promise?t=Z.root.Rx.config.Promise:Z.root.Promise&&(t=Z.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var i;e.subscribe(function(t){return i=t},function(t){return n(t)},function(){return t(i)})})},t.create=function(e){return new t(e)},t}()},ft=v(function(t,e){function n(t){var e=t.Symbol;if("function"==typeof e)return e.iterator||(e.iterator=e("iterator polyfill")),e.iterator;var n=t.Set;if(n&&"function"==typeof(new n)["@@iterator"])return"@@iterator";var i=t.Map;if(i)for(var s=Object.getOwnPropertyNames(i.prototype),r=0;r<s.length;++r){var o=s[r];if("entries"!==o&&"size"!==o&&i.prototype[o]===i.prototype.entries)return o}return"@@iterator"}e.symbolIteratorPonyfill=n,e.iterator=n(Z.root),e.$$iterator=e.iterator}),mt=(ft.symbolIteratorPonyfill,ft.iterator,ft.$$iterator,j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yt={InnerSubscriber:function(t){function e(e,n,i){t.call(this),this.parent=e,this.outerValue=n,this.outerIndex=i,this.index=0}return mt(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(st.Subscriber)},bt={subscribeToResult:function(t,e,n,i){var s=new yt.InnerSubscriber(t,n,i);if(s.closed)return null;if(e instanceof dt.Observable)return e._isScalar?(s.next(e.value),s.complete(),null):(s.syncErrorThrowable=!0,e.subscribe(s));if(at.isArrayLike(e)){for(var r=0,o=e.length;r<o&&!s.closed;r++)s.next(e[r]);s.closed||s.complete()}else{if(ct.isPromise(e))return e.then(function(t){s.closed||(s.next(t),s.complete())},function(t){return s.error(t)}).then(null,function(t){Z.root.setTimeout(function(){throw t})}),s;if(e&&"function"==typeof e[ft.iterator])for(var a=e[ft.iterator]();;){var c=a.next();if(c.done){s.complete();break}if(s.next(c.value),s.closed)break}else if(e&&"function"==typeof e[ut.observable]){var l=e[ut.observable]();if("function"==typeof l.subscribe)return l.subscribe(new yt.InnerSubscriber(t,n,i));s.error(new TypeError("Provided object does not correctly implement Symbol.observable"))}else{var u="You provided "+($.isObject(e)?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";s.error(new TypeError(u))}}return null}},R=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},vt=(function(t){function e(e,n){t.call(this,e),this.durationSelector=n,this.hasValue=!1}R(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=U.tryCatch(this.durationSelector)(t);if(e===V.errorObject)this.destination.error(V.errorObject.e);else{var n=bt.subscribeToResult(this,e);n.closed?this.clearThrottle():this.add(this.throttled=n)}}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,n,i){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),gt={Action:function(t){function e(e,n){t.call(this)}return vt(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(q.Subscription)},St=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},_t={AsyncAction:function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n,this.pending=!1}return St(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t,this.pending=!0;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),Z.root.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){return void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending?e:Z.root.clearInterval(e)&&undefined||undefined},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,i=undefined;try{this.work(t)}catch(s){n=!0,i=!!s&&s||new Error(s)}if(n)return this.unsubscribe(),i},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(gt.Action)},Tt={Scheduler:function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=Date.now?Date.now:function(){return+new Date},t}()},wt=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},It={AsyncScheduler:function(t){function e(){t.apply(this,arguments),this.actions=[],this.active=!1,this.scheduled=undefined}return wt(e,t),e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(Tt.Scheduler)},At={async:new It.AsyncScheduler(_t.AsyncAction)},kt={isNumeric:function(t){return!K.isArray(t)&&t-parseFloat(t)+1>=0}},Et={isScheduler:function(t){return t&&"function"==typeof t.schedule}},xt={isDate:function(t){return t instanceof Date&&!isNaN(+t)}},Ot=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Dt=(function(t){function e(e,n,i){void 0===e&&(e=0),t.call(this),this.period=-1,this.dueTime=0,kt.isNumeric(n)?this.period=Number(n)<1&&1||Number(n):Et.isScheduler(n)&&(i=n),Et.isScheduler(i)||(i=At.async),this.scheduler=i,this.dueTime=xt.isDate(e)?+e-this.scheduler.now():e}Ot(e,t),e.create=function(t,n,i){return void 0===t&&(t=0),new e(t,n,i)},e.dispatch=function(t){var e=t.index,n=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}},e.prototype._subscribe=function(t){var n=this.period,i=this.dueTime;return this.scheduler.schedule(e.dispatch,i,{index:0,period:n,subscriber:t})}}(dt.Observable),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Pt=(function(t){function e(e,n){t.call(this,e),this.buffer=[],this.add(bt.subscribeToResult(this,n))}Dt(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,n,i,s){var r=this.buffer;this.buffer=[],this.destination.next(r)}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ct=(function(t){function e(e,n){t.call(this,e),this.bufferSize=n,this.buffer=[]}Pt(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)}}(st.Subscriber),function(t){function e(e,n,i){t.call(this,e),this.bufferSize=n,this.startBufferEvery=i,this.buffers=[],this.count=0}Pt(e,t),e.prototype._next=function(t){var e=this.bufferSize,n=this.startBufferEvery,i=this.buffers,s=this.count;this.count++,s%n==0&&i.push([]);for(var r=i.length;r--;){var o=i[r];o.push(t),o.length===e&&(i.splice(r,1),this.destination.next(o))}},e.prototype._complete=function(){for(var e=this.buffers,n=this.destination;e.length>0;){var i=e.shift();i.length>0&&n.next(i)}t.prototype._complete.call(this)}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Lt=function(){return function(){this.buffer=[]}}(),Ft=(function(t){function e(e,n,i,s,r){t.call(this,e),this.bufferTimeSpan=n,this.bufferCreationInterval=i,this.maxBufferSize=s,this.scheduler=r,this.contexts=[];var o=this.openContext();if(this.timespanOnly=null==i||i<0,this.timespanOnly){var a={subscriber:this,context:o,bufferTimeSpan:n};this.add(o.closeAction=r.schedule(T,n,a))}else{var c={subscriber:this,context:o},l={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:this,scheduler:r};this.add(o.closeAction=r.schedule(I,n,c)),this.add(r.schedule(w,i,l))}}Ct(e,t),e.prototype._next=function(t){for(var e,n=this.contexts,i=n.length,s=0;s<i;s++){var r=n[s],o=r.buffer;o.push(t),o.length==this.maxBufferSize&&(e=r)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts,n=this.destination;e.length>0;){var i=e.shift();n.next(i.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan,i={subscriber:this,context:t,bufferTimeSpan:n};this.add(t.closeAction=this.scheduler.schedule(T,n,i))}},e.prototype.openContext=function(){var t=new Lt;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rt=(function(t){function e(e,n,i){t.call(this,e),this.openings=n,this.closingSelector=i,this.contexts=[],this.add(bt.subscribeToResult(this,n))}Ft(e,t),e.prototype._next=function(t){for(var e=this.contexts,n=e.length,i=0;i<n;i++)e[i].buffer.push(t)},e.prototype._error=function(e){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var n=e.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,i,s){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(n){this._error(n)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var n=t.buffer,i=t.subscription;this.destination.next(n),e.splice(e.indexOf(t),1),this.remove(i),i.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,n=new q.Subscription,i={buffer:[],subscription:n};e.push(i);var s=bt.subscribeToResult(this,t,i);!s||s.closed?this.closeBuffer(i):(s.context=i,this.add(s),n.add(s))}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Mt=(function(t){function e(e,n){t.call(this,e),this.closingSelector=n,this.subscribing=!1,this.openBuffer()}Rt(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,n,i,s){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];var n=U.tryCatch(this.closingSelector)();n===V.errorObject?this.error(V.errorObject.e):(t=new q.Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(bt.subscribeToResult(this,n)),this.subscribing=!1)}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Nt=(function(t){function e(e,n,i){t.call(this,e),this.selector=n,this.caught=i}Mt(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(i){return void t.prototype.error.call(this,i)}this._unsubscribeAndRecycle(),this.add(bt.subscribeToResult(this,n))}}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),jt={ScalarObservable:function(t){function e(e,n){t.call(this),this.value=e,this.scheduler=n,this._isScalar=!0,n&&(this._isScalar=!1)}return Nt(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.done,n=t.value,i=t.subscriber;e?i.complete():(i.next(n),i.closed||(t.done=!0,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.value,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{done:!1,value:n,subscriber:t});t.next(n),t.closed||t.complete()},e}(dt.Observable)},Vt=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Ut={EmptyObservable:function(t){function e(e){t.call(this),this.scheduler=e}return Vt(e,t),e.create=function(t){return new e(t)},e.dispatch=function(t){t.subscriber.complete()},e.prototype._subscribe=function(t){var n=this.scheduler;if(n)return n.schedule(e.dispatch,0,{subscriber:t});t.complete()},e}(dt.Observable)},Bt=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Kt={ArrayObservable:function(t){function e(e,n){t.call(this),this.array=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return Bt(e,t),e.create=function(t,n){return new e(t,n)},e.of=function(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];var i=t[t.length-1];Et.isScheduler(i)?t.pop():i=null;var s=t.length;return s>1?new e(t,i):1===s?new jt.ScalarObservable(t[0],i):new Ut.EmptyObservable(i)},e.dispatch=function(t){var e=t.array,n=t.index,i=t.count,s=t.subscriber;n>=i?s.complete():(s.next(e[n]),s.closed||(t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.array,i=n.length,s=this.scheduler;if(s)return s.schedule(e.dispatch,0,{array:n,index:0,count:i,subscriber:t});for(var r=0;r<i&&!t.closed;r++)t.next(n[r]);t.complete()},e}(dt.Observable)},$t=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},zt={},Yt=(function(t){function e(e,n){t.call(this,e),this.project=n,this.active=0,this.values=[],this.observables=[]}$t(e,t),e.prototype._next=function(t){this.values.push(zt),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var i=t[n];this.add(bt.subscribeToResult(this,i,i,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,i,s){var r=this.values,o=r[n],a=this.toRespond?o===zt?--this.toRespond:this.toRespond:0;r[n]=e,0===a&&(this.project?this._tryProject(r):this.destination.next(r.slice()))},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),qt={PromiseObservable:function(t){function e(e,n){t.call(this),this.promise=e,this.scheduler=n}return Yt(e,t),e.create=function(t,n){return new e(t,n)},e.prototype._subscribe=function(t){var e=this,n=this.promise,i=this.scheduler;if(null==i)this._isScalar?t.closed||(t.next(this.value),t.complete()):n.then(function(n){e.value=n,e._isScalar=!0,t.closed||(t.next(n),t.complete())},function(e){t.closed||t.error(e)}).then(null,function(t){Z.root.setTimeout(function(){throw t})});else if(this._isScalar){if(!t.closed)return i.schedule(A,0,{value:this.value,subscriber:t})}else n.then(function(n){e.value=n,e._isScalar=!0,t.closed||t.add(i.schedule(A,0,{value:n,subscriber:t}))},function(e){t.closed||t.add(i.schedule(k,0,{err:e,subscriber:t}))}).then(null,function(t){Z.root.setTimeout(function(){throw t})})},e}(dt.Observable)},Gt=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Ht=function(t){function e(e,n){if(t.call(this),this.scheduler=n,null==e)throw new Error("iterator cannot be null.");this.iterator=function(t){var e=t[ft.iterator];if(!e&&"string"==typeof t)return new Wt(t);if(!e&&t.length!==undefined)return new Jt(t);if(!e)throw new TypeError("object is not iterable");return t[ft.iterator]()}(e)}return Gt(e,t),e.create=function(t,n){return new e(t,n)},e.dispatch=function(t){var e=t.index,n=t.hasError,i=t.iterator,s=t.subscriber;if(n)s.error(t.error);else{var r=i.next();r.done?s.complete():(s.next(r.value),t.index=e+1,s.closed?"function"==typeof i["return"]&&i["return"]():this.schedule(t))}},e.prototype._subscribe=function(t){var n=this.iterator,i=this.scheduler;if(i)return i.schedule(e.dispatch,0,{index:0,iterator:n,subscriber:t});for(;;){var s=n.next();if(s.done){t.complete();break}if(t.next(s.value),t.closed){"function"==typeof n["return"]&&n["return"]();break}}},e}(dt.Observable),Wt=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.length),this.str=t,this.idx=e,this.len=n}return t.prototype[ft.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.str.charAt(this.idx++)}:{done:!0,value:undefined}},t}(),Jt=function(){function t(t,e,n){void 0===e&&(e=0),void 0===n&&(n=E(t)),this.arr=t,this.idx=e,this.len=n}return t.prototype[ft.iterator]=function(){return this},t.prototype.next=function(){return this.idx<this.len?{done:!1,value:this.arr[this.idx++]}:{done:!0,value:undefined}},t}(),Qt=Math.pow(2,53)-1,Zt={IteratorObservable:Ht},Xt=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},te={ArrayLikeObservable:function(t){function e(e,n){t.call(this),this.arrayLike=e,this.scheduler=n,n||1!==e.length||(this._isScalar=!0,this.value=e[0])}return Xt(e,t),e.create=function(t,n){var i=t.length;return 0===i?new Ut.EmptyObservable:1===i?new jt.ScalarObservable(t[0],n):new e(t,n)},e.dispatch=function(t){var e=t.arrayLike,n=t.index,i=t.length,s=t.subscriber;s.closed||(n>=i?s.complete():(s.next(e[n]),t.index=n+1,this.schedule(t)))},e.prototype._subscribe=function(t){var n=this.arrayLike,i=this.scheduler,s=n.length;if(i)return i.schedule(e.dispatch,0,{arrayLike:n,index:0,length:s,subscriber:t});for(var r=0;r<s&&!t.closed;r++)t.next(n[r]);t.complete()},e}(dt.Observable)},ee={Notification:function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype["do"]=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this["do"](t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return dt.Observable.of(this.value);case"E":return dt.Observable["throw"](this.error);case"C":return dt.Observable.empty()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",undefined,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",undefined),t}()},ne=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ie=function(t,e){return void 0===e&&(e=0),function(n){return n.lift(new se(t,e))}},se=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new oe(t,this.scheduler,this.delay))},t}(),re=se,oe=function(t){function e(e,n,i){void 0===i&&(i=0),t.call(this,e),this.scheduler=n,this.delay=i}return ne(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.add(this.scheduler.schedule(e.dispatch,this.delay,new ce(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(ee.Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(ee.Notification.createError(t))},e.prototype._complete=function(){this.scheduleMessage(ee.Notification.createComplete())},e}(st.Subscriber),ae=oe,ce=function(){return function(t,e){this.notification=t,this.destination=e}}(),le={observeOn:ie,ObserveOnOperator:re,ObserveOnSubscriber:ae,ObserveOnMessage:ce},ue=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},pe=(function(t){function e(e,n){t.call(this,null),this.ish=e,this.scheduler=n}ue(e,t),e.create=function(t,n){if(null!=t){if("function"==typeof t[ut.observable])return t instanceof dt.Observable&&!n?t:new e(t,n);if(K.isArray(t))return new Kt.ArrayObservable(t,n);if(ct.isPromise(t))return new qt.PromiseObservable(t,n);if("function"==typeof t[ft.iterator]||"string"==typeof t)return new Zt.IteratorObservable(t,n);if(at.isArrayLike(t))return new te.ArrayLikeObservable(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")},e.prototype._subscribe=function(t){var e=this.ish,n=this.scheduler;return null==n?e[ut.observable]().subscribe(t):e[ut.observable]().subscribe(new le.ObserveOnSubscriber(t,n,0))}}(dt.Observable),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),he=(function(t){function e(e,n,i,s){void 0===s&&(s=Number.POSITIVE_INFINITY),t.call(this,e),this.project=n,this.resultSelector=i,this.concurrent=s,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}pe(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){this.add(bt.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,i,s){this.resultSelector?this._notifyResultSelector(t,e,n,i):this.destination.next(e)},e.prototype._notifyResultSelector=function(t,e,n,i){var s;try{s=this.resultSelector(t,e,n,i)}catch(r){return void this.destination.error(r)}this.destination.next(s)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),de=(function(t){function e(e,n,i){t.call(this,e),this.predicate=n,this.source=i,this.count=0,this.index=0}he(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fe=(function(t){function e(e,n){t.call(this,e),this.durationSelector=n,this.hasValue=!1,this.durationSubscription=null}de(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(n){this.destination.error(n)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=bt.subscribeToResult(this,e)).closed||this.add(this.durationSubscription=n)},e.prototype.notifyNext=function(t,e,n,i,s){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),me=function(t,e){return void 0===e&&(e=At.async),function(n){return n.lift(new ye(t,e))}},ye=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new be(t,this.dueTime,this.scheduler))},t}(),be=function(t){function e(e,n,i){t.call(this,e),this.dueTime=n,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}return fe(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(x,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){this.clearDebounce(),this.hasValue&&(this.destination.next(this.lastValue),this.lastValue=null,this.hasValue=!1)},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(st.Subscriber),ve={debounceTime:me},ge=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Se=(function(t){function e(e,n){t.call(this,e),this.defaultValue=n,this.isEmpty=!0}ge(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),_e=(function(t){function e(e,n,i){t.call(this,e),this.delay=n,this.scheduler=i,this.queue=[],this.active=!1,this.errored=!1}Se(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,i=t.scheduler,s=t.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(s);if(n.length>0){var r=Math.max(0,n[0].time-i.now());this.schedule(t,r)}else e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new _e(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(ee.Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t)},e.prototype._complete=function(){this.scheduleNotification(ee.Notification.createComplete())}}(st.Subscriber),function(){return function(t,e){this.time=t,this.notification=e}}()),Te=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},we=(function(t){function e(e,n){t.call(this,e),this.delayDurationSelector=n,this.completed=!1,this.delayNotifierSubscriptions=[],this.values=[]}Te(e,t),e.prototype.notifyNext=function(t,e,n,i,s){this.destination.next(t),this.removeSubscription(s),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){try{var e=this.delayDurationSelector(t);e&&this.tryDelay(e,t)}catch(n){this.destination.error(n)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t),n=null;return-1!==e&&(n=this.values[e],this.delayNotifierSubscriptions.splice(e,1),this.values.splice(e,1)),n},e.prototype.tryDelay=function(t,e){var n=bt.subscribeToResult(this,t,e);n&&!n.closed&&(this.add(n),this.delayNotifierSubscriptions.push(n)),this.values.push(e)},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}(ot.OuterSubscriber),function(t){function e(e,n){t.call(this),this.source=e,this.subscriptionDelay=n}Te(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new we(t,this.source))}}(dt.Observable),function(t){function e(e,n){t.call(this),this.parent=e,this.source=n,this.sourceSubscribed=!1}return Te(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(st.Subscriber)),Ie=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Ae=(function(t){function e(e){t.call(this,e)}Ie(e,t),e.prototype._next=function(t){t.observe(this.destination)}}(st.Subscriber),{minimalSetImpl:O,Set:Z.root.Set||O()}),ke=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Ee=(function(t){function e(e,n,i){t.call(this,e),this.keySelector=n,this.values=new Ae.Set,i&&this.add(bt.subscribeToResult(this,i))}ke(e,t),e.prototype.notifyNext=function(t,e,n,i,s){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(i){return void n.error(i)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xe=(function(t){function e(e,n,i){t.call(this,e),this.keySelector=i,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}Ee(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=U.tryCatch(this.keySelector)(t))===V.errorObject)return this.destination.error(V.errorObject.e);var n=!1;if(this.hasKey){if((n=U.tryCatch(this.compare)(this.key,e))===V.errorObject)return this.destination.error(V.errorObject.e)}else this.hasKey=!0;!1===Boolean(n)&&(this.key=e,this.destination.next(t))}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Oe={ArgumentOutOfRangeError:function(t){function e(){var e=t.call(this,"argument out of range");this.name=e.name="ArgumentOutOfRangeError",this.stack=e.stack,this.message=e.message}return xe(e,t),e}(Error)},De=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Pe=(function(t){function e(e,n,i){t.call(this,e),this.index=n,this.defaultValue=i}De(e,t),e.prototype._next=function(t){0==this.index--&&(this.destination.next(t),this.destination.complete())},e.prototype._complete=function(){var t=this.destination;this.index>=0&&("undefined"!=typeof this.defaultValue?t.next(this.defaultValue):t.error(new Oe.ArgumentOutOfRangeError)),t.complete()}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ce=(function(t){function e(e,n,i,s){t.call(this,e),this.predicate=n,this.thisArg=i,this.source=s,this.index=0,this.thisArg=i||this}Pe(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Le=(function(t){function e(e){t.call(this,e),this.hasCompleted=!1,this.hasSubscription=!1}Ce(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(bt.subscribeToResult(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fe=(function(t){function e(e,n,i){t.call(this,e),this.project=n,this.resultSelector=i,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}Le(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e=this.index++,n=this.destination;try{var i=this.project(t,e);this.hasSubscription=!0,this.add(bt.subscribeToResult(this,i,t,e))}catch(s){n.error(s)}},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyNext=function(t,e,n,i,s){var r=this.resultSelector,o=this.destination;r?this.trySelectResult(t,e,n,i):o.next(e)},e.prototype.trySelectResult=function(t,e,n,i){var s=this.resultSelector,r=this.destination;try{var o=s(t,e,n,i);r.next(o)}catch(a){r.error(a)}},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Re=(function(t){function e(e,n,i,s){t.call(this,e),this.project=n,this.concurrent=i,this.scheduler=s,this.index=0,this.active=0,this.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(this.buffer=[])}Fe(e,t),e.dispatch=function(t){var e=t.subscriber,n=t.result,i=t.value,s=t.index;e.subscribeToProjection(n,i,s)},e.prototype._next=function(t){var n=this.destination;if(n.closed)this._complete();else{var i=this.index++;if(this.active<this.concurrent){n.next(t);var s=U.tryCatch(this.project)(t,i);if(s===V.errorObject)n.error(V.errorObject.e);else if(this.scheduler){var r={subscriber:this,result:s,value:t,index:i};this.add(this.scheduler.schedule(e.dispatch,0,r))}else this.subscribeToProjection(s,t,i)}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,n){this.active++,this.add(bt.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,i,s){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Me=(function(t){function e(e,n,i){t.call(this,e),this.predicate=n,this.thisArg=i,this.count=0}Re(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ne=(function(t){function e(e,n){t.call(this,e),this.add(new q.Subscription(n))}Me(e,t)}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),je=(function(t){function e(e,n,i,s,r){t.call(this,e),this.predicate=n,this.source=i,this.yieldIndex=s,this.thisArg=r,this.index=0}Ne(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){var e=this.predicate,n=this.thisArg,i=this.index++;try{e.call(n||this,t,i,this.source)&&this.notifyComplete(this.yieldIndex?i:t)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:undefined)}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ve={EmptyError:function(t){function e(){var e=t.call(this,"no elements in sequence");this.name=e.name="EmptyError",this.stack=e.stack,this.message=e.message}return je(e,t),e}(Error)},Ue=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Be=(function(t){function e(e,n,i,s,r){t.call(this,e),this.predicate=n,this.resultSelector=i,this.defaultValue=s,this.source=r,this.index=0,this.hasCompleted=!1,this._emitted=!1}Ue(e,t),e.prototype._next=function(t){var e=this.index++;this.predicate?this._tryPredicate(t,e):this._emit(t,e)},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(i){return void this.destination.error(i)}n&&this._emit(t,e)},e.prototype._emit=function(t,e){this.resultSelector?this._tryResultSelector(t,e):this._emitFinal(t)},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(i){return void this.destination.error(i)}this._emitFinal(n)},e.prototype._emitFinal=function(t){var e=this.destination;this._emitted||(this._emitted=!0,e.next(t),e.complete(),this.hasCompleted=!0)},e.prototype._complete=function(){var t=this.destination;this.hasCompleted||"undefined"==typeof this.defaultValue?this.hasCompleted||t.error(new Ve.EmptyError):(t.next(this.defaultValue),t.complete())}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ke={ObjectUnsubscribedError:function(t){function e(){var e=t.call(this,"object unsubscribed");this.name=e.name="ObjectUnsubscribedError",this.stack=e.stack,this.message=e.message}return Be(e,t),e}(Error)},$e=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ze={SubjectSubscription:function(t){function e(e,n){t.call(this),this.subject=e,this.subscriber=n,this.closed=!1}return $e(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(q.Subscription)},Ye=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},qe=function(t){function e(e){t.call(this,e),this.destination=e}return Ye(e,t),e}(st.Subscriber),Ge=qe,He=function(t){function e(){t.call(this),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}return Ye(e,t),e.prototype[X.rxSubscriber]=function(){return new qe(this)},e.prototype.lift=function(t){var e=new Je(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new Ke.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),s=0;s<n;s++)i[s].next(t)},e.prototype.error=function(t){if(this.closed)throw new Ke.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),s=0;s<n;s++)i[s].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new Ke.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new Ke.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new Ke.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),q.Subscription.EMPTY):this.isStopped?(t.complete(),q.Subscription.EMPTY):(this.observers.push(t),new ze.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new dt.Observable;return t.source=this,t},e.create=function(t,e){return new Je(t,e)},e}(dt.Observable),We=He,Je=function(t){function e(e,n){t.call(this),this.destination=e,this.source=n}return Ye(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):q.Subscription.EMPTY},e}(He),Qe={SubjectSubscriber:Ge,Subject:We,AnonymousSubject:Je},Ze={MapPolyfill:function(){function t(){this.size=0,this._values=[],this._keys=[]}return t.prototype.get=function(t){var e=this._keys.indexOf(t);return-1===e?undefined:this._values[e]},t.prototype.set=function(t,e){var n=this._keys.indexOf(t);return-1===n?(this._keys.push(t),this._values.push(e),this.size++):this._values[n]=e,this},t.prototype["delete"]=function(t){var e=this._keys.indexOf(t);return-1!==e&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this.size=0},t.prototype.forEach=function(t,e){for(var n=0;n<this.size;n++)t.call(e,this._values[n],this._keys[n])},t}()},Xe={Map:Z.root.Map||Ze.MapPolyfill},tn={FastMap:function(){function t(){this.values={}}return t.prototype["delete"]=function(t){return this.values[t]=null,!0},t.prototype.set=function(t,e){return this.values[t]=e,this},t.prototype.get=function(t){return this.values[t]},t.prototype.forEach=function(t,e){var n=this.values;for(var i in n)n.hasOwnProperty(i)&&null!==n[i]&&t.call(e,n[i],i)},t.prototype.clear=function(){this.values={}},t}()},en=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},nn=(function(t){function e(e,n,i,s,r){t.call(this,e),this.keySelector=n,this.elementSelector=i,this.durationSelector=s,this.subjectSelector=r,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}en(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)},e.prototype._group=function(t,e){var n=this.groups;n||(n=this.groups="string"==typeof e?new tn.FastMap:new Xe.Map);var i,s=n.get(e);if(this.elementSelector)try{i=this.elementSelector(t)}catch(a){this.error(a)}else i=t;if(!s){s=this.subjectSelector?this.subjectSelector():new Qe.Subject,n.set(e,s);var r=new sn(e,s,this);if(this.destination.next(r),this.durationSelector){var o=void 0;try{o=this.durationSelector(new sn(e,s))}catch(a){return void this.error(a)}this.add(o.subscribe(new nn(e,s,this)))}}s.closed||s.next(i)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,n){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups["delete"](t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))}}(st.Subscriber),function(t){function e(e,n,i){t.call(this,n),this.key=e,this.group=n,this.parent=i}return en(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(st.Subscriber)),sn=function(t){function e(e,n,i){t.call(this),this.key=e,this.groupSubject=n,this.refCountSubscription=i}return en(e,t),e.prototype._subscribe=function(t){var e=new q.Subscription,n=this.refCountSubscription,i=this.groupSubject;return n&&!n.closed&&e.add(new rn(n)),e.add(i.subscribe(t)),e},e}(dt.Observable),rn=function(t){function e(e){t.call(this),this.parent=e,e.count++}return en(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(q.Subscription),on=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},an=(function(t){function e(){t.apply(this,arguments)}on(e,t),e.prototype._next=function(t){pt.noop()}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),cn=(function(t){function e(e){t.call(this,e)}an(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ln=(function(t){function e(e,n,i,s,r){t.call(this,e),this.predicate=n,this.resultSelector=i,this.defaultValue=s,this.source=r,this.hasValue=!1,this.index=0,void 0!==s&&(this.lastValue=s,this.hasValue=!0)}cn(e,t),e.prototype._next=function(t){var e=this.index++;if(this.predicate)this._tryPredicate(t,e);else{if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryPredicate=function(t,e){var n;try{n=this.predicate(t,e,this.source)}catch(i){return void this.destination.error(i)}if(n){if(this.resultSelector)return void this._tryResultSelector(t,e);this.lastValue=t,this.hasValue=!0}},e.prototype._tryResultSelector=function(t,e){var n;try{n=this.resultSelector(t,e)}catch(i){return void this.destination.error(i)}this.lastValue=n,this.hasValue=!0},e.prototype._complete=function(){var t=this.destination;this.hasValue?(t.next(this.lastValue),t.complete()):t.error(new Ve.EmptyError)}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),un=(function(t){function e(e,n,i){t.call(this,e),this.project=n,this.count=0,this.thisArg=i||this}ln(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pn=(function(t){function e(e,n){t.call(this,e),this.value=n}un(e,t),e.prototype._next=function(t){this.destination.next(this.value)}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),hn=(function(t){function e(e){t.call(this,e)}pn(e,t),e.prototype._next=function(t){this.destination.next(ee.Notification.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(ee.Notification.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(ee.Notification.createComplete()),t.complete()}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),dn=(function(t){function e(e,n,i,s){t.call(this,e),this.accumulator=n,this._seed=i,this.hasSeed=s,this.index=0}hn(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fn=(function(t){function e(e,n){t.call(this,e),this.total=n,this.ring=new Array,this.count=0}dn(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,i=this.count++;if(e.length<n)e.push(t);else{e[i%n]=t}},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,s=0;s<n;s++){var r=e++%n;t.next(i[r])}t.complete()}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),mn=(function(t){function e(e,n,i,s){void 0===s&&(s=Number.POSITIVE_INFINITY),t.call(this,e),this.ish=n,this.resultSelector=i,this.concurrent=s,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}fn(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.resultSelector,n=this.index++,i=this.ish,s=this.destination;this.active++,this._innerSub(i,s,e,t,n)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n,i,s){this.add(bt.subscribeToResult(this,t,i,s))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,i,s){var r=this.resultSelector,o=this.destination;r?this.trySelectResult(t,e,n,i):o.next(e)},e.prototype.trySelectResult=function(t,e,n,i){var s,r=this.resultSelector,o=this.destination;try{s=r(t,e,n,i)}catch(a){return void o.error(a)}o.next(s)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),yn=(function(t){function e(e,n,i,s){t.call(this,e),this.accumulator=n,this.acc=i,this.concurrent=s,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}mn(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,n=U.tryCatch(this.accumulator)(this.acc,t),i=this.destination;n===V.errorObject?i.error(V.errorObject.e):(this.active++,this._innerSub(n,t,e))}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n){this.add(bt.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e.prototype.notifyNext=function(t,e,n,i,s){var r=this.destination;this.acc=e,this.hasValue=!0,r.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),bn=function(){return function(t){return t.lift(new vn(t))}},vn=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var i=new gn(t,n),s=e.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),gn=function(t){function e(e,n){t.call(this,e),this.connectable=n}return yn(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null},e}(st.Subscriber),Sn={refCount:bn},_n=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Tn=(function(t){function e(e,n){t.call(this),this.source=e,this.subjectFactory=n,this._refCount=0,this._isComplete=!1}_n(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new q.Subscription).add(this.source.subscribe(new Tn(this.getSubject(),this))),t.closed?(this._connection=null,t=q.Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return Sn.refCount()(this)}}(dt.Observable),function(t){function e(e,n){t.call(this,e),this.connectable=n}return _n(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(Qe.SubjectSubscriber)),wn=(function(t){function e(e,n){t.call(this,e),this.connectable=n}_n(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),In=(function(t){function e(e,n){t.call(this,e),this.destination=e,this.nextSources=n}wn(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource()},e.prototype._complete=function(){this.subscribeToNextSource()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();t?this.add(bt.subscribeToResult(this,t)):this.destination.complete()}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),An=(function(t){function e(e){t.call(this,e),this.hasPrev=!1}In(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),kn=(function(t){function e(e){t.call(this),this._value=e}An(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ke.ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)}}(Qe.Subject),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),En=(function(t){function e(){t.apply(this,arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}kn(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),q.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),q.Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)}}(Qe.Subject),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),xn={QueueAction:function(t){function e(e,n){t.call(this,e,n),this.scheduler=e,this.work=n}return En(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,i):e.flush(this)},e}(_t.AsyncAction)},On=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Dn=new({QueueScheduler:function(t){function e(){t.apply(this,arguments)}return On(e,t),e}(It.AsyncScheduler)}.QueueScheduler)(xn.QueueAction),Pn=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Cn=(function(t){function e(e,n,i){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY),t.call(this),this.scheduler=i,this._events=[],this._bufferSize=e<1?1:e,this._windowTime=n<1?1:n}Pn(e,t),e.prototype.next=function(e){var n=this._getNow();this._events.push(new Cn(n,e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._trimBufferThenGetEvents(),i=this.scheduler;if(this.closed)throw new Ke.ObjectUnsubscribedError;this.hasError?e=q.Subscription.EMPTY:this.isStopped?e=q.Subscription.EMPTY:(this.observers.push(t),e=new ze.SubjectSubscription(this,t)),i&&t.add(t=new le.ObserveOnSubscriber(t,i));for(var s=n.length,r=0;r<s&&!t.closed;r++)t.next(n[r].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||Dn).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,s=i.length,r=0;r<s&&!(t-i[r].time<n);)r++;return s>e&&(r=Math.max(r,s-e)),r>0&&i.splice(0,r),i}}(Qe.Subject),function(){return function(t,e){this.time=t,this.value=e}}()),Ln=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Fn=(function(t){function e(e){t.call(this,e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}Ln(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var i=t[n],s=bt.subscribeToResult(this,i,i,n);this.subscriptions&&this.subscriptions.push(s),this.add(s)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,i,s){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var o=this.subscriptions[r];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(e)}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Rn=(function(t){function e(e,n,i){t.call(this,e),this.count=n,this.source=i}Fn(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,n=this.count;if(0===n)return t.prototype.complete.call(this);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Mn=(function(t){function e(e,n,i){t.call(this,e),this.notifier=n,this.source=i,this.sourceIsBeingSubscribedTo=!0}Rn(e,t),e.prototype.notifyNext=function(t,e,n,i,s){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries){if(this.retriesSubscription.closed)return t.prototype.complete.call(this)}else this.subscribeToRetries();this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this.notifications,n=this.retries,i=this.retriesSubscription;return this.notifications=null,this.retries=null,this.retriesSubscription=null,t.prototype._unsubscribeAndRecycle.call(this),this.notifications=e,this.retries=n,this.retriesSubscription=i,this},e.prototype.subscribeToRetries=function(){this.notifications=new Qe.Subject;var e=U.tryCatch(this.notifier)(this.notifications);if(e===V.errorObject)return t.prototype.complete.call(this);this.retries=e,this.retriesSubscription=bt.subscribeToResult(this,e)}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Nn=(function(t){function e(e,n,i){t.call(this,e),this.count=n,this.source=i}Mn(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.source,i=this.count;if(0===i)return t.prototype.error.call(this,e);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),jn=(function(t){function e(e,n,i){t.call(this,e),this.notifier=n,this.source=i}Nn(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=null,this.retriesSubscription=null;else{if(n=new Qe.Subject,(i=U.tryCatch(this.notifier)(n))===V.errorObject)return t.prototype.error.call(this,V.errorObject.e);s=bt.subscribeToResult(this,i)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,n,i,s){var r=this.errors,o=this.retries,a=this.retriesSubscription;this.errors=null,this.retries=null,this.retriesSubscription=null,this._unsubscribeAndRecycle(),this.errors=r,this.retries=o,this.retriesSubscription=a,this.source.subscribe(this)}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Vn=(function(t){function e(){t.apply(this,arguments),this.hasValue=!1}jn(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,n,i,s){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Un=(function(t){function e(e,n,i){t.call(this,e),this.period=n,this.scheduler=i,this.hasValue=!1,this.add(i.schedule(D,n,{subscriber:this,period:n}))}Vn(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Bn=(function(t){function e(e,n,i){t.call(this,e),this.compareTo=n,this.comparor=i,this._a=[],this._b=[],this._oneComplete=!1,this.add(n.subscribe(new Bn(e,this)))}Un(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e.prototype.checkValues=function(){for(var t=this._a,e=this._b,n=this.comparor;t.length>0&&e.length>0;){var i=t.shift(),s=e.shift(),r=!1;n?(r=U.tryCatch(n)(i,s))===V.errorObject&&this.destination.error(V.errorObject.e):r=i===s,r||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())}}(st.Subscriber),function(t){function e(e,n){t.call(this,e),this.parent=n}return Un(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t)},e.prototype._complete=function(){this.parent._complete()},e}(st.Subscriber)),Kn=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},$n=(function(t){function e(e,n,i){t.call(this,e),this.predicate=n,this.source=i,this.seenValue=!1,this.index=0}Kn(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(n){this.destination.error(n)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:undefined),t.complete()):t.error(new Ve.EmptyError)}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),zn=(function(t){function e(e,n){t.call(this,e),this.total=n,this.count=0}$n(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Yn=(function(t){function e(e,n){t.call(this,e),this._skipCount=n,this._count=0,this._ring=new Array(n)}zn(e,t),e.prototype._next=function(t){var e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{var i=n%e,s=this._ring,r=s[i];s[i]=t,this.destination.next(r)}}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),qn=(function(t){function e(e,n){t.call(this,e),this.hasValue=!1,this.isInnerStopped=!1,this.add(bt.subscribeToResult(this,n))}Yn(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype._complete=function(){this.isInnerStopped?t.prototype._complete.call(this):this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,i,s){this.hasValue=!0},e.prototype.notifyComplete=function(){this.isInnerStopped=!0,this.isStopped&&t.prototype._complete.call(this)}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Gn=(function(t){function e(e,n){t.call(this,e),this.predicate=n,this.skipping=!0,this.index=0}qn(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(n){this.destination.error(n)}}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Hn=(function(t){function e(e,n,i){t.call(this,e),this.project=n,this.resultSelector=i,this.index=0}Gn(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var i=this.innerSubscription;i&&i.unsubscribe(),this.add(this.innerSubscription=bt.subscribeToResult(this,t,e,n))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,i,s){this.resultSelector?this._tryNotifyNext(t,e,n,i):this.destination.next(e)},e.prototype._tryNotifyNext=function(t,e,n,i){var s;try{s=this.resultSelector(t,e,n,i)}catch(r){return void this.destination.error(r)}this.destination.next(s)}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Wn=(function(t){function e(e,n,i){t.call(this,e),this.inner=n,this.resultSelector=i,this.index=0}Hn(e,t),e.prototype._next=function(t){var e=this.innerSubscription;e&&e.unsubscribe(),this.add(this.innerSubscription=bt.subscribeToResult(this,this.inner,t,this.index++))},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,i,s){var r=this.resultSelector,o=this.destination;r?this.tryResultSelector(t,e,n,i):o.next(e)},e.prototype.tryResultSelector=function(t,e,n,i){var s,r=this.resultSelector,o=this.destination;try{s=r(t,e,n,i)}catch(a){return void o.error(a)}o.next(s)}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Jn=(function(t){function e(e,n){t.call(this,e),this.total=n,this.count=0}Wn(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Qn=(function(t){function e(e,n){t.call(this,e),this.notifier=n,this.add(bt.subscribeToResult(this,n))}Jn(e,t),e.prototype.notifyNext=function(t,e,n,i,s){this.complete()},e.prototype.notifyComplete=function(){}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Zn=(function(t){function e(e,n){t.call(this,e),this.predicate=n,this.index=0}Qn(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(i){return void n.error(i)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):n.complete()}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Xn=(function(t){function e(e,n,i,s){t.call(this,e);var r=new st.Subscriber(n,i,s);r.syncErrorThrowable=!0,this.add(r),this.safeSubscriber=r}Zn(e,t),e.prototype._next=function(t){var e=this.safeSubscriber;e.next(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.next(t)},e.prototype._error=function(t){var e=this.safeSubscriber;e.error(t),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.error(t)},e.prototype._complete=function(){var t=this.safeSubscriber;t.complete(),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.complete()}}(st.Subscriber),v(function(t,e){var n=j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};e.defaultThrottleConfig={leading:!0,trailing:!1},e.throttle=function(t,n){return void 0===n&&(n=e.defaultThrottleConfig),function(e){return e.lift(new i(t,n.leading,n.trailing))}};var i=function(){function t(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.durationSelector,this.leading,this.trailing))},t}(),s=function(t){function e(e,n,i,s){t.call(this,e),this.destination=e,this.durationSelector=n,this._leading=i,this._trailing=s,this._hasTrailingValue=!1}return n(e,t),e.prototype._next=function(t){if(this.throttled)this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t);else{var e=this.tryDurationSelector(t);e&&this.add(this.throttled=bt.subscribeToResult(this,e)),this._leading&&(this.destination.next(t),this._trailing&&(this._hasTrailingValue=!0,this._trailingValue=t))}},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(e){return this.destination.error(e),null}},e.prototype._unsubscribe=function(){var t=this.throttled;this._trailingValue,this._hasTrailingValue,this._trailing;this._trailingValue=null,this._hasTrailingValue=!1,t&&(this.remove(t),this.throttled=null,t.unsubscribe())},e.prototype._sendTrailing=function(){var t=this.destination,e=this.throttled,n=this._trailing,i=this._trailingValue,s=this._hasTrailingValue;e&&n&&s&&(t.next(i),this._trailingValue=null,this._hasTrailingValue=!1)},e.prototype.notifyNext=function(t,e,n,i,s){this._sendTrailing(),this._unsubscribe()},e.prototype.notifyComplete=function(){this._sendTrailing(),this._unsubscribe()},e}(ot.OuterSubscriber)})),ti=(Xn.defaultThrottleConfig,Xn.throttle,j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ei=(function(t){function e(e,n,i,s,r){t.call(this,e),this.duration=n,this.scheduler=i,this.leading=s,this.trailing=r,this._hasTrailingValue=!1,this._trailingValue=null}ti(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(P,this.duration,{subscriber:this})),this.leading&&this.destination.next(t))},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ni=function(){return function(t,e){this.value=t,this.interval=e}}(),ii=(function(t){function e(e,n){t.call(this,e),this.scheduler=n,this.lastTime=0,this.lastTime=n.now()}ei(e,t),e.prototype._next=function(t){var e=this.scheduler.now(),n=e-this.lastTime;this.lastTime=e,this.destination.next(new ni(t,n))}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),si=(function(t){function e(){var e=t.call(this,"Timeout has occurred");this.name=e.name="TimeoutError",this.stack=e.stack,this.message=e.message}ii(e,t)}(Error),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ri=(function(t){function e(e,n,i,s,r){t.call(this,e),this.absoluteTimeout=n,this.waitFor=i,this.scheduler=s,this.errorInstance=r,this.action=null,this.scheduleTimeout()}si(e,t),e.dispatchTimeout=function(t){t.error(t.errorInstance)},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.errorInstance=null}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),oi=(function(t){function e(e,n,i,s,r){t.call(this,e),this.absoluteTimeout=n,this.waitFor=i,this.withObservable=s,this.scheduler=r,this.action=null,this.scheduleTimeout()}ri(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(bt.subscribeToResult(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ai=(function(t){function e(e){t.call(this,e),this.window=new Qe.Subject,e.next(this.window)}oi(e,t),e.prototype.notifyNext=function(t,e,n,i,s){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,n=this.window=new Qe.Subject;e.next(n)}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ci=(function(t){function e(e,n,i){t.call(this,e),this.destination=e,this.windowSize=n,this.startWindowEvery=i,this.windows=[new Qe.Subject],this.count=0,e.next(this.windows[0])}ai(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,i=this.windowSize,s=this.windows,r=s.length,o=0;o<r&&!this.closed;o++)s[o].next(t);var a=this.count-i+1;if(a>=0&&a%e==0&&!this.closed&&s.shift().complete(),++this.count%e==0&&!this.closed){var c=new Qe.Subject;s.push(c),n.next(c)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),li=function(t){function e(){t.apply(this,arguments),this._numberOfNextedValues=0}return ci(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Qe.Subject),ui=(function(t){function e(e,n,i,s,r){t.call(this,e),this.destination=e,this.windowTimeSpan=n,this.windowCreationInterval=i,this.maxWindowSize=s,this.scheduler=r,this.windows=[];var o=this.openWindow();if(null!==i&&i>=0){var a={subscriber:this,window:o,context:null},c={windowTimeSpan:n,windowCreationInterval:i,subscriber:this,scheduler:r};this.add(r.schedule(F,n,a)),this.add(r.schedule(L,i,c))}else{var l={subscriber:this,window:o,windowTimeSpan:n};this.add(r.schedule(C,n,l))}}ci(e,t),e.prototype._next=function(t){for(var e=this.windows,n=e.length,i=0;i<n;i++){var s=e[i];s.closed||(s.next(t),s.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(s))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new li;this.windows.push(t);return this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)}}(st.Subscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),pi=(function(t){function e(e,n,i){t.call(this,e),this.openings=n,this.closingSelector=i,this.contexts=[],this.add(this.openSubscription=bt.subscribeToResult(this,n,n))}ui(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var n=e.length,i=0;i<n;i++)e[i].window.next(t)},e.prototype._error=function(e){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var r=n[s];r.window.error(e),r.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,i=-1;++i<n;){var s=e[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,n=-1;++n<e;){var i=t[n];i.window.unsubscribe(),i.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,n,i,s){if(t===this.openings){var r=this.closingSelector,o=U.tryCatch(r)(e);if(o===V.errorObject)return this.error(V.errorObject.e);var a=new Qe.Subject,c=new q.Subscription,l={window:a,subscription:c};this.contexts.push(l);var u=bt.subscribeToResult(this,o,l);u.closed?this.closeWindow(this.contexts.length-1):(u.context=l,c.add(u)),this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,n=e[t],i=n.window,s=n.subscription;e.splice(t,1),i.complete(),s.unsubscribe()}}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),hi=(function(t){function e(e,n){t.call(this,e),this.destination=e,this.closingSelector=n,this.openWindow()}pi(e,t),e.prototype.notifyNext=function(t,e,n,i,s){this.openWindow(s)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var n=this.window=new Qe.Subject;this.destination.next(n);var i=U.tryCatch(this.closingSelector)();if(i===V.errorObject){var s=V.errorObject.e;this.destination.error(s),this.window.error(s)}else this.add(this.closingNotification=bt.subscribeToResult(this,i))}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),di=(function(t){function e(e,n,i){t.call(this,e),this.observables=n,this.project=i,this.toRespond=[];var s=n.length;this.values=new Array(s);for(r=0;r<s;r++)this.toRespond.push(r);for(var r=0;r<s;r++){var o=n[r];this.add(bt.subscribeToResult(this,o,o,r))}}hi(e,t),e.prototype.notifyNext=function(t,e,n,i,s){this.values[n]=e;var r=this.toRespond;if(r.length>0){var o=r.indexOf(n);-1!==o&&r.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}(ot.OuterSubscriber),j&&j.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),fi=(function(t){function e(e,n,i){void 0===i&&(i=Object.create(null)),t.call(this,e),this.iterators=[],this.active=0,this.project="function"==typeof n?n:null,this.values=i}di(e,t),e.prototype._next=function(t){var e=this.iterators;K.isArray(t)?e.push(new mi(t)):"function"==typeof t[ft.iterator]?e.push(new fi(t[ft.iterator]())):e.push(new yi(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(0!==e){this.active=e;for(var n=0;n<e;n++){var i=t[n];i.stillUnsubscribed?this.add(i.subscribe(i,n)):this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,i=0;i<e;i++){if("function"==typeof(o=t[i]).hasValue&&!o.hasValue())return}for(var s=!1,r=[],i=0;i<e;i++){var o=t[i],a=o.next();if(o.hasCompleted()&&(s=!0),a.done)return void n.complete();r.push(a.value)}this.project?this._tryProject(r):n.next(r),s&&n.complete()},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}(st.Subscriber),function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}()),mi=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[ft.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),yi=function(t){function e(e,n,i){t.call(this,e),this.parent=n,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}return di(e,t),e.prototype[ft.iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,i,s){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return bt.subscribeToResult(this,this.observable,this,e)},e}(ot.OuterSubscriber),bi=ve.debounceTime,vi=(Xn.throttle,function(){function t(t){var e=this;this.peopleProcessService=t,this.searchPeople=new n.EventEmitter,this.success=new n.EventEmitter,this.closeSearch=new n.EventEmitter,this.searchUser=new i.FormControl,this.users=[],this.searchUser.valueChanges.pipe(bi(200)).subscribe(function(t){t&&t.trim()?e.searchPeople.emit(t):e.users=[]})}return t.prototype.ngOnInit=function(){var t=this;this.results.subscribe(function(e){t.users=e})},t.prototype.onRowClick=function(t){this.selectedUser=t},t.prototype.closeSearchList=function(){this.closeSearch.emit()},t.prototype.involveUserAndClose=function(){this.involveUser(),this.closeSearchList()},t.prototype.involveUser=function(){var t=this;this.selectedUser!==undefined&&(this.success.emit(this.selectedUser),this.users=this.users.filter(function(e){return t.searchUser.reset(),e.id!==t.selectedUser.id}))},t.prototype.getDisplayUser=function(t,e,n){return void 0===n&&(n="-"),t=null!==t?t:"",e=null!==e?e:"",t+n+e},t.prototype.getInitialUserName=function(t,e){return t=null!==t&&""!==t?t[0]:"",e=null!==e&&""!==e?e[0]:"",this.getDisplayUser(t,e,"")},t.prototype.hasUsers=function(){return this.users&&this.users.length>0},t}());vi.decorators=[{type:n.Component,args:[{selector:"adf-people-search",template:'\n      <div class="search-text-header">\n          <ng-content select="[people-search-title]"></ng-content>\n      </div>\n      <mat-form-field class="search-text-container">\n      \t<input matInput placeholder="{{\'ADF_TASK_LIST.PEOPLE.SEARCH_USER\'|translate}}" type="text" id="userSearchText" [value]="" [formControl]="searchUser">\n      </mat-form-field>\n      <div class="search-list-container" id="search-people-list" *ngIf="hasUsers()">\n          <adf-people-list\n          [users]="users"\n          (clickRow)="onRowClick($event)">\n              <data-columns>\n                  <data-column key="firstName">\n                      <ng-template let-entry="$implicit">\n                              <div *ngIf="!entry.row.obj.pictureId" class="people-pic">\n                                  {{getInitialUserName(entry.row.obj.firstName, entry.row.obj.lastName)}}</div>\n                              <div>\n                                  <img *ngIf="entry.row.obj.pictureId" class="people-img"\n                                      [src]="peopleProcessService.getUserImage(entry.row.obj)"/>\n                              </div>\n                      </ng-template>\n                  </data-column>\n                  <data-column key="email" class="full-width">\n                      <ng-template let-entry="$implicit">\n                          <div class="people-full-name">{{ getDisplayUser(entry.row.obj.firstName, entry.row.obj.lastName, \' \') }}</div>\n                      </ng-template>\n                  </data-column>\n              </data-columns>\n          </adf-people-list>\n      </div>\n      <div class="search-list-action-container">\n          <button mat-button type="button" id="close-people-search" (click)="closeSearchList()">\n              {{\'ADF_TASK_LIST.PEOPLE.DIALOG_CLOSE\' | translate }}\n          </button>\n          <button mat-button type="button" id="add-people" (click)="involveUserAndClose()">\n              <ng-content select="[people-search-action-label]"></ng-content>\n          </button>\n      </div>\n    ',styles:["\n\n    "],host:{"class":"adf-people-search"},encapsulation:n.ViewEncapsulation.None}]}],vi.ctorParameters=function(){return[{type:r.PeopleProcessService}]},vi.propDecorators={results:[{type:n.Input}],searchPeople:[{type:n.Output}],success:[{type:n.Output}],closeSearch:[{type:n.Output}]};var gi=function(){return function(){}}();gi.decorators=[{type:n.Directive,args:[{selector:"people-search-title"}]}],gi.ctorParameters=function(){return[]};var Si=function(){return function(){}}();Si.decorators=[{type:n.Directive,args:[{selector:"people-search-action-label"}]}],Si.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _i=function(){function t(t,e){var n=this;this.logService=t,this.peopleProcessService=e,this.people=[],this.taskId="",this.readOnly=!1,this.showAssignment=!1,this.peopleSearch$=new l.Observable(function(t){return n.peopleSearchObserver=t}).share()}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){},t.prototype.involveUserAndCloseSearch=function(){this.peopleSearch&&this.peopleSearch.involveUserAndClose()},t.prototype.involveUserWithoutCloseSearch=function(){this.peopleSearch&&this.peopleSearch.involveUser()},t.prototype.searchUser=function(t){var e=this;this.peopleProcessService.getWorkflowUsers(this.taskId,t).subscribe(function(t){e.peopleSearchObserver.next(t)},function(t){return e.logService.error(t)})},t.prototype.involveUser=function(t){var e=this;this.peopleProcessService.involveUserWithTask(this.taskId,t.id.toString()).subscribe(function(){e.people=e.people.concat([t])},function(t){return e.logService.error("Impossible to involve user with task")})},t.prototype.removeInvolvedUser=function(t){var e=this;this.peopleProcessService.removeInvolvedUser(this.taskId,t.id.toString()).subscribe(function(){e.people=e.people.filter(function(e){return e.id!==t.id})},function(t){return e.logService.error("Impossible to remove involved user from task")})},t.prototype.getDisplayUser=function(t,e,n){return void 0===n&&(n="-"),t=null!==t?t:"",e=null!==e?e:"",t+n+e},t.prototype.getInitialUserName=function(t,e){return t=null!==t&&""!==t?t[0]:"",e=null!==e&&""!==e?e[0]:"",this.getDisplayUser(t,e,"")},t.prototype.onAddAssignement=function(){this.showAssignment=!0},t.prototype.onClickAction=function(t){"remove"===t.type&&this.removeInvolvedUser(t.value)},t.prototype.hasPeople=function(){return this.people&&this.people.length>0},t.prototype.isEditMode=function(){return!this.readOnly},t.prototype.onCloseSearch=function(){this.showAssignment=!1},t}();_i.decorators=[{type:n.Component,args:[{selector:"adf-people",template:'\n      <mat-card class="assignment-top-container">\n          <div mat-card-content class="assignment-top-container-content">\n              <div class="assignment-header">\n                      <div *ngIf="hasPeople()" class="assigment-count" id="people-title">\n                          {{ \'ADF_TASK_LIST.DETAILS.LABELS.PEOPLE\' | translate }} {{ \' (\' + people.length + \')\' }}\n                      </div>\n                      <div *ngIf="!hasPeople()" class="assigment-count" id="no-people-label">\n                          {{ \'ADF_TASK_LIST.DETAILS.PEOPLE.NONE\' | translate }}\n                      </div>\n                      <div *ngIf="isEditMode()" class="add-people" (click)="onAddAssignement()">\n                          <mat-icon class="adf-add-person-icon">person_add</mat-icon>\n                      </div>\n                  </div>\n                  <div class="assignment-container" *ngIf="showAssignment">\n                      <adf-people-search\n                      (searchPeople)="searchUser($event)"\n                      (success)="involveUser($event)"\n                      (closeSearch)="onCloseSearch()"\n                      [results]="peopleSearch$">\n                          <ng-container people-search-title>{{ \'ADF_TASK_LIST.DETAILS.LABELS.ADD_PEOPLE\' | translate }}</ng-container>\n                          <ng-container people-search-action-label>{{ \'ADF_TASK_LIST.PEOPLE.ADD_USER\' | translate }}</ng-container>\n                      </adf-people-search>\n                  </div>\n                  <div class="assignment-list-container" id="assignment-people-list" *ngIf="hasPeople()">\n                      <adf-people-list\n                      [users]="people"\n                      [actions]="isEditMode()"\n                      (clickAction)="onClickAction($event)">\n                          <data-columns>\n                              <data-column key="firstName">\n                                  <ng-template let-entry="$implicit">\n                                      <div *ngIf="!entry.row.obj.pictureId" class="adf-people-search-people-pic">\n                                          {{getInitialUserName(entry.row.obj.firstName, entry.row.obj.lastName)}}</div>\n                                      <div>\n                                          <img *ngIf="entry.row.obj.pictureId" class="people-img"\n                                              [src]="peopleProcessService.getUserImage(entry.row.obj)"/>\n                                      </div>\n                                  </ng-template>\n                              </data-column>\n                              <data-column key="email" class="full-width">\n                                  <ng-template let-entry="$implicit">\n                                      <div class="people-full-name">{{ getDisplayUser(entry.row.obj.firstName, entry.row.obj.lastName, \' \') }}</div>\n                                      <div class="people-email">{{ entry.row.obj.email }}</div>\n                                      <div class="people-edit-label">can edit</div>\n                                  </ng-template>\n                              </data-column>\n                          </data-columns>\n                      </adf-people-list>\n                  </div>\n          </div>\n      </mat-card>\n    ',styles:["\n\n    "]}]}],_i.ctorParameters=function(){return[{type:r.LogService},{type:r.PeopleProcessService}]},_i.propDecorators={people:[{type:n.Input}],taskId:[{type:n.Input}],readOnly:[{type:n.Input}],peopleSearch:[{type:n.ViewChild,args:[vi]}]};var Ti=function(){return function(t){this.type="",this.value={},this.type=t&&t.type,this.value=t&&t.value||{}}}(),wi=function(){function t(){this.actions=!1,this.clickRow=new n.EventEmitter,this.clickAction=new n.EventEmitter}return t.prototype.ngAfterContentInit=function(){this.peopleDataTable.columnList=this.columnList},t.prototype.ngAfterViewInit=function(){},t.prototype.selectUser=function(t){this.user=t.value.obj,this.clickRow.emit(this.user)},t.prototype.hasActions=function(){return this.actions},t.prototype.onShowRowActionsMenu=function(t){t.value.actions=[{title:"Remove",name:"remove"}]},t.prototype.onExecuteRowAction=function(t){var e=t.value,n=e.action;this.clickAction.emit(new Ti({type:n.name,value:e.row.obj}))},t}();wi.decorators=[{type:n.Component,args:[{selector:"adf-people-list",template:'\n      <adf-datatable\n          [rows]="users"\n          [actions]="hasActions()"\n          (rowClick)="selectUser($event)"\n          (rowDblClick)="selectUser($event)"\n          (showRowActionsMenu)="onShowRowActionsMenu($event)"\n          (executeRowAction)="onExecuteRowAction($event)">\n      </adf-datatable>\n    ',styles:["\n\n    "]}]}],wi.ctorParameters=function(){return[]},wi.propDecorators={columnList:[{type:n.ContentChild,args:[r.DataColumnListComponent]}],peopleDataTable:[{type:n.ViewChild,args:[r.DataTableComponent]}],users:[{type:n.Input}],actions:[{type:n.Input}],clickRow:[{type:n.Output}],clickAction:[{type:n.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ii=function(){return function(){}}();Ii.decorators=[{type:n.NgModule,args:[{imports:[i.FormsModule,i.ReactiveFormsModule,r.DataColumnModule,r.DataTableModule,M,e.CommonModule,c.TranslateModule],declarations:[_i,vi,gi,Si,wi],exports:[_i,vi,gi,Si,wi]}]}],Ii.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ai=function(){function t(t){var e=this;this.commentProcessService=t,this.readOnly=!0,this.error=new n.EventEmitter,this.comments=[],this.beingAdded=!1,this.comment$=new l.Observable(function(t){return e.commentObserver=t}).share(),this.comment$.subscribe(function(t){e.comments.push(t)})}return t.prototype.ngOnChanges=function(t){var e=t.processInstanceId;e&&(e.currentValue?this.getProcessInstanceComments(e.currentValue):this.resetComments())},t.prototype.getProcessInstanceComments=function(t){var e=this;this.resetComments(),t&&this.commentProcessService.getProcessInstanceComments(t).subscribe(function(t){(t=t.sort(function(t,e){var n=new Date(t.created),i=new Date(e.created);return n>i?-1:n<i?1:0})).forEach(function(t){e.commentObserver.next(t)})},function(t){e.error.emit(t)})},t.prototype.resetComments=function(){this.comments=[]},t.prototype.add=function(){var t=this;this.message&&this.message.trim()&&!this.beingAdded&&(this.beingAdded=!0,this.commentProcessService.addProcessInstanceComment(this.processInstanceId,this.message).subscribe(function(e){t.comments.unshift(e),t.message="",t.beingAdded=!1},function(e){t.error.emit(e),t.beingAdded=!1}))},t.prototype.clear=function(){this.message=""},t.prototype.isReadOnly=function(){return this.readOnly},t.prototype.onError=function(t){this.error.emit(t)},t}();Ai.decorators=[{type:n.Component,args:[{selector:"adf-process-instance-comments",template:'\n      <div class="adf-comments-container">\n          <div id="comment-header" class="adf-comments-header">\n              {{\'ADF_PROCESS_LIST.DETAILS.COMMENTS.HEADER\' | translate: { count: comments?.length} }}\n          </div>\n          <div class="adf-comments-input-container" *ngIf="!isReadOnly()">\n              <mat-form-field class="adf-full-width">\n                  <input matInput id="comment-input" placeholder="{{\'ADF_PROCESS_LIST.DETAILS.COMMENTS.ADD\' | translate}}" [(ngModel)]="message" (keyup.enter)="add()" (keyup.esc)="clear()">\n              </mat-form-field>\n          </div>\n\n          <div *ngIf="comments.length > 0">\n              <adf-comment-list [comments]="comments">\n              </adf-comment-list>\n          </div>\n      </div>\n    ',styles:["\n      :host {\n          width: 100%;\n      }\n\n      .activiti-label {\n          font-weight: bolder;\n          vertical-align: top;\n      }\n\n      .activiti-label + .icon {\n          position: relative;\n          top: -2px;\n      }\n\n      .list-wrap {\n          word-wrap: break-word;\n          word-break: break-all;\n          -webkit-hyphens:auto;\n          -o-hyphens:auto;\n          -ms-hyphens:auto;\n              hyphens:auto;\n      }\n\n      .hide-long-names {\n          overflow: auto;\n      }\n\n      .adf-comments-container {\n          height: 100%;\n          width: 100%;\n          overflow: auto;\n      }\n\n      .adf-comments-header {\n          padding: 10px 20px;\n          font-size: 14px;\n          font-weight: 600;\n          border-bottom: 1px solid #e1e1e1;\n          color: #a1a1a1;\n      }\n\n      .adf-comments-input-container {\n          padding: 0 15px;\n          width: calc(100% - 30px);\n          padding-top: 8px;\n          border-bottom: 1px solid #e1e1e1;\n      }\n\n      .adf-full-width {\n          width: 100%;\n      }\n\n      adf-comment-list {\n          float: left;\n          overflow: auto;\n          height: calc(100% - 101px);\n          width: 100%;\n      }\n    "]}]}],Ai.ctorParameters=function(){return[{type:r.CommentProcessService}]},Ai.propDecorators={processInstanceId:[{type:n.Input}],readOnly:[{type:n.Input}],error:[{type:n.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ki=function(){function t(t,e){this.datePipe=t,this.peopleProcessService=e,this.clickRow=new n.EventEmitter}return t.prototype.selectComment=function(t){this.selectedComment=t.value.obj,this.clickRow.emit(this.selectedComment)},t.prototype.getUserShortName=function(t){var e="";return t&&(t.firstName&&(e=t.firstName[0].toUpperCase()),t.lastName&&(e+=t.lastName[0].toUpperCase())),e},t.prototype.transformDate=function(t){var e,n=Number.parseInt(this.datePipe.transform(t,"yMMdd"));if(n===Number.parseInt(this.datePipe.transform(Date.now(),"yMMdd")))e="Today, "+this.datePipe.transform(t,"hh:mm a");else{e=n===Number.parseInt(this.datePipe.transform(Date.now()-864e5,"yMMdd"))?"Yesterday, "+this.datePipe.transform(t,"hh:mm a"):this.datePipe.transform(t,"MMM dd y, hh:mm a")}return e},t.prototype.hasComments=function(){return this.comments&&this.comments.length&&!0},t}();ki.decorators=[{type:n.Component,args:[{selector:"adf-comment-list",template:'\n      <adf-datatable\n          [rows]="comments"\n          (rowClick)="selectComment($event)" *ngIf="hasComments()">\n\n          <data-columns>\n              <data-column key="createdBy" title="{{\'ADF_TASK_LIST.DETAILS.COMMENTS.CREATED_BY_HEADER\' | translate }}">\n                  <ng-template let-entry="$implicit">\n                      <div id="comment-user-icon"\n                      class="adf-comment-img-container">\n                          <div\n                              *ngIf="!entry.row.obj.createdBy.pictureId" class="adf-comment-user-icon">\n                                  {{getUserShortName(entry.row.obj.createdBy)}}</div>\n                          <div>\n                              <img *ngIf="entry.row.obj.createdBy.pictureId" class="adf-people-img"\n                                  [src]="peopleProcessService.getUserImage(entry.row.obj.createdBy)"/>\n                          </div>\n                      </div>\n                  </ng-template>\n              </data-column>\n              <data-column key="message" title="{{\'ADF_TASK_LIST.DETAILS.COMMENTS.MESSAGE_HEADER\' | translate }}">\n                  <ng-template let-entry="$implicit">\n                      <div class="adf-comment-contents">\n                          <div id="comment-user" class="adf-comment-user-name">\n                              {{entry.row.obj.createdBy?.firstName}} {{entry.row.obj.createdBy?.lastName}}\n                          </div>\n                          <div id="comment-message" class="adf-comment-message">\n                              {{entry.row.obj.message}}\n                          </div>\n                          <div id="comment-time" class="adf-comment-message-time">\n                              {{transformDate(entry.row.obj.created)}}\n                          </div>\n                      </div>\n                  </ng-template>\n              </data-column>\n          </data-columns>\n\n      </adf-datatable>\n    ',styles:["\n\n    "]}]}],ki.ctorParameters=function(){return[{type:e.DatePipe},{type:r.PeopleProcessService}]},ki.propDecorators={comments:[{type:n.Input}],clickRow:[{type:n.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ei=function(){function t(t){var e=this;this.commentProcessService=t,this.readOnly=!1,this.error=new n.EventEmitter,this.comments=[],this.beingAdded=!1,this.comment$=new l.Observable(function(t){return e.commentObserver=t}).share(),this.comment$.subscribe(function(t){e.comments.push(t)})}return t.prototype.ngOnChanges=function(t){var e=t.taskId;e&&(e.currentValue?this.getTaskComments(e.currentValue):this.resetComments())},t.prototype.getTaskComments=function(t){var e=this;this.resetComments(),t&&this.commentProcessService.getTaskComments(t).subscribe(function(t){(t=t.sort(function(t,e){var n=new Date(t.created),i=new Date(e.created);return n>i?-1:n<i?1:0})).forEach(function(t){e.commentObserver.next(t)})},function(t){e.error.emit(t)})},t.prototype.resetComments=function(){this.comments=[]},t.prototype.add=function(){var t=this;this.message&&this.message.trim()&&!this.beingAdded&&(this.beingAdded=!0,this.commentProcessService.addTaskComment(this.taskId,this.message).subscribe(function(e){t.comments.unshift(e),t.message="",t.beingAdded=!1},function(e){t.error.emit(e),t.beingAdded=!1}))},t.prototype.clear=function(){this.message=""},t.prototype.isReadOnly=function(){return this.readOnly},t}();Ei.decorators=[{type:n.Component,args:[{selector:"adf-comments",template:'\n      <div class="adf-comments-container">\n          <div id="comment-header" class="adf-comments-header">\n              {{\'ADF_TASK_LIST.DETAILS.COMMENTS.HEADER\' | translate: { count: comments?.length} }}\n          </div>\n          <div class="adf-comments-input-container" *ngIf="!isReadOnly()">\n                  <mat-form-field class="adf-full-width">\n                      <input matInput id="comment-input" placeholder="{{\'ADF_TASK_LIST.DETAILS.COMMENTS.ADD\' | translate}}" [(ngModel)]="message" (keyup.enter)="add()" (keyup.esc)="clear()">\n                  </mat-form-field>\n          </div>\n\n          <div *ngIf="comments.length > 0">\n              <adf-comment-list [comments]="comments">\n              </adf-comment-list>\n          </div>\n      </div>\n    ',styles:["\n      .adf-comments-container {\n          height: 100%;\n          width: 100%;\n          overflow: auto;\n      }\n\n      .adf-comments-header {\n          padding: 10px 20px;\n          font-size: 14px;\n          font-weight: 600;\n          border-bottom: 1px solid #e1e1e1;\n          color: #a1a1a1;\n      }\n\n      .adf-comments-input-container {\n          padding: 0 15px;\n          width: calc(100% - 30px);\n          padding-top: 8px;\n          border-bottom: 1px solid #e1e1e1;\n      }\n\n      .adf-full-width {\n          width: 100%;\n      }\n\n      adf-comment-list {\n          float: left;\n          overflow: auto;\n          height: calc(100% - 101px);\n          width: 100%;\n      }\n    "]}]}],Ei.ctorParameters=function(){return[{type:r.CommentProcessService}]},Ei.propDecorators={taskId:[{type:n.Input}],readOnly:[{type:n.Input}],error:[{type:n.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xi=function(){return function(){}}();xi.decorators=[{type:n.NgModule,args:[{imports:[r.DataColumnModule,r.DataTableModule,i.FormsModule,i.ReactiveFormsModule,M,e.CommonModule,c.TranslateModule],declarations:[Ai,ki,Ei],exports:[Ai,ki,Ei]}]}],xi.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Oi=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.instanceApi=e,i}return R(e,t),e.prototype.getUploadPromise=function(t){var e=this,n=t.options.parentId,i=this.instanceApi.getInstance().activiti.contentApi.createRelatedContentOnTask(n,t.file,{isRelatedContent:!0});return i["catch"](function(t){return e.handleError(t)}),i},e.prototype.handleError=function(t){return l.Observable["throw"](t||"Server error")},e}(r.UploadService);Oi.decorators=[{type:n.Injectable}],Oi.ctorParameters=function(){return[{type:r.AlfrescoApiService},{type:r.AppConfigService}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Di=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.instanceApi=e,i}return R(e,t),e.prototype.getUploadPromise=function(t){var e=this,n=t.options.parentId,i=this.instanceApi.getInstance().activiti.contentApi.createRelatedContentOnProcessInstance(n,t.file,{isRelatedContent:!0});return i["catch"](function(t){return e.handleError(t)}),i},e.prototype.handleError=function(t){return l.Observable["throw"](t||"Server error")},e}(r.UploadService);Di.decorators=[{type:n.Injectable}],Di.ctorParameters=function(){return[{type:r.AlfrescoApiService},{type:r.AppConfigService}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Pi=function(){return function(t){t&&(this.defaultAppId=t.defaultAppId?t.defaultAppId:null,this.deploymentId=t.deploymentId?t.deploymentId:null,this.name=t.name?t.name:null,this.description=t.description?t.description:null,this.theme=t.theme?t.theme:null,this.icon=t.icon?t.icon:null,this.id=t.id?t.id:null,this.modelId=t.modelId?t.modelId:null,this.tenantId=t.tenantId?t.tenantId:null)}}(),Ci=function(){return function(t){t&&(this.id=t.id||null,this.name=t.name||null,this.index=t.index)}}(),Li=function(){function t(t){t&&(this.id=t.id||null,this.appId=t.appId||null,this.name=t.name||null,this.recent=!!t.recent,this.icon=t.icon||null,this.filter=new Fi(t.filter),this.index=t.index)}return t.prototype.hasFilter=function(){return!!this.filter},t}(),Fi=function(){return function(t){t&&(this.processDefinitionId=t.processDefinitionId||null,this.processDefinitionKey=t.processDefinitionKey||null,this.name=t.name||null,this.state=t.state||null,this.sort=t.sort||null,this.assignment=t.assignment||null,this.dueAfter=t.dueAfter||null,this.dueBefore=t.dueBefore||null)}}(),Ri=function(){return function(t){t&&(this.appDefinitionId=t.appDefinitionId||null,this.processInstanceId=t.processInstanceId||null,this.processDefinitionId=t.processDefinitionId||null,this.text=t.text||null,this.assignment=t.assignment||null,this.state=t.state||null,this.start=t.start||null,this.sort=t.sort||null,this.page=t.page||0,this.size=t.size||25)}}(),Mi=function(){return function(t,e){this.name=e,this.id=t}}(),Ni=function(){function t(t){this.processDefinitionVersion=0,t&&(this.id=t.id||null,this.name=t.name||null,this.priority=t.priority,this.assignee=t.assignee?new r.UserProcessModel(t.assignee):null,this.adhocTaskCanBeReassigned=t.adhocTaskCanBeReassigned,this.category=t.category||null,this.created=t.created||null,this.description=t.description||null,this.dueDate=t.dueDate||null,this.duration=t.duration||null,this.endDate=t.endDate||null,this.executionId=t.executionId||null,this.formKey=t.formKey||null,this.initiatorCanCompleteTask=!!t.initiatorCanCompleteTask,this.managerOfCandidateGroup=!!t.managerOfCandidateGroup,this.memberOfCandidateGroup=!!t.memberOfCandidateGroup,this.memberOfCandidateUsers=!!t.memberOfCandidateUsers,this.involvedGroups=t.involvedGroups,this.involvedPeople=t.involvedPeople,this.parentTaskId=t.parentTaskId||null,this.parentTaskName=t.parentTaskName||null,this.processDefinitionCategory=t.processDefinitionCategory||null,this.processDefinitionDeploymentId=t.processDefinitionDeploymentId||null,this.processDefinitionDescription=t.processDefinitionDescription||null,this.processDefinitionId=t.processDefinitionId||null,this.processDefinitionKey=t.processDefinitionKey||null,this.processDefinitionName=t.processDefinitionName||null,this.processDefinitionVersion=t.processDefinitionVersion||0,this.processInstanceId=t.processInstanceId||null,this.processInstanceName=t.processInstanceName||null,this.processInstanceStartUserId=t.processInstanceStartUserId||null,this.taskDefinitionKey=t.taskDefinitionKey||null)}return t.prototype.getFullName=function(){var t="";if(this.assignee){t=(this.assignee.firstName?this.assignee.firstName:"")+" "+(this.assignee.lastName?this.assignee.lastName:"")}return t.trim()},t.prototype.isCompleted=function(){return!!this.endDate},t}(),ji=function(){function t(t,e){this.apiService=t,this.logService=e,this.tasksListSubject=new p.Subject,this.tasksList$=this.tasksListSubject.asObservable()}return t.prototype.getFilterForTaskById=function(t,e){var n=this;return l.Observable.from(e).flatMap(function(e){return n.isTaskRelatedToFilter(t,e)}).filter(function(t){return null!=t})},t.prototype.generateTaskRequestNodeFromFilter=function(t){var e={appDefinitionId:t.appId,assignment:t.filter.assignment,state:t.filter.state,sort:t.filter.sort};return new Ri(e)},t.prototype.isTaskRelatedToFilter=function(t,e){var n=this,i=this.generateTaskRequestNodeFromFilter(e);return l.Observable.fromPromise(this.callApiTasksFiltered(i)).map(function(n){return n.data.find(function(e){return e.id===t})?e:null})["catch"](function(t){return n.handleError(t)})},t.prototype.getTasks=function(t){var e=this;return l.Observable.fromPromise(this.callApiTasksFiltered(t)).map(function(t){return e.tasksListSubject.next(t),t})["catch"](function(t){return e.handleError(t)})},t.prototype.findTasksByState=function(t,e){return e&&(t.state=e),this.getTasks(t)},t.prototype.findAllTaskByState=function(t,e){var n=this;return e&&(t.state=e),this.getTotalTasks(t).switchMap(function(e){return t.size=e.total,n.getTasks(t)})},t.prototype.findAllTasksWithoutState=function(t){var e=this;return l.Observable.forkJoin(this.findTasksByState(t,"open"),this.findAllTaskByState(t,"completed"),function(t,n){var i=Object.assign({},t);return i.total+=n.total,i.data=i.data.concat(n.data),e.tasksListSubject.next(i),i})},t.prototype.getTaskDetails=function(t){var e=this;return l.Observable.fromPromise(this.callApiTaskDetails(t)).map(function(t){return t}).map(function(t){return new Ni(t)})["catch"](function(t){return e.handleError(t)})},t.prototype.getTaskChecklist=function(t){var e=this;return l.Observable.fromPromise(this.callApiTaskChecklist(t)).map(function(t){return t}).map(function(t){var e=[];return t.data.forEach(function(t){e.push(new Ni(t))}),e})["catch"](function(t){return e.handleError(t)})},t.prototype.getFormList=function(){var t=this;return l.Observable.fromPromise(this.apiService.getInstance().activiti.modelsApi.getModels({filter:"myReusableForms",sort:"modifiedDesc",modelType:2})).map(function(t){return t}).map(function(t){var e=[];return t.data.forEach(function(t){e.push(new Mi(t.id,t.name))}),e})["catch"](function(e){return t.handleError(e)})},t.prototype.attachFormToATask=function(t,e){var n=this;return l.Observable.fromPromise(this.apiService.getInstance().activiti.taskApi.attachForm(t,{formId:e}))["catch"](function(t){return n.handleError(t)})},t.prototype.addTask=function(t){var e=this;return l.Observable.fromPromise(this.callApiAddTask(t)).map(function(t){return t}).map(function(t){return new Ni(t)})["catch"](function(t){return e.handleError(t)})},t.prototype.deleteTask=function(t){var e=this;return l.Observable.fromPromise(this.callApiDeleteTask(t))["catch"](function(t){return e.handleError(t)})},t.prototype.completeTask=function(t){var e=this;return l.Observable.fromPromise(this.apiService.getInstance().activiti.taskApi.completeTask(t)).map(function(t){return t})["catch"](function(t){return e.handleError(t)})},t.prototype.getTotalTasks=function(t){var e=this;return t.size=0,l.Observable.fromPromise(this.callApiTasksFiltered(t)).map(function(t){return t})["catch"](function(t){return e.handleError(t)})},t.prototype.createNewTask=function(t){var e=this;return l.Observable.fromPromise(this.callApiCreateTask(t)).map(function(t){return t}).map(function(t){return new Ni(t)})["catch"](function(t){return e.handleError(t)})},t.prototype.assignTask=function(t,e){var n=this,i={assignee:e.id};return l.Observable.fromPromise(this.callApiAssignTask(t,i)).map(function(t){return t}).map(function(t){return new Ni(t)})["catch"](function(t){return n.handleError(t)})},t.prototype.assignTaskByUserId=function(t,e){var n=this,i={assignee:e};return l.Observable.fromPromise(this.callApiAssignTask(t,i)).map(function(t){return t}).map(function(t){return new Ni(t)})["catch"](function(t){return n.handleError(t)})},t.prototype.claimTask=function(t){var e=this;return l.Observable.fromPromise(this.apiService.getInstance().activiti.taskApi.claimTask(t))["catch"](function(t){return e.handleError(t)})},t.prototype.unclaimTask=function(t){var e=this;return l.Observable.fromPromise(this.apiService.getInstance().activiti.taskApi.unclaimTask(t))["catch"](function(t){return e.handleError(t)})},t.prototype.updateTask=function(t,e){var n=this;return l.Observable.fromPromise(this.apiService.getInstance().activiti.taskApi.updateTask(t,e))["catch"](function(t){return n.handleError(t)})},t.prototype.fetchTaskAuditPdfById=function(t){var e=this;return l.Observable.fromPromise(this.apiService.getInstance().activiti.taskApi.getTaskAuditPdf(t))["catch"](function(t){return e.handleError(t)})},t.prototype.fetchTaskAuditJsonById=function(t){var e=this;return l.Observable.fromPromise(this.apiService.getInstance().activiti.taskApi.getTaskAuditJson(t))["catch"](function(t){return e.handleError(t)})},t.prototype.callApiTasksFiltered=function(t){return this.apiService.getInstance().activiti.taskApi.listTasks(t)},t.prototype.callApiTaskDetails=function(t){return this.apiService.getInstance().activiti.taskApi.getTask(t)},t.prototype.callApiAddTask=function(t){return this.apiService.getInstance().activiti.taskApi.addSubtask(t.parentTaskId,t)},t.prototype.callApiDeleteTask=function(t){return this.apiService.getInstance().activiti.taskApi.deleteTask(t)},t.prototype.callApiTaskChecklist=function(t){return this.apiService.getInstance().activiti.taskApi.getChecklist(t)},t.prototype.callApiCreateTask=function(t){return this.apiService.getInstance().activiti.taskApi.createNewTask(t)},t.prototype.callApiAssignTask=function(t,e){return this.apiService.getInstance().activiti.taskApi.assignTask(t,e)},t.prototype.handleError=function(t){return this.logService.error(t),this.tasksListSubject.error(t),l.Observable["throw"](t||"Server error")},t}();ji.decorators=[{type:n.Injectable}],ji.ctorParameters=function(){return[{type:r.AlfrescoApiService},{type:r.LogService}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Vi=function(){function t(t,e){this.apiService=t,this.logService=e,this.tasksListSubject=new p.Subject,this.tasksList$=this.tasksListSubject.asObservable()}return t.prototype.createDefaultFilters=function(t){var e=this,n=this.getInvolvedTasksFilterInstance(t),i=this.addFilter(n),s=this.getMyTasksFilterInstance(t),r=this.addFilter(s),o=this.getQueuedTasksFilterInstance(t),a=this.addFilter(o),c=this.getCompletedTasksFilterInstance(t),u=this.addFilter(c);return l.Observable.create(function(t){l.Observable.forkJoin(i,r,a,u).subscribe(function(e){var i=[];e.forEach(function(t){t.name===n.name?i.push(n):t.name===s.name?i.push(s):t.name===o.name?i.push(o):t.name===c.name&&i.push(c)}),t.next(i),t.complete()},function(t){e.logService.error(t)})})},t.prototype.getTaskListFilters=function(t){var e=this;return l.Observable.fromPromise(this.callApiTaskFilters(t)).map(function(t){var e=[];return t.data.forEach(function(t){var n=new Li(t);e.push(n)}),e})["catch"](function(t){return e.handleError(t)})},t.prototype.getTaskFilterById=function(t,e){var n=this;return l.Observable.fromPromise(this.callApiTaskFilters(e)).map(function(e){return e.data.find(function(e){return e.id===t})})["catch"](function(t){return n.handleError(t)})},t.prototype.getTaskFilterByName=function(t,e){var n=this;return l.Observable.fromPromise(this.callApiTaskFilters(e)).map(function(e){return e.data.find(function(e){return e.name===t})})["catch"](function(t){return n.handleError(t)})},t.prototype.addFilter=function(t){var e=this;return l.Observable.fromPromise(this.apiService.getInstance().activiti.userFiltersApi.createUserTaskFilter(t)).map(function(t){return t}).map(function(t){return t})["catch"](function(t){return e.handleError(t)})},t.prototype.callApiTaskFilters=function(t){return t?this.apiService.getInstance().activiti.userFiltersApi.getUserTaskFilters({appId:t}):this.apiService.getInstance().activiti.userFiltersApi.getUserTaskFilters()},t.prototype.getInvolvedTasksFilterInstance=function(t){return new Li({name:"Involved Tasks",appId:t,recent:!1,icon:"glyphicon-align-left",filter:{sort:"created-desc",name:"",state:"open",assignment:"involved"}})},t.prototype.getMyTasksFilterInstance=function(t){return new Li({name:"My Tasks",appId:t,recent:!1,icon:"glyphicon-inbox",filter:{sort:"created-desc",name:"",state:"open",assignment:"assignee"}})},t.prototype.getQueuedTasksFilterInstance=function(t){return new Li({name:"Queued Tasks",appId:t,recent:!1,icon:"glyphicon-record",filter:{sort:"created-desc",name:"",state:"open",assignment:"candidate"}})},t.prototype.getCompletedTasksFilterInstance=function(t){return new Li({name:"Completed Tasks",appId:t,recent:!0,icon:"glyphicon-ok-sign",filter:{sort:"created-desc",name:"",state:"completed",assignment:"involved"}})},t.prototype.handleError=function(t){return this.logService.error(t),this.tasksListSubject.error(t),l.Observable["throw"](t||"Server error")},t}();Vi.decorators=[{type:n.Injectable}],Vi.ctorParameters=function(){return[{type:r.AlfrescoApiService},{type:r.LogService}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ui=function(){function t(t,e){var i=this;this.activitiTaskList=t,this.dialog=e,this.readOnly=!1,this.checklistTaskCreated=new n.EventEmitter,this.checklistTaskDeleted=new n.EventEmitter,this.error=new n.EventEmitter,this.checklist=[],this.task$=new l.Observable(function(t){return i.taskObserver=t}).share()}return t.prototype.ngOnInit=function(){var t=this;this.task$.subscribe(function(e){t.checklist.push(e)})},t.prototype.ngOnChanges=function(t){var e=t.taskId;e&&e.currentValue&&this.getTaskChecklist(e.currentValue)},t.prototype.getTaskChecklist=function(t){var e=this;this.checklist=[],this.taskId?this.activitiTaskList.getTaskChecklist(this.taskId).subscribe(function(t){t.forEach(function(t){e.taskObserver.next(t)})},function(t){e.error.emit(t)}):this.checklist=[]},t.prototype.showDialog=function(){this.dialog.open(this.addNewDialog,{width:"350px"})},t.prototype.add=function(){var t=this,e=new Ni({name:this.taskName,parentTaskId:this.taskId,assignee:{id:this.assignee}});this.activitiTaskList.addTask(e).subscribe(function(e){t.checklist.push(e),t.checklistTaskCreated.emit(e),t.taskName=""},function(e){t.error.emit(e)}),this.cancel()},t.prototype["delete"]=function(t){var e=this;this.activitiTaskList.deleteTask(t).subscribe(function(){e.checklist=e.checklist.filter(function(e){return e.id!==t}),e.checklistTaskDeleted.emit(t)},function(t){e.error.emit(t)})},t.prototype.cancel=function(){this.dialog.closeAll(),this.taskName=""},t}();Ui.decorators=[{type:n.Component,args:[{selector:"adf-checklist",template:'\n      <div class="adf-checklist-control">\n          <mat-chip-list id="checklist-label">\n              <span class="activiti-label">{{ \'ADF_TASK_LIST.DETAILS.LABELS.CHECKLIST\' | translate }}</span>\n              <mat-chip class="adf-process-badge" color="accent" selected="true">{{checklist?.length}}</mat-chip>\n          </mat-chip-list>\n\n\n          <button mat-icon-button *ngIf="!readOnly" matTooltip="Add a checklist" [matTooltipPosition]="\'before\'" id="add-checklist" class="adf-add-to-checklist-button" (click)="showDialog()">\n              <mat-icon>add</mat-icon>\n          </button>\n      </div>\n\n      <div class="adf-checklist-menu-container" *ngIf="checklist?.length > 0">\n          <mat-chip-list class="mat-chip-list-stacked">\n              <mat-chip id="check-{{check.id}}" class="adf-checklist-chip" *ngFor="let check of checklist">\n                  <span>{{check.name}}</span>\n                  <button  *ngIf="!readOnly" mat-icon-button type="button" class="adf-checklist-cancel-button" (click)="delete(check.id)">\n                      <mat-icon id="remove-{{check.id}}" matChipRemove>cancel</mat-icon>\n                  </button>\n              </mat-chip>\n          </mat-chip-list>\n\n      </div>\n      <div *ngIf="checklist?.length === 0" id="checklist-none-message">\n          {{ \'ADF_TASK_LIST.DETAILS.CHECKLIST.NONE\' | translate }}\n      </div>\n\n      <ng-template #dialog>\n          <div class="adf-checklist-dialog" id="checklist-dialog">\n              <h4 matDialogTitle id="add-checklist-title">New Check</h4>\n              <mat-dialog-content>\n                  <mat-form-field>\n                      <input matInput placeholder="Name" [(ngModel)]="taskName" id="checklist-name"  data-automation-id="checklist-name">\n                  </mat-form-field>\n              </mat-dialog-content>\n              <mat-dialog-actions class="adf-checklist-dialog-actions">\n                  <button mat-button type="button" id="close-check-dialog" (click)="cancel()">Cancel</button>\n                  <button mat-button type="button" id="add-check" (click)="add()">Add Checklist</button>\n              </mat-dialog-actions>\n          </div>\n      </ng-template>\n    ',styles:["\n      :host {\n        width: 100%; }\n\n      .activiti-label {\n        font-weight: bolder; }\n\n      .mat-form-field {\n        width: 100%; }\n\n      .adf-checklist-cancel-button {\n        margin-top: -13px;\n        margin-right: -13px;\n        float: right; }\n\n      .adf-checklist-chip {\n        outline: none; }\n\n      .adf-checklist-menu-container {\n        margin-top: 10px; }\n\n      #checklist-none-message {\n        margin-top: 10px;\n        color: rgba(0, 0, 0, 0.5); }\n\n      .adf-checklist-control {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: justify;\n            -ms-flex-pack: justify;\n                justify-content: space-between; }\n        .adf-checklist-control .activiti-label {\n          margin-top: 6px;\n          margin-right: 10px; }\n        .adf-checklist-control .adf-add-to-checklist-button {\n          float: right; }\n\n      .adf-checklist-dialog-actions {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: end;\n            -ms-flex-pack: end;\n                justify-content: flex-end; }\n    "],providers:[ji]}]}],Ui.ctorParameters=function(){return[{type:ji},{type:o.MatDialog}]},Ui.propDecorators={taskId:[{type:n.Input}],readOnly:[{type:n.Input}],assignee:[{type:n.Input}],checklistTaskCreated:[{type:n.Output}],checklistTaskDeleted:[{type:n.Output}],error:[{type:n.Output}],addNewDialog:[{type:n.ViewChild,args:["dialog"]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Bi=function(){function t(t,e,i,s,r,o){var a=this;this.taskListService=t,this.authService=e,this.peopleProcessService=i,this.logService=s,this.cardViewUpdateService=r,this.dialog=o,this.debugMode=!1,this.showNextTask=!0,this.showHeader=!0,this.showHeaderContent=!0,this.showInvolvePeople=!0,this.showComments=!0,this.showChecklist=!0,this.showFormTitle=!0,this.showFormCompleteButton=!0,this.showFormSaveButton=!0,this.readOnlyForm=!1,this.showFormRefreshButton=!0,this.fieldValidators=[],this.formSaved=new n.EventEmitter,this.formCompleted=new n.EventEmitter,this.formContentClicked=new n.EventEmitter,this.formLoaded=new n.EventEmitter,this.taskCreated=new n.EventEmitter,this.taskDeleted=new n.EventEmitter,this.error=new n.EventEmitter,this.executeOutcome=new n.EventEmitter,this.assignTask=new n.EventEmitter,this.taskFormName=null,this.taskPeople=[],this.showAssignee=!1,this.peopleSearch$=new l.Observable(function(t){return a.peopleSearchObserver=t}).share()}return t.prototype.ngOnInit=function(){this.taskId&&this.loadDetails(this.taskId),this.cardViewUpdateService.itemUpdated$.subscribe(this.updateTaskDetails.bind(this)),this.cardViewUpdateService.itemClicked$.subscribe(this.clickTaskDetails.bind(this))},t.prototype.ngOnChanges=function(t){var e=t.taskId;this.showAssignee=!1,e&&!e.currentValue?this.reset():e&&e.currentValue&&(this.taskFormName=null,this.loadDetails(e.currentValue))},t.prototype.reset=function(){this.taskDetails=null},t.prototype.hasFormKey=function(){return this.taskDetails&&this.taskDetails.formKey&&"null"!==this.taskDetails.formKey},t.prototype.isTaskActive=function(){return this.taskDetails&&null===this.taskDetails.duration},t.prototype.updateTaskDetails=function(t){var e=this;this.taskListService.updateTask(this.taskId,t.changed).subscribe(function(){e.loadDetails(e.taskId)})},t.prototype.clickTaskDetails=function(t){"assignee"===t.target.key&&(this.showAssignee=!0)},t.prototype.loadDetails=function(t){var e=this;this.taskPeople=[],this.readOnlyForm=!1,t&&this.taskListService.getTaskDetails(t).subscribe(function(t){e.taskDetails=t,"null"===e.taskDetails.name&&(e.taskDetails.name="No name");var n=t.endDate;e.readOnlyForm=e.readOnlyForm?e.readOnlyForm:!(!n||isNaN(n.getTime())),e.taskDetails&&e.taskDetails.involvedPeople&&e.taskDetails.involvedPeople.forEach(function(t){e.taskPeople.push(new r.UserProcessModel(t))})})},t.prototype.isAssigned=function(){return!!this.taskDetails.assignee},t.prototype.isAssignedToMe=function(){return this.taskDetails.assignee.email===this.authService.getBpmUsername()},t.prototype.loadNextTask=function(t,e){var n=this,i=new Ri({processInstanceId:t,processDefinitionId:e});this.taskListService.getTasks(i).subscribe(function(t){t&&t.length>0?n.taskDetails=new Ni(t[0]):n.reset()},function(t){n.error.emit(t)})},t.prototype.onComplete=function(){var t=this;this.taskListService.completeTask(this.taskId).subscribe(function(e){return t.onFormCompleted(null)})},t.prototype.onFormContentClick=function(t){this.formContentClicked.emit(t)},t.prototype.onFormSaved=function(t){this.formSaved.emit(t)},t.prototype.onFormCompleted=function(t){this.formCompleted.emit(t),this.showNextTask&&(this.taskDetails.processInstanceId||this.taskDetails.processDefinitionId)&&this.loadNextTask(this.taskDetails.processInstanceId,this.taskDetails.processDefinitionId)},t.prototype.onFormLoaded=function(t){this.taskFormName=t&&t.name?t.name:null,this.formLoaded.emit(t)},t.prototype.onChecklistTaskCreated=function(t){this.taskCreated.emit(t)},t.prototype.onChecklistTaskDeleted=function(t){this.taskDeleted.emit(t)},t.prototype.onFormError=function(t){this.errorDialogRef=this.dialog.open(this.errorDialog,{width:"500px"}),this.error.emit(t)},t.prototype.onFormExecuteOutcome=function(t){this.executeOutcome.emit(t)},t.prototype.closeErrorDialog=function(){this.dialog.closeAll()},t.prototype.onClaimAction=function(t){this.loadDetails(t)},t.prototype.toggleHeaderContent=function(){this.showHeaderContent=!this.showHeaderContent},t.prototype.isCompletedTask=function(){return!(!this.taskDetails||!this.taskDetails.endDate)||undefined},t.prototype.searchUser=function(t){var e=this;this.peopleProcessService.getWorkflowUsers(null,t).subscribe(function(t){t=t.filter(function(t){return t.id!==e.taskDetails.assignee.id}),e.peopleSearchObserver.next(t)},function(t){return e.logService.error("Could not load users")})},t.prototype.onCloseSearch=function(){this.showAssignee=!1},t.prototype.assignTaskToUser=function(t){var e=this;this.taskListService.assignTask(this.taskDetails.id,t).subscribe(function(n){e.logService.info("Task Assigned to "+t.email),e.assignTask.emit()}),this.showAssignee=!1},t.prototype.getTaskHeaderViewClass=function(){return this.showAssignee?"assign-edit-view":"default-view"},t.prototype.isReadOnlyComment=function(){return this.taskDetails&&this.taskDetails.isCompleted()&&this.taskPeople&&0===this.taskPeople.length},t}();Bi.decorators=[{type:n.Component,args:[{selector:"adf-task-details",template:'\n      <div *ngIf="!taskDetails">\n          <ng-template *ngIf="noTaskDetailsTemplateComponent" ngFor [ngForOf]="[data]"\n                       [ngForTemplate]="noTaskDetailsTemplateComponent">\n              {{ \'ADF_TASK_LIST.DETAILS.MESSAGES.NONE\' | translate }}\n          </ng-template>\n          <div *ngIf="!noTaskDetailsTemplateComponent">\n              {{ \'ADF_TASK_LIST.DETAILS.MESSAGES.NONE\' | translate }}\n          </div>\n      </div>\n      <div *ngIf="taskDetails" class="adf-task-details">\n\n          <div *ngIf="showHeader" class="adf-task-details-header">\n              <h2 class="activiti-task-details__header">\n                  <span>{{taskDetails.name || \'No name\'}}</span>\n              </h2>\n          </div>\n\n          <div class="adf-task-details-core"\n              fxLayout="column"\n              fxLayoutGap="8px"\n              fxLayout.lt-lg="column">\n\n              <div class="adf-task-details-core-form">\n                  <div *ngIf="isAssigned()">\n                      <adf-form *ngIf="hasFormKey()" #activitiForm\n                                [showDebugButton]="debugMode"\n                                [taskId]="taskDetails.id"\n                                [showTitle]="showFormTitle"\n                                [showRefreshButton]="showFormRefreshButton"\n                                [showCompleteButton]="showFormCompleteButton"\n                                [disableCompleteButton]="!isAssignedToMe()"\n                                [showSaveButton]="showFormSaveButton"\n                                [readOnly]="readOnlyForm"\n                                [fieldValidators]="fieldValidators"\n                                (formSaved)=\'onFormSaved($event)\'\n                                (formCompleted)=\'onFormCompleted($event)\'\n                                (formContentClicked)=\'onFormContentClick($event)\'\n                                (formLoaded)=\'onFormLoaded($event)\'\n                                (error)=\'onFormError($event)\'\n                                (executeOutcome)=\'onFormExecuteOutcome($event)\'>\n                          <div empty-form><h3 class="adf-task-title">Please select a Task</h3></div>\n                      </adf-form>\n                  </div>\n                  <div *ngIf="!isAssigned()">\n                      {{ \'ADF_TASK_LIST.DETAILS.MESSAGES.CLAIM\' | translate }}\n                  </div>\n                  <button mat-raised-button class="activiti-task-details__action-button"\n                          *ngIf="!hasFormKey() && isTaskActive()" (click)="onComplete()">\n                      {{ \'ADF_TASK_LIST.DETAILS.BUTTON.COMPLETE\' | translate }}\n                  </button>\n              </div>\n              <div class="adf-task-details-core-sidebar">\n                  <adf-info-drawer *ngIf="showHeaderContent" title="{{ \'ADF_TASK_LIST.DETAILS.LABELS.INFO_DRAWER_TITLE\' | translate }}" class="adf-task-details-core-sidebar-drawer">\n                      <adf-info-drawer-tab label="{{ \'ADF_TASK_LIST.DETAILS.LABELS.INFO_DRAWER_TAB_DETAILS_TITLE\' | translate }}">\n                          <div class="assignment-container" *ngIf="showAssignee">\n                              <adf-people-search\n                                  (searchPeople)="searchUser($event)"\n                                  (success)="assignTaskToUser($event)"\n                                  (closeSearch)="onCloseSearch()"\n                                  [results]="peopleSearch$">\n                                  <ng-container people-search-title>{{ \'ADF_TASK_LIST.DETAILS.LABELS.ADD_ASSIGNEE\' | translate }}\n                                  </ng-container>\n                                  <ng-container people-search-action-label>{{ \'ADF_TASK_LIST.PEOPLE.ADD_ASSIGNEE\' | translate }}\n                                  </ng-container>\n                              </adf-people-search>\n                          </div>\n                          <adf-task-header\n                              [class]="getTaskHeaderViewClass()"\n                              [taskDetails]="taskDetails"\n                              [formName]="taskFormName"\n                              (claim)="onClaimAction($event)"\n                              (unclaim)="onClaimAction($event)">\n                          </adf-task-header>\n                          <adf-people *ngIf="showInvolvePeople" #people\n                                      [people]="taskPeople"\n                                      [readOnly]="readOnlyForm"\n                                      [taskId]="taskDetails.id">\n                          </adf-people>\n                      </adf-info-drawer-tab>\n\n                      <adf-info-drawer-tab label="{{ \'ADF_TASK_LIST.DETAILS.LABELS.INFO_DRAWER_TAB_ACTIVITY_TITLE\' | translate }}">\n                          <mat-card *ngIf="showComments">\n                              <mat-card-content>\n                                  <adf-comments #activiticomments\n                                                [readOnly]="isReadOnlyComment()"\n                                                [taskId]="taskDetails.id">\n                                  </adf-comments>\n                              </mat-card-content>\n                          </mat-card>\n                      </adf-info-drawer-tab>\n\n                  </adf-info-drawer>\n\n                  <div *ngIf="showHeaderContent" class="adf-task-details-core-sidebar-checklist">\n                      <div *ngIf="showChecklist">\n                          <adf-checklist #activitichecklist\n                                         [readOnly]="readOnlyForm"\n                                         [taskId]="taskDetails.id"\n                                         [assignee]="taskDetails?.assignee?.id"\n                                         (checklistTaskCreated)="onChecklistTaskCreated($event)"\n                                         (checklistTaskDeleted)="onChecklistTaskDeleted($event)">\n                          </adf-checklist>\n                      </div>\n                  </div>\n              </div>\n          </div>\n\n          <ng-template #errorDialog>\n              <h3 matDialogTitle>{{\'ADF_TASK_LIST.DETAILS.ERROR.TITLE\'|translate}}</h3>\n              <mat-dialog-content>\n                  <p>{{\'ADF_TASK_LIST.DETAILS.ERROR.DESCRIPTION\'|translate}}</p>\n              </mat-dialog-content>\n              <mat-dialog-actions>\n                  <button mat-button type="button" (click)="closeErrorDialog()">{{\'ADF_TASK_LIST.DETAILS.ERROR.CLOSE\'|translate}}\n                  </button>\n              </mat-dialog-actions>\n          </ng-template>\n\n      </div>\n    ',styles:['\n      :host {\n        width: 100%; }\n\n      .error-dialog h3 {\n        margin: 16px 0; }\n\n      .activiti-task-details__header {\n        -ms-flex-item-align: end;\n            align-self: flex-end;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        font-size: 24px;\n        font-weight: 300;\n        line-height: normal;\n        overflow: hidden;\n        margin: 8px 0 16px 0;\n        cursor: pointer;\n        user-select: none;\n        -moz-user-select: none;\n        -webkit-user-select: none;\n        -ms-user-select: none; }\n\n      .activiti-task-details__action-button {\n        text-transform: uppercase; }\n\n      adf-people ::ng-deep .assignment-top-container {\n        background-color: #fff; }\n\n      .assignment-container {\n        background: #fff;\n        border: 1px solid #e1e1e1;\n        padding: 10px 20px;\n        width: auto; }\n\n      adf-task-header.assign-edit-view ::ng-deep adf-card-view ::ng-deep .adf-property[data-automation-id="header-assignee"] {\n        display: none; }\n\n      .adf-task-details-header {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: justify;\n            -ms-flex-pack: justify;\n                justify-content: space-between; }\n        .adf-task-details-header-toggle {\n          position: relative;\n          top: 10px;\n          margin-right: 2px;\n          height: 23px;\n          cursor: pointer;\n          user-select: none;\n          -moz-user-select: none;\n          -webkit-user-select: none;\n          -ms-user-select: none; }\n\n      .adf-task-details-core {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-pack: justify;\n            -ms-flex-pack: justify;\n                justify-content: space-between; }\n        @media screen and (max-width: 1279px) {\n          .adf-task-details-core-sidebar-drawer {\n            margin-left: 0px; } }\n        .adf-task-details-core-sidebar-checklist {\n          margin-top: 30px;\n          padding-left: 20px;\n          padding-right: 20px; }\n        .adf-task-details-core-form {\n          -webkit-box-flex: 1;\n              -ms-flex-positive: 1;\n                  flex-grow: 1; }\n          .adf-task-details-core-form ::ng-deep .adf-form-debug-container {\n            padding: 20px 0 0 0; }\n            .adf-task-details-core-form ::ng-deep .adf-form-debug-container .mat-slide-toggle {\n              float: right; }\n              .adf-task-details-core-form ::ng-deep .adf-form-debug-container .mat-slide-toggle + div {\n                background-color: black;\n                padding: 20px;\n                clear: both;\n                margin-top: 30px;\n                color: white; }\n          .adf-task-details-core-form ::ng-deep .mat-tab-label {\n            -webkit-box-flex: 1;\n                -ms-flex-positive: 1;\n                    flex-grow: 1; }\n    '],providers:[r.CardViewUpdateService]}]}],Bi.ctorParameters=function(){return[{type:ji},{type:r.AuthenticationService},{type:r.PeopleProcessService},{type:r.LogService},{type:r.CardViewUpdateService},{type:o.MatDialog}]},Bi.propDecorators={activiticomments:[{type:n.ViewChild,args:["activiticomments"]}],activitichecklist:[{type:n.ViewChild,args:["activitichecklist"]}],errorDialog:[{type:n.ViewChild,args:["errorDialog"]}],debugMode:[{type:n.Input}],taskId:[{type:n.Input}],showNextTask:[{type:n.Input}],showHeader:[{type:n.Input}],showHeaderContent:[{type:n.Input}],showInvolvePeople:[{type:n.Input}],showComments:[{type:n.Input}],showChecklist:[{type:n.Input}],showFormTitle:[{type:n.Input}],showFormCompleteButton:[{type:n.Input}],showFormSaveButton:[{type:n.Input}],readOnlyForm:[{type:n.Input}],showFormRefreshButton:[{type:n.Input}],fieldValidators:[{type:n.Input}],formSaved:[{type:n.Output}],formCompleted:[{type:n.Output}],formContentClicked:[{type:n.Output}],formLoaded:[{type:n.Output}],taskCreated:[{type:n.Output}],taskDeleted:[{type:n.Output}],error:[{type:n.Output}],executeOutcome:[{type:n.Output}],assignTask:[{type:n.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ki=function(){function t(t){this.activitiTaskDetails=t}return t.prototype.ngAfterContentInit=function(){this.activitiTaskDetails.noTaskDetailsTemplateComponent=this.template},t}();Ki.decorators=[{type:n.Directive,args:[{selector:"no-task-details-template"}]}],Ki.ctorParameters=function(){return[{type:Bi}]},Ki.propDecorators={template:[{type:n.ContentChild,args:[n.TemplateRef]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var $i=function(){return function(t){this.name=t&&t.name||null,this.description=t&&t.description||null,this.assignee=t&&t.assignee?new r.UserProcessModel(t.assignee):null,this.dueDate=t&&t.dueDate||null,this.formKey=t&&t.formKey||null,this.category=t&&t.category||null}}(),zi=function(){function t(t,e,i,s,r){this.taskService=t,this.peopleService=e,this.dateAdapter=i,this.preferences=s,this.logService=r,this.FORMAT_DATE="DD/MM/YYYY",this.success=new n.EventEmitter,this.cancel=new n.EventEmitter,this.error=new n.EventEmitter,this.people=[],this.startTaskmodel=new $i}return t.prototype.ngOnInit=function(){var t=this;this.preferences.locale$.subscribe(function(e){t.dateAdapter.setLocale(e)}),this.loadFormsTask(),this.getUsers()},t.prototype.start=function(){var t=this;this.startTaskmodel.name&&(this.appId&&(this.startTaskmodel.category=this.appId.toString()),this.taskService.createNewTask(new Ni(this.startTaskmodel)).switchMap(function(e){return t.attachForm(e.id,t.formKey).defaultIfEmpty(e).switchMap(function(n){return t.assignTaskByUserId(e.id,t.assigneeId).defaultIfEmpty(n||e)})}).subscribe(function(e){t.success.emit(e)},function(e){t.error.emit(e),t.logService.error("An error occurred while creating new task")}))},t.prototype.attachForm=function(t,e){var n=l.Observable.of();return t&&e&&(n=this.taskService.attachFormToATask(t,e)),n},t.prototype.assignTaskByUserId=function(t,e){var n=l.Observable.of();return t&&e&&(n=this.taskService.assignTaskByUserId(t,e)),n},t.prototype.onCancel=function(){this.cancel.emit()},t.prototype.loadFormsTask=function(){var t=this;this.taskService.getFormList().subscribe(function(e){t.forms=e},function(e){t.error.emit(e),t.logService.error("An error occurred while trying to get the forms")})},t.prototype.getUsers=function(){var t=this;this.peopleService.getWorkflowUsers().subscribe(function(e){t.people=e},function(e){t.error.emit(e),t.logService.error("Could not load users")})},t.prototype.isUserNameEmpty=function(t){return!t||this.isEmpty(t.firstName)&&this.isEmpty(t.lastName)},t.prototype.isEmpty=function(t){return t===undefined||null===t||0===t.trim().length},t.prototype.getDisplayUser=function(t,e,n){return void 0===n&&(n="-"),t=null!==t?t:"",e=null!==e?e:"",t+n+e},t.prototype.onDateChanged=function(t){if(this.dateError=!1,t){y(t,this.FORMAT_DATE,!0).isValid()||(this.dateError=!0)}},t}();zi.decorators=[{type:n.Component,args:[{selector:"adf-start-task",template:'\n      <mat-card class="adf-new-task-layout-card">\n          <mat-grid-list cols="1" rowHeight="60px">\n              <mat-grid-tile>\n                  <div class="adf-new-task-heading">{{\'ADF_TASK_LIST.START_TASK.FORM.TITLE\'|translate}}</div>\n              </mat-grid-tile>\n          </mat-grid-list>\n          <mat-card-content>\n              <mat-grid-list cols="1" rowHeight="80px">\n                  <mat-grid-tile>\n                      <mat-form-field class="adf-new-task-text-width">\n                          <input matInput placeholder="{{\'ADF_TASK_LIST.START_TASK.FORM.LABEL.NAME\'|translate}}"\n                                 [(ngModel)]="startTaskmodel.name" required id="name_id">\n                      </mat-form-field>\n                  </mat-grid-tile>\n              </mat-grid-list>\n              <mat-grid-list cols="1" rowHeight="80px">\n                  <mat-grid-tile>\n                      <mat-form-field class="adf-new-task-text-width">\n                          <textarea matInput placeholder="{{\'ADF_TASK_LIST.START_TASK.FORM.LABEL.DESCRIPTION\'|translate}}"\n                                    [(ngModel)]="startTaskmodel.description" id="description_id"></textarea>\n                      </mat-form-field>\n                  </mat-grid-tile>\n              </mat-grid-list>\n              <mat-grid-list cols="2" rowHeight="80px">\n                  <mat-grid-tile>\n                      <mat-form-field class="adf-start-task-input-container">\n                          <input matInput\n                                 [matDatepicker]="taskDatePicker"\n                                 (keydown)="true"\n                                 (focusout)="onDateChanged($event.srcElement.value)"\n                                 placeholder="{{\'ADF_TASK_LIST.START_TASK.FORM.LABEL.DATE\'|translate}}"\n                                 [(ngModel)]="startTaskmodel.dueDate" id="date_id">\n                          <mat-datepicker-toggle matSuffix [for]="taskDatePicker"></mat-datepicker-toggle>\n                      </mat-form-field>\n                      <mat-datepicker #taskDatePicker [touchUi]="true"\n                                     (dateChanged)="onDateChanged($event)"></mat-datepicker>\n                      <div class="adf-error-text-container">\n                          <div *ngIf="dateError">\n                              <div class="adf-error-text">{{\'ADF_TASK_LIST.START_TASK.FORM.DATE.ERROR\'|translate}}</div>\n                              <mat-icon class="adf-error-icon">warning</mat-icon>\n                          </div>\n                      </div>\n                  </mat-grid-tile>\n                  <mat-grid-tile>\n                    <mat-form-field class="adf-start-task-input-container">\n                      <mat-select placeholder="{{\'ADF_TASK_LIST.START_TASK.FORM.LABEL.ASSIGNEE\'|translate}}" id="assignee_id"\n                                 class="adf-mat-select" [(ngModel)]="assigneeId">\n                          <mat-option>{{\'ADF_TASK_LIST.START_TASK.FORM.LABEL.NONE\'|translate}}</mat-option>\n                          <span *ngFor="let user of people">\n                              <mat-option [value]="user.id" *ngIf="!isUserNameEmpty(user)">{{ getDisplayUser(user.firstName,\n                                  user.lastName, \' \')}}\n                              </mat-option>\n                          </span>\n                      </mat-select>\n                    </mat-form-field>\n                  </mat-grid-tile>\n              </mat-grid-list>\n              <mat-grid-list cols="2" rowHeight="80px">\n                  <mat-grid-tile>\n                      <mat-form-field class="adf-start-task-input-container">\n                          <mat-select placeholder="{{\'ADF_TASK_LIST.START_TASK.FORM.LABEL.FORM\'|translate}}" id="form_id" [(ngModel)]="formKey">\n                              <mat-option>{{\'ADF_TASK_LIST.START_TASK.FORM.LABEL.NONE\'|translate}}</mat-option>\n                              <mat-option *ngFor="let form of forms" [value]="form.id">{{ form.name }}</mat-option>\n                          </mat-select>\n                      </mat-form-field>\n                  </mat-grid-tile>\n                  <mat-grid-tile></mat-grid-tile>\n              </mat-grid-list>\n          </mat-card-content>\n          <mat-card-actions>\n              <mat-grid-list cols="1" rowHeight="60px">\n                  <mat-grid-tile>\n                      <div class="adf-new-task-footer">\n                          <button mat-button (click)="onCancel()" id="button-cancle">\n                              {{\'ADF_TASK_LIST.START_TASK.FORM.ACTION.CANCEL\'|translate}}\n                          </button>\n                          <button mat-button [disabled]="!startTaskmodel.name || dateError" (click)="start()" id="button-start">\n                              {{\'ADF_TASK_LIST.START_TASK.FORM.ACTION.START\'|translate}}\n                          </button>\n                      </div>\n                  </mat-grid-tile>\n              </mat-grid-list>\n          </mat-card-actions>\n      </mat-card>\n    ',styles:["\n\n    "],providers:[{provide:m.DateAdapter,useClass:r.MomentDateAdapter},{provide:m.MAT_DATE_FORMATS,useValue:r.MOMENT_DATE_FORMATS}],encapsulation:n.ViewEncapsulation.None}]}],zi.ctorParameters=function(){return[{type:ji},{type:r.PeopleProcessService},{type:m.DateAdapter},{type:r.UserPreferencesService},{type:r.LogService}]},zi.propDecorators={appId:[{type:n.Input}],success:[{type:n.Output}],cancel:[{type:n.Output}],error:[{type:n.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Yi=function(){function t(t,e){this.contentService=t,this.taskListService=e,this.fileName="Audit",this.format="pdf",this.download=!0,this.clicked=new n.EventEmitter,this.error=new n.EventEmitter}return t.prototype.ngOnChanges=function(t){this.isValidType()||this.setDefaultFormatType()},t.prototype.isValidType=function(){return!(!this.format||!this.isJsonFormat()&&!this.isPdfFormat())},t.prototype.setDefaultFormatType=function(){this.format="pdf"},t.prototype.fetchAuditInfo=function(){var t=this;this.isPdfFormat()?this.taskListService.fetchTaskAuditPdfById(this.taskId).subscribe(function(e){t.audit=e,t.download&&t.contentService.downloadBlob(t.audit,t.fileName+".pdf"),t.clicked.emit({format:t.format,value:t.audit,fileName:t.fileName})},function(e){t.error.emit(e)}):this.taskListService.fetchTaskAuditJsonById(this.taskId).subscribe(function(e){t.audit=e,t.clicked.emit({format:t.format,value:t.audit,fileName:t.fileName})},function(e){t.error.emit(e)})},t.prototype.onClickAudit=function(){this.fetchAuditInfo()},t.prototype.isJsonFormat=function(){return"json"===this.format},t.prototype.isPdfFormat=function(){return"pdf"===this.format},t}();Yi.decorators=[{type:n.Directive,args:[{selector:"button[adf-task-audit]",host:{role:"button","(click)":"onClickAudit()"}}]}],Yi.ctorParameters=function(){return[{type:r.ContentService},{type:ji}]},Yi.propDecorators={taskId:[{type:n.Input,args:["task-id"]}],fileName:[{type:n.Input}],format:[{type:n.Input}],download:[{type:n.Input}],clicked:[{type:n.Output}],error:[{type:n.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var qi=function(){function t(t,e,i){var s=this;this.taskFilterService=t,this.taskListService=e,this.appsProcessService=i,this.filterClick=new n.EventEmitter,this.success=new n.EventEmitter,this.error=new n.EventEmitter,this.hasIcon=!0,this.filters=[],this.filter$=new l.Observable(function(t){return s.filterObserver=t}).share()}return t.prototype.ngOnInit=function(){var t=this;this.filter$.subscribe(function(e){t.filters.push(e)})},t.prototype.ngOnChanges=function(t){var e=t.appId;if(!e||!e.currentValue&&null!==e.currentValue){var n=t.appName;n&&null!==n&&n.currentValue?this.getFiltersByAppName(n.currentValue):this.getFiltersByAppId()}else this.getFiltersByAppId(e.currentValue)},t.prototype.getFilters=function(t,e){e?this.getFiltersByAppName(e):this.getFiltersByAppId(t)},t.prototype.getFiltersByAppId=function(t){var e=this;this.taskFilterService.getTaskListFilters(t).subscribe(function(n){0===n.length&&e.isFilterListEmpty()?e.taskFilterService.createDefaultFilters(t).subscribe(function(t){e.resetFilter(),t.forEach(function(t){e.filterObserver.next(t)}),e.selectTaskFilter(e.filterParam,e.filters),e.success.emit(t)},function(t){e.error.emit(t)}):(e.resetFilter(),n.forEach(function(t){e.filterObserver.next(t)}),e.selectTaskFilter(e.filterParam,e.filters),e.success.emit(n))},function(t){e.error.emit(t)})},t.prototype.getFiltersByAppName=function(t){var e=this;this.appsProcessService.getDeployedApplicationsByName(t).subscribe(function(t){e.getFiltersByAppId(t.id),e.selectTaskFilter(e.filterParam,e.filters)},function(t){e.error.emit(t)})},t.prototype.selectFilter=function(t){this.currentFilter=t,this.filterClick.emit(t)},t.prototype.selectFilterWithTask=function(t){var e=this,n=[];this.taskListService.getFilterForTaskById(t,this.filters).subscribe(function(t){n.push(t)},function(t){e.error.emit(t)},function(){n.length>0&&(e.selectTaskFilter(new Ci({name:"My Tasks"}),n),e.filterClick.emit(e.currentFilter))})},t.prototype.selectTaskFilter=function(t,e){var n;t&&e.filter(function(e,i){(t.name&&t.name.toLowerCase()===e.name.toLowerCase()||t.id===e.id.toString()||t.index===i)&&(n=e)}),n?this.currentFilter=n:this.selectDefaultTaskFilter(e)},t.prototype.selectDefaultTaskFilter=function(t){this.isFilterListEmpty()||(this.currentFilter=this.filters[0])},t.prototype.getCurrentFilter=function(){return this.currentFilter},t.prototype.isFilterListEmpty=function(){return this.filters===undefined||this.filters&&0===this.filters.length},t.prototype.resetFilter=function(){this.filters=[],this.currentFilter=undefined},t}();qi.decorators=[{type:n.Component,args:[{selector:"adf-filters, taskListService-filters",template:'\n      <div class="menu-container">\n          <mat-list>\n              <mat-list-item (click)="selectFilter(filter)" *ngFor="let filter of filters"\n                            class="adf-filters__entry" [class.active]="currentFilter === filter">\n                  <mat-icon *ngIf="hasIcon" matListIcon class="adf-filters__entry-icon">assignment</mat-icon>\n                  <span matLine [attr.data-automation-id]="filter.name + \'_filter\'">{{filter.name}}</span>\n              </mat-list-item>\n          </mat-list>\n      </div>\n    ',styles:["\n\n    "]}]}],qi.ctorParameters=function(){return[{type:Vi},{type:ji},{type:r.AppsProcessService}]},qi.propDecorators={filterParam:[{type:n.Input}],filterClick:[{type:n.Output}],success:[{type:n.Output}],error:[{type:n.Output}],appId:[{type:n.Input}],appName:[{type:n.Input}],hasIcon:[{type:n.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Gi=function(){function t(t,e,i){this.activitiTaskService=t,this.bpmUserService=e,this.logService=i,this.formName=null,this.claim=new n.EventEmitter,this.unclaim=new n.EventEmitter,this.inEdit=!1}return t.prototype.ngOnInit=function(){this.loadCurrentBpmUserId()},t.prototype.ngOnChanges=function(t){this.refreshData()},t.prototype.refreshData=function(){if(this.taskDetails){var t=this.getParentInfo();this.properties=[new r.CardViewTextItemModel({label:"ADF_TASK_LIST.PROPERTIES.ASSIGNEE",value:this.taskDetails.getFullName(),key:"assignee","default":"ADF_TASK_LIST.PROPERTIES.ASSIGNEE_DEFAULT",clickable:!this.isCompleted()}),new r.CardViewTextItemModel({label:"ADF_TASK_LIST.PROPERTIES.STATUS",value:this.getTaskStatus(),key:"status"}),new r.CardViewTextItemModel({label:"ADF_TASK_LIST.PROPERTIES.PRIORITY",value:this.taskDetails.priority,key:"priority"}),new r.CardViewDateItemModel({label:"ADF_TASK_LIST.PROPERTIES.DUE_DATE",value:this.taskDetails.dueDate,key:"dueDate","default":"ADF_TASK_LIST.PROPERTIES.DUE_DATE_DEFAULT",editable:!0}),new r.CardViewTextItemModel({label:"ADF_TASK_LIST.PROPERTIES.CATEGORY",value:this.taskDetails.category,key:"category","default":"ADF_TASK_LIST.PROPERTIES.CATEGORY_DEFAULT"}),new r.CardViewMapItemModel({label:"ADF_TASK_LIST.PROPERTIES.PARENT_NAME",value:t,key:"parentName","default":"ADF_TASK_LIST.PROPERTIES.PARENT_NAME_DEFAULT",clickable:!0}),new r.CardViewTextItemModel({label:"ADF_TASK_LIST.PROPERTIES.CREATED_BY",value:this.taskDetails.getFullName(),key:"created-by"}),new r.CardViewDateItemModel({label:"ADF_TASK_LIST.PROPERTIES.CREATED",value:this.taskDetails.created,key:"created"}),new r.CardViewTextItemModel({label:"ADF_TASK_LIST.PROPERTIES.ID",value:this.taskDetails.id,key:"id"}),new r.CardViewTextItemModel({label:"ADF_TASK_LIST.PROPERTIES.DESCRIPTION",value:this.taskDetails.description,key:"description","default":"ADF_TASK_LIST.PROPERTIES.DESCRIPTION_DEFAULT",multiline:!0,editable:!0}),new r.CardViewTextItemModel({label:"ADF_TASK_LIST.PROPERTIES.FORM_NAME",value:this.formName,key:"formName","default":"ADF_TASK_LIST.PROPERTIES.FORM_NAME_DEFAULT"})]}},t.prototype.loadCurrentBpmUserId=function(){var t=this;this.bpmUserService.getCurrentUserInfo().subscribe(function(e){t.currentUserId=e?+e.id:null})},t.prototype.getParentInfo=function(){if(this.taskDetails.processInstanceId&&this.taskDetails.processDefinitionName)return new Map([[this.taskDetails.processInstanceId,this.taskDetails.processDefinitionName]])},t.prototype.hasAssignee=function(){return!!this.taskDetails.assignee},t.prototype.isAssignedTo=function(t){return!!this.hasAssignee()&&this.taskDetails.assignee.id===t},t.prototype.isAssignedToCurrentUser=function(){return this.hasAssignee()&&this.isAssignedTo(this.currentUserId)},t.prototype.isCandidateMember=function(){return this.taskDetails.managerOfCandidateGroup||this.taskDetails.memberOfCandidateGroup||this.taskDetails.memberOfCandidateUsers},t.prototype.isTaskClaimable=function(){return!this.hasAssignee()&&this.isCandidateMember()},t.prototype.isTaskClaimedByCandidateMember=function(){return this.isCandidateMember()&&this.isAssignedToCurrentUser()&&!this.isCompleted()},t.prototype.getTaskStatus=function(){return this.taskDetails&&this.taskDetails.isCompleted()?"Completed":"Running"},t.prototype.claimTask=function(t){var e=this;this.activitiTaskService.claimTask(t).subscribe(function(n){e.logService.info("Task claimed"),e.claim.emit(t)})},t.prototype.unclaimTask=function(t){var e=this;this.activitiTaskService.unclaimTask(t).subscribe(function(n){e.logService.info("Task unclaimed"),e.unclaim.emit(t)})},t.prototype.isCompleted=function(){return this.taskDetails&&!!this.taskDetails.endDate},t}();Gi.decorators=[{type:n.Component,args:[{selector:"adf-task-header",template:'\n      <mat-card *ngIf="taskDetails" class="adf-card-container">\n          <mat-card-content>\n              <adf-card-view [properties]="properties" [editable]="!isCompleted()"></adf-card-view>\n          </mat-card-content>\n\n          <mat-card-actions class="adf-controls">\n              <button *ngIf="isTaskClaimedByCandidateMember()" mat-button data-automation-id="header-unclaim-button" id="unclaim-task" (click)="unclaimTask(taskDetails.id)" class="adf-claim-controls">{{ \'ADF_TASK_LIST.DETAILS.BUTTON.UNCLAIM\' | translate }}\n              </button>\n              <button *ngIf="isTaskClaimable()" mat-button data-automation-id="header-claim-button" id="claim-task" (click)="claimTask(taskDetails.id)" class="adf-claim-controls">{{ \'ADF_TASK_LIST.DETAILS.BUTTON.CLAIM\' | translate }}\n              </button>\n          </mat-card-actions>\n      </mat-card>\n    ',styles:["\n\n    "]}]}],Gi.ctorParameters=function(){return[{type:ji},{type:r.BpmUserService},{type:r.LogService}]},Gi.propDecorators={formName:[{type:n.Input}],taskDetails:[{type:n.Input}],claim:[{type:n.Output}],unclaim:[{type:n.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Hi={"default":[{key:"name",type:"text",title:"ADF_TASK_LIST.PROPERTIES.NAME",sortable:!0},{key:"created",type:"text",title:"ADF_TASK_LIST.PROPERTIES.CREATED",cssClass:"hidden",sortable:!0},{key:"assignee",type:"text",title:"ADF_TASK_LIST.PROPERTIES.ASSIGNEE",cssClass:"hidden",sortable:!0}]},Wi=5,Ji=function(){function t(t,e){this.taskListService=t,this.appConfig=e,this.selectionMode="single",this.multiselect=!1,this.rowClick=new n.EventEmitter,this.rowsSelected=new n.EventEmitter,this.success=new n.EventEmitter,this.error=new n.EventEmitter,this.layoutPresets={},this.page=0,this.size=Wi,this.isLoading=!0,this.hasCustomDataSource=!1,this.isStreamLoaded=!1}return t.prototype.initStream=function(){var t=this;this.isStreamLoaded||(this.isStreamLoaded=!0,this.taskListService.tasksList$.subscribe(function(e){var n=t.createDataRow(e.data);t.renderInstances(n),t.selectTask(t.landingTaskId),t.success.emit(e),t.isLoading=!1},function(e){t.error.emit(e),t.isLoading=!1}))},t.prototype.ngOnInit=function(){this.data===undefined&&(this.data=new r.ObjectDataTableAdapter),this.initStream()},t.prototype.ngAfterContentInit=function(){this.loadLayoutPresets(),this.setupSchema()},t.prototype.setupSchema=function(){var t=[];this.columnList&&this.columnList.columns&&this.columnList.columns.length>0&&(t=this.columnList.columns.map(function(t){return t})),this.data?t&&t.length>0?this.data.setColumns(t):0===this.data.getColumns().length&&(this.presetColumn?this.setupDefaultColumns(this.presetColumn):this.setupDefaultColumns()):this.data=new r.ObjectDataTableAdapter([],t.length>0?t:this.presetColumn?this.getLayoutPreset(this.presetColumn):this.getLayoutPreset())},t.prototype.ngOnChanges=function(t){this.initStream(),this.isPropertyChanged(t)&&this.reload()},t.prototype.setCustomDataSource=function(t){this.data&&(this.data.setRows(t),this.hasCustomDataSource=!0)},t.prototype.isPropertyChanged=function(t){var e=!0,n=t.landingTaskId;return n&&n.currentValue&&this.isEqualToCurrentId(n.currentValue)&&(e=!1),e},t.prototype.reload=function(){this.hasCustomDataSource||(this.requestNode=this.createRequestNode(),this.load(this.requestNode))},t.prototype.load=function(t){this.isLoading=!0,this.loadTasksByState().subscribe()},t.prototype.loadTasksByState=function(){return"all"===this.requestNode.state?this.taskListService.findAllTasksWithoutState(this.requestNode):this.taskListService.findTasksByState(this.requestNode)},t.prototype.createDataRow=function(t){var e=[];return t.forEach(function(t){e.push(new r.ObjectDataRow(t))}),e},t.prototype.renderInstances=function(t){t=this.optimizeNames(t),this.data.setRows(t)},t.prototype.selectTask=function(t){if(this.isListEmpty())this.data&&(this.data.selectedRow=null),this.currentInstanceId=null;else{var e=this.data.getRows();if(e.length>0){var n=void 0;t?(n=e.find(function(e){return e.getValue("id")===t}))||(n=e[0]):n=e[0],this.data.selectedRow=n,n.isSelected=!0,this.currentInstanceId=n.getValue("id")}}},t.prototype.getCurrentId=function(){return this.currentInstanceId},t.prototype.isEqualToCurrentId=function(t){return this.currentInstanceId===t},t.prototype.isListEmpty=function(){return this.data===undefined||this.data&&this.data.getRows()&&0===this.data.getRows().length},t.prototype.onRowClick=function(t){this.currentInstanceId=t.value.getValue("id"),this.rowClick.emit(this.currentInstanceId)},t.prototype.onRowSelect=function(t){this.selectedInstances=t.detail.selection.slice(),this.rowsSelected.emit(this.selectedInstances)},t.prototype.onRowUnselect=function(t){this.selectedInstances=t.detail.selection.slice(),this.rowsSelected.emit(this.selectedInstances)},t.prototype.onRowKeyUp=function(t){"Enter"===t.detail.keyboardEvent.key&&(t.preventDefault(),this.currentInstanceId=t.detail.row.getValue("id"),this.rowClick.emit(this.currentInstanceId))},t.prototype.optimizeNames=function(t){return t=t.map(function(t){return t.obj.name=t.obj.name||"No name",t})},t.prototype.createRequestNode=function(){var t={appDefinitionId:this.appId,processInstanceId:this.processInstanceId,processDefinitionKey:this.processDefinitionKey,text:this.name,assignment:this.assignment,state:this.state,sort:this.sort,landingTaskId:this.landingTaskId,page:this.page,size:this.size,start:0};return new Ri(t)},t.prototype.setupDefaultColumns=function(t){if(void 0===t&&(t="default"),this.data){var e=this.getLayoutPreset(t);this.data.setColumns(e)}},t.prototype.loadLayoutPresets=function(){var t=this.appConfig.get("adf-task-list.presets",null);this.layoutPresets=t?Object.assign({},Hi,t):Hi},t.prototype.getLayoutPreset=function(t){return void 0===t&&(t="default"),(this.layoutPresets[t]||this.layoutPresets["default"]).map(function(t){return new r.ObjectDataColumn(t)})},t}();Ji.decorators=[{type:n.Component,args:[{selector:"adf-tasklist",template:'\n      <div *ngIf="!requestNode">{{ \'ADF_TASK_LIST.FILTERS.MESSAGES.NONE\' | translate }}</div>\n      <div *ngIf="requestNode">\n          <div>\n              <adf-datatable\n                  [data]="data"\n                  [loading]="isLoading"\n                  [multiselect]="multiselect"\n                  [selectionMode]="selectionMode"\n                  (row-select)="onRowSelect($event)"\n                  (row-unselect)="onRowUnselect($event)"\n                  (rowClick)="onRowClick($event)"\n                  (row-keyup)="onRowKeyUp($event)">\n                  <loading-content-template>\n                      <ng-template>\n                          \x3c!--Add your custom loading template here--\x3e\n                          <mat-progress-spinner\n                          class="adf-task-list-loading-margin"\n                          [color]="\'primary\'"\n                          [mode]="\'indeterminate\'">\n                          </mat-progress-spinner>\n                      </ng-template>\n                  </loading-content-template>\n                  <no-content-template>\n                      \x3c!--Add your custom empty template here--\x3e\n                      <ng-template>\n                          <div class="no-content-message">\n                              {{ \'ADF_TASK_LIST.LIST.MESSAGES.NONE\' | translate }}\n                          </div>\n                      </ng-template>\n                  </no-content-template>\n              </adf-datatable>\n          </div>\n      </div>\n    ',styles:["\n      alfresco-datatable >>> .column-header {\n          color: #232323;\n          font-size: 15px;\n      }\n\n      alfresco-datatable >>> .data-cell {\n          cursor: pointer !important;\n      }\n\n      alfresco-datatable >>> .cell-value{\n          width: 250px;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis\n      }\n\n      .adf-task-list-loading-margin {\n          margin-left: calc((100% - 100px) / 2);\n          margin-right: calc((100% - 100px) / 2);\n      }\n\n      .no-content-message {\n          font-size: 16px;\n          font-weight: bold;\n          text-align: center;\n          opacity: 0.54;\n          color: #000;\n      }\n    "]}]}],Ji.ctorParameters=function(){return[{type:ji},{type:r.AppConfigService}]},Ji.propDecorators={columnList:[{type:n.ContentChild,args:[r.DataColumnListComponent]}],appId:[{type:n.Input}],processInstanceId:[{type:n.Input}],processDefinitionKey:[{type:n.Input}],state:[{type:n.Input}],assignment:[{type:n.Input}],sort:[{type:n.Input}],name:[{type:n.Input}],landingTaskId:[{type:n.Input}],data:[{type:n.Input}],selectionMode:[{type:n.Input}],presetColumn:[{type:n.Input}],multiselect:[{type:n.Input}],rowClick:[{type:n.Output}],rowsSelected:[{type:n.Output}],success:[{type:n.Output}],error:[{type:n.Output}],page:[{type:n.Input}],size:[{type:n.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Qi=function(){return function(){}}();Qi.decorators=[{type:n.NgModule,args:[{imports:[e.CommonModule,r.CardViewModule,r.DataTableModule,r.DataColumnModule,r.DirectiveModule,r.FormModule,a.FlexLayoutModule,r.InfoDrawerModule,M,c.TranslateModule,i.FormsModule,i.ReactiveFormsModule,Ii,xi],declarations:[Ki,qi,Ji,Bi,Yi,Ui,Gi,zi],providers:[ji,Vi,Oi,Di,e.DatePipe],exports:[Ki,qi,Ji,Bi,Yi,Ui,Gi,zi]}]}],Qi.ctorParameters=function(){return[]};var Zi=function(){return function(t){this.id=t&&t.id||null,this.name=t&&t.name||null,this.description=t&&t.description||null,this.key=t&&t.key||null,this.category=t&&t.category||null,this.version=t&&t.version||0,this.deploymentId=t&&t.deploymentId||null,this.tenantId=t&&t.tenantId||null,this.metaDataValues=t&&t.metaDataValues||[],this.hasStartForm=!(!t||!0!==t.hasStartForm)}}(),Xi=function(){return function(t){this.name=t&&t.name!==undefined?t.name:null,this.scope=t&&t.scope!==undefined?t.scope:null,this.value=t&&t.value!==undefined?t.value:null,this.valueUrl=t&&t.valueUrl!==undefined?t.valueUrl:null}}(),ts=function(){return function(t){this.businessKey=t&&t.businessKey!==undefined?t.businessKey:null,this.ended=t&&t.ended!==undefined?t.ended:null,this.graphicalNotationDefined=t&&t.graphicalNotationDefined!==undefined?t.graphicalNotationDefined:null,this.id=t&&t.id!==undefined?t.id:null,this.name=t&&t.name!==undefined?t.name:null,this.processDefinitionCategory=t&&t.processDefinitionCategory!==undefined?t.processDefinitionCategory:null,this.processDefinitionDeploymentId=t&&t.processDefinitionDeploymentId!==undefined?t.processDefinitionDeploymentId:null,this.processDefinitionDescription=t&&t.processDefinitionDescription!==undefined?t.processDefinitionDescription:null,this.processDefinitionId=t&&t.processDefinitionId!==undefined?t.processDefinitionId:null,this.processDefinitionKey=t&&t.processDefinitionKey!==undefined?t.processDefinitionKey:null,this.processDefinitionName=t&&t.processDefinitionName!==undefined?t.processDefinitionName:null,this.processDefinitionVersion=t&&t.processDefinitionVersion!==undefined?t.processDefinitionVersion:null,this.startFormDefined=t&&t.startFormDefined!==undefined?t.startFormDefined:null,this.started=t&&t.started!==undefined?t.started:null,this.startedBy=t&&t.startedBy!==undefined?t.startedBy:null,this.tenantId=t&&t.tenantId!==undefined?t.tenantId:null,this.variables=t&&t.variables!==undefined?t.variables:null}}(),es=function(){function t(t){this.alfrescoApiService=t}return t.prototype.getProcessInstances=function(t,e){var n=this;return l.Observable.fromPromise(this.alfrescoApiService.getInstance().activiti.processApi.getProcessInstances(t)).map(function(t){return e?t.data.filter(function(t){return t.processDefinitionKey===e}):t.data})["catch"](function(t){return n.handleProcessError(t)})},t.prototype.fetchProcessAuditPdfById=function(t){var e=this;return l.Observable.fromPromise(this.alfrescoApiService.getInstance().activiti.processApi.getProcessAuditPdf(t))["catch"](function(t){return e.handleProcessError(t)})},t.prototype.fetchProcessAuditJsonById=function(t){var e=this;return l.Observable.fromPromise(this.alfrescoApiService.getInstance().activiti.processApi.getProcessAuditJson(t))["catch"](function(t){return e.handleProcessError(t)})},t.prototype.getProcess=function(t){var e=this;return l.Observable.fromPromise(this.alfrescoApiService.getInstance().activiti.processApi.getProcessInstance(t))["catch"](function(t){return e.handleProcessError(t)})},t.prototype.getProcessTasks=function(t,e){var n=this,i=e?{processInstanceId:t,state:e}:{processInstanceId:t};return l.Observable.fromPromise(this.alfrescoApiService.getInstance().activiti.taskApi.listTasks(i)).map(this.extractData).map(function(t){return t.map(function(t){return t.created=moment(t.created,"YYYY-MM-DD").format(),t})})["catch"](function(t){return n.handleProcessError(t)})},t.prototype.getProcessDefinitions=function(t){var e=this,n=t?{latest:!0,appDefinitionId:t}:{latest:!0};return l.Observable.fromPromise(this.alfrescoApiService.getInstance().activiti.processApi.getProcessDefinitions(n)).map(this.extractData).map(function(t){return t.map(function(t){return new Zi(t)})})["catch"](function(t){return e.handleProcessError(t)})},t.prototype.startProcess=function(t,e,n,i,s){var r=this,o={name:e,processDefinitionId:t};return n&&(o.outcome=n),i&&(o.values=i),s&&(o.variables=s),l.Observable.fromPromise(this.alfrescoApiService.getInstance().activiti.processApi.startNewProcessInstance(o)).map(function(t){return new ts(t)})["catch"](function(t){return r.handleProcessError(t)})},t.prototype.cancelProcess=function(t){var e=this;return l.Observable.fromPromise(this.alfrescoApiService.getInstance().activiti.processApi.deleteProcessInstance(t))["catch"](function(t){return e.handleProcessError(t)})},t.prototype.getProcessInstanceVariables=function(t){var e=this;return l.Observable.fromPromise(this.alfrescoApiService.getInstance().activiti.processInstanceVariablesApi.getProcessInstanceVariables(t)).map(function(t){return t.map(function(t){return new Xi(t)})})["catch"](function(t){return e.handleProcessError(t)})},t.prototype.createOrUpdateProcessInstanceVariables=function(t,e){var n=this;return l.Observable.fromPromise(this.alfrescoApiService.getInstance().activiti.processInstanceVariablesApi.createOrUpdateProcessInstanceVariables(t,e))["catch"](function(t){return n.handleProcessError(t)})},t.prototype.deleteProcessInstanceVariable=function(t,e){var n=this;return l.Observable.fromPromise(this.alfrescoApiService.getInstance().activiti.processInstanceVariablesApi.deleteProcessInstanceVariable(t,e))["catch"](function(t){return n.handleProcessError(t)})},t.prototype.extractData=function(t){return t.data||{}},t.prototype.handleProcessError=function(t){return l.Observable["throw"](t||"Server error")},t}();es.decorators=[{type:n.Injectable}],es.ctorParameters=function(){return[{type:r.AlfrescoApiService}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ns=function(){function t(t,e){this.contentService=t,this.processListService=e,this.fileName="Audit",this.format="pdf",this.download=!0,this.clicked=new n.EventEmitter,this.error=new n.EventEmitter}return t.prototype.ngOnChanges=function(t){this.isValidType()||this.setDefaultFormatType()},t.prototype.isValidType=function(){return!(!this.format||!this.isJsonFormat()&&!this.isPdfFormat())},t.prototype.setDefaultFormatType=function(){this.format="pdf"},t.prototype.fetchAuditInfo=function(){var t=this;this.isPdfFormat()?this.processListService.fetchProcessAuditPdfById(this.processId).subscribe(function(e){t.audit=e,t.download&&t.contentService.downloadBlob(t.audit,t.fileName+".pdf"),t.clicked.emit({format:t.format,value:t.audit,fileName:t.fileName})},function(e){t.error.emit(e)}):this.processListService.fetchProcessAuditJsonById(this.processId).subscribe(function(e){t.audit=e,t.clicked.emit({format:t.format,value:t.audit,fileName:t.fileName})},function(e){t.error.emit(e)})},t.prototype.onClickAudit=function(){this.fetchAuditInfo()},t.prototype.isJsonFormat=function(){return"json"===this.format},t.prototype.isPdfFormat=function(){return"pdf"===this.format},t}();ns.decorators=[{type:n.Directive,args:[{selector:"button[adf-process-audit]",host:{role:"button","(click)":"onClickAudit()"}}]}],ns.ctorParameters=function(){return[{type:r.ContentService},{type:es}]},ns.propDecorators={processId:[{type:n.Input,args:["process-id"]}],fileName:[{type:n.Input}],format:[{type:n.Input}],download:[{type:n.Input}],clicked:[{type:n.Output}],error:[{type:n.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var is=function(){function t(t){t&&(this.id=t.id||null,this.appId=t.appId||null,this.name=t.name||null,this.recent=!!t.recent,this.icon=t.icon||null,this.filter=t.filter||null,this.index=t.index)}return t.prototype.hasFilter=function(){return!!this.filter},t}(),ss=function(){return function(t){this.processDefinitionId=t.processDefinitionId||null,this.appDefinitionId=t.appDefinitionId||null,this.state=t.state||null,this.sort=t.sort||null,this.page=t.page||null,this.size=t.size||null}}(),rs=function(){function t(t){this.alfrescoApiService=t}return t.prototype.getProcessFilters=function(t){var e=this;return l.Observable.fromPromise(this.callApiProcessFilters(t)).map(function(t){var e=[];return t.data.forEach(function(t){var n=new is(t);e.push(n)}),e})["catch"](function(t){return e.handleProcessError(t)})},t.prototype.getProcessFilterById=function(t,e){var n=this;return l.Observable.fromPromise(this.callApiProcessFilters(e)).map(function(e){return e.data.find(function(e){return e.id===t})})["catch"](function(t){return n.handleProcessError(t)})},t.prototype.getProcessFilterByName=function(t,e){var n=this;return l.Observable.fromPromise(this.callApiProcessFilters(e)).map(function(e){return e.data.find(function(e){return e.name===t})})["catch"](function(t){return n.handleProcessError(t)})},t.prototype.createDefaultFilters=function(t){var e=this,n=this.getRunningFilterInstance(t),i=this.addProcessFilter(n),s=this.getCompletedFilterInstance(t),r=this.addProcessFilter(s),o=this.getAllFilterInstance(t),a=this.addProcessFilter(o);return l.Observable.create(function(t){l.Observable.forkJoin(i,r,a).subscribe(function(e){var i=[];e.forEach(function(t){t.name===n.name?i.push(n):t.name===s.name?i.push(s):t.name===o.name&&i.push(o)}),t.next(i),t.complete()},function(t){e.handleProcessError(t)})})},t.prototype.getRunningFilterInstance=function(t){return new is({name:"Running",appId:t,recent:!0,icon:"glyphicon-random",filter:{sort:"created-desc",name:"",state:"running"}})},t.prototype.getCompletedFilterInstance=function(t){return new is({name:"Completed",appId:t,recent:!1,icon:"glyphicon-ok-sign",filter:{sort:"created-desc",name:"",state:"completed"}})},t.prototype.getAllFilterInstance=function(t){return new is({name:"All",appId:t,recent:!0,icon:"glyphicon-th",filter:{sort:"created-desc",name:"",state:"all"}})},t.prototype.addProcessFilter=function(t){var e=this;return l.Observable.fromPromise(this.alfrescoApiService.getInstance().activiti.userFiltersApi.createUserProcessInstanceFilter(t)).map(function(t){return t}).map(function(t){return t})["catch"](function(t){return e.handleProcessError(t)})},t.prototype.callApiProcessFilters=function(t){return t?this.alfrescoApiService.getInstance().activiti.userFiltersApi.getUserProcessInstanceFilters({appId:t}):this.alfrescoApiService.getInstance().activiti.userFiltersApi.getUserProcessInstanceFilters()},t.prototype.handleProcessError=function(t){return l.Observable["throw"](t||"Server error")},t}();rs.decorators=[{type:n.Injectable}],rs.ctorParameters=function(){return[{type:r.AlfrescoApiService}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var os=function(){function t(t,e){var i=this;this.processFilterService=t,this.appsProcessService=e,this.filterClick=new n.EventEmitter,this.success=new n.EventEmitter,this.error=new n.EventEmitter,this.showIcon=!0,this.filters=[],this.filter$=new l.Observable(function(t){return i.filterObserver=t}).share()}return t.prototype.ngOnInit=function(){var t=this;this.filter$.subscribe(function(e){t.filters.push(e)})},t.prototype.ngOnChanges=function(t){var e=t.appId;if(!e||!e.currentValue&&null!==e.currentValue){var n=t.appName;n&&n.currentValue&&this.getFiltersByAppName(n.currentValue)}else this.getFiltersByAppId(e.currentValue)},t.prototype.getFiltersByAppId=function(t){var e=this;this.processFilterService.getProcessFilters(t).subscribe(function(n){0===n.length&&e.isFilterListEmpty()?e.processFilterService.createDefaultFilters(t).subscribe(function(t){e.resetFilter(),t.forEach(function(t){e.filterObserver.next(t)}),e.selectProcessFilter(e.filterParam),e.success.emit(t)},function(t){e.error.emit(t)}):(e.resetFilter(),n.forEach(function(t){e.filterObserver.next(t)}),e.selectProcessFilter(e.filterParam),e.success.emit(n))},function(t){e.error.emit(t)})},t.prototype.getFiltersByAppName=function(t){var e=this;this.appsProcessService.getDeployedApplicationsByName(t).subscribe(function(t){e.getFiltersByAppId(t.id),e.selectProcessFilter(e.filterParam)},function(t){e.error.emit(t)})},t.prototype.selectFilter=function(t){this.currentFilter=t,this.filterClick.emit(t)},t.prototype.selectProcessFilter=function(t){var e=this;t&&this.filters.filter(function(n,i){(t.name&&t.name.toLowerCase()===n.name.toLowerCase()||t.index===i)&&(e.currentFilter=n)}),this.isCurrentFilterEmpty()&&this.selectDefaultTaskFilter()},t.prototype.selectRunningFilter=function(){this.selectProcessFilter(this.processFilterService.getRunningFilterInstance(null))},t.prototype.selectDefaultTaskFilter=function(){this.isFilterListEmpty()||(this.currentFilter=this.filters[0])},t.prototype.getCurrentFilter=function(){return this.currentFilter},t.prototype.isFilterListEmpty=function(){return this.filters===undefined||this.filters&&0===this.filters.length},t.prototype.resetFilter=function(){this.filters=[],this.currentFilter=undefined},t.prototype.isCurrentFilterEmpty=function(){return this.currentFilter===undefined},t}();os.decorators=[{type:n.Component,args:[{selector:"adf-process-instance-filters",template:'\n      <div class="menu-container">\n          <mat-list>\n              <mat-list-item (click)="selectFilter(filter)" *ngFor="let filter of filters"\n                              class="adf-filters__entry" [class.active]="currentFilter === filter">\n                  <mat-icon *ngIf="hasIcon" matListIcon class="adf-filters__entry-icon">assignment</mat-icon>\n                  <span matLine [attr.data-automation-id]="filter.name + \'_filter\'">{{filter.name}}</span>\n              </mat-list-item>\n          </mat-list>\n      </div>\n    ',styles:["\n\n    "]}]}],os.ctorParameters=function(){return[{type:rs},{type:r.AppsProcessService}]},os.propDecorators={filterParam:[{type:n.Input}],filterClick:[{type:n.Output}],success:[{type:n.Output}],error:[{type:n.Output}],appId:[{type:n.Input}],appName:[{type:n.Input}],showIcon:[{type:n.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var as=function(){function t(){}return t.prototype.ngOnChanges=function(t){this.refreshData()},t.prototype.refreshData=function(){this.processInstance&&(this.properties=[new r.CardViewTextItemModel({label:"ADF_PROCESS_LIST.PROPERTIES.STATUS",value:this.getProcessStatus(),key:"status"}),new r.CardViewDateItemModel({label:"ADF_PROCESS_LIST.PROPERTIES.END_DATE",value:this.processInstance.ended,format:"MMM DD YYYY",key:"ended","default":"ADF_PROCESS_LIST.PROPERTIES.END_DATE_DEFAULT"}),new r.CardViewTextItemModel({label:"ADF_PROCESS_LIST.PROPERTIES.CATEGORY",value:this.processInstance.processDefinitionCategory,key:"category","default":"ADF_PROCESS_LIST.PROPERTIES.CATEGORY_DEFAULT"}),new r.CardViewTextItemModel({label:"ADF_PROCESS_LIST.PROPERTIES.BUSINESS_KEY",value:this.processInstance.businessKey,key:"businessKey","default":"ADF_PROCESS_LIST.PROPERTIES.BUSINESS_KEY_DEFAULT"}),new r.CardViewTextItemModel({label:"ADF_PROCESS_LIST.PROPERTIES.CREATED_BY",value:this.getStartedByFullName(),key:"assignee","default":"ADF_PROCESS_LIST.PROPERTIES.CREATED_BY_DEFAULT"}),new r.CardViewDateItemModel({label:"ADF_PROCESS_LIST.PROPERTIES.CREATED",value:this.processInstance.started,format:"MMM DD YYYY",key:"created"}),new r.CardViewTextItemModel({label:"ADF_PROCESS_LIST.PROPERTIES.ID",value:this.processInstance.id,key:"id"}),new r.CardViewTextItemModel({label:"ADF_PROCESS_LIST.PROPERTIES.DESCRIPTION",value:this.processInstance.processDefinitionDescription,key:"description","default":"ADF_PROCESS_LIST.PROPERTIES.DESCRIPTION_DEFAULT"})])},t.prototype.getProcessStatus=function(){if(this.processInstance)return this.isRunning()?"Running":"Completed"},t.prototype.getStartedByFullName=function(){var t="";return this.processInstance&&this.processInstance.startedBy&&(t+=this.processInstance.startedBy.firstName||"",t+=t?" ":"",t+=this.processInstance.startedBy.lastName||""),t},t.prototype.isRunning=function(){return this.processInstance&&!this.processInstance.ended},t}();as.decorators=[{type:n.Component,args:[{selector:"adf-process-instance-header",template:'\n      <mat-card *ngIf="processInstance" class="adf-card-container">\n          <mat-card-content>\n              <adf-card-view [properties]="properties"></adf-card-view>\n          </mat-card-content>\n      </mat-card>\n    ',styles:["\n      :host {\n          width: 100%;\n      }\n\n      .adf-card-container {\n          font-family: inherit;\n      }\n    "]}]}],as.ctorParameters=function(){return[]},as.propDecorators={processInstance:[{type:n.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var cs=function(){function t(t){this._defaultPrevented=!1,this._value=t}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultPrevented",{get:function(){return this._defaultPrevented},enumerable:!0,configurable:!0}),t.prototype.preventDefault=function(){this._defaultPrevented=!0},t}(),ls=function(){function t(t,e,i){var s=this;this.activitiProcess=t,this.logService=e,this.dialog=i,this.showRefreshButton=!0,this.error=new n.EventEmitter,this.activeTasks=[],this.completedTasks=[],this.taskClick=new n.EventEmitter,this.task$=new l.Observable(function(t){return s.taskObserver=t}).share(),this.completedTask$=new l.Observable(function(t){return s.completedTaskObserver=t}).share()}return t.prototype.ngOnInit=function(){var t=this;this.task$.subscribe(function(e){t.activeTasks.push(e)}),this.completedTask$.subscribe(function(e){t.completedTasks.push(e)})},t.prototype.ngOnChanges=function(t){var e=t.processInstanceDetails;e&&e.currentValue&&this.load(e.currentValue.id)},t.prototype.load=function(t){this.loadActive(t),this.loadCompleted(t)},t.prototype.loadActive=function(t){var e=this;this.activeTasks=[],t?this.activitiProcess.getProcessTasks(t,null).subscribe(function(t){t.forEach(function(t){e.taskObserver.next(t)})},function(t){e.error.emit(t)}):this.activeTasks=[]},t.prototype.loadCompleted=function(t){var e=this;this.completedTasks=[],t?this.activitiProcess.getProcessTasks(t,"completed").subscribe(function(t){t.forEach(function(t){e.completedTaskObserver.next(t)})},function(t){e.error.emit(t)}):this.completedTasks=[]},t.prototype.hasStartFormDefined=function(){return this.processInstanceDetails&&!0===this.processInstanceDetails.startFormDefined},t.prototype.getUserFullName=function(t){return t?(t.firstName&&"null"!==t.firstName?t.firstName+" ":"")+t.lastName:"Nobody"},t.prototype.getFormatDate=function(t,n){var i=new e.DatePipe("en-US");try{return i.transform(t,n)}catch(s){this.logService.error("ProcessListInstanceTask: error parsing date "+t+" to format "+n)}},t.prototype.clickTask=function(t,e){var n=new cs(e);this.taskClick.emit(n)},t.prototype.clickStartTask=function(){this.processId=this.processInstanceDetails.id,this.showStartDialog()},t.prototype.showStartDialog=function(){this.dialog.open(this.startDialog,{height:"500px",width:"700px"})},t.prototype.closeSartDialog=function(){this.dialog.closeAll()},t.prototype.onRefreshClicked=function(){this.load(this.processInstanceDetails.id)},t.prototype.onFormContentClick=function(){this.closeSartDialog()},t}();ls.decorators=[{type:n.Component,args:[{selector:"adf-process-instance-tasks",template:'\n      <div  *ngIf="showRefreshButton" class="process-tasks-refresh" >\n          <button mat-icon-button (click)="onRefreshClicked()">\n              <mat-icon class="md-24" aria-label="Refresh">refresh</mat-icon>\n          </button>\n      </div>\n\n      \x3c!-- ACTIVE FORM --\x3e\n\n      <mat-chip-list>\n          <span class="adf-chip-label">{{ \'ADF_PROCESS_LIST.DETAILS.LABELS.TASKS_ACTIVE\'|translate }}</span>\n          <mat-chip class="adf-process-badge" color="accent" selected="true">{{activeTasks?.length}}</mat-chip>\n      </mat-chip-list>\n\n      <div class="menu-container" *ngIf="activeTasks?.length > 0" data-automation-id="active-tasks">\n          <mat-list>\n              <mat-list-item class="process-tasks__task-item" *ngFor="let task of activeTasks" (click)="clickTask($event, task)">\n                      <mat-icon mat-list-icon>assignment</mat-icon>\n                      <h3 matLine>{{task.name || \'Nameless task\'}}</h3>\n                      <span matLine>\n                          {{ \'ADF_PROCESS_LIST.DETAILS.LABELS.TASK_SUBTITLE\' | translate:{user: getUserFullName(task.assignee), created: getFormatDate(task.created, \'mediumDate\') } }}\n                      </span>\n              </mat-list-item>\n          </mat-list>\n      </div>\n\n      \x3c!-- START FORM --\x3e\n\n      <div *ngIf="activeTasks?.length === 0" data-automation-id="active-tasks-none" class="no-results">\n          {{ \'ADF_PROCESS_LIST.DETAILS.TASKS.NO_ACTIVE\' | translate }}\n      </div>\n\n      <div *ngIf="hasStartFormDefined()">\n          <span class="activiti-label">{{ \'ADF_PROCESS_LIST.DETAILS.LABELS.START_FORM\'|translate }}</span>\n\n          \x3c!--IF START TASK COMPLETED --\x3e\n          <div class="menu-container">\n              <mat-list>\n                  <mat-list-item class="process-tasks__task-item" (click)="clickStartTask($event)">\n                      <mat-icon mat-list-icon>assignment</mat-icon>\n                      <h3 matLine>{{ \'ADF_PROCESS_LIST.DETAILS.LABELS.START_FORM\'|translate }}</h3>\n                      <span matLine>\n                          {{ \'ADF_PROCESS_LIST.DETAILS.LABELS.TASK_SUBTITLE\' | translate:{user:getUserFullName(processInstanceDetails.startedBy), created: getFormatDate(processInstanceDetails.started, \'mediumDate\') } }}\n                      </span>\n                  </mat-list-item>\n              </mat-list>\n          </div>\n\n      </div>\n\n      \x3c!-- COMPLETED FORM --\x3e\n      <mat-chip-list>\n              <span class="adf-chip-label">{{ \'ADF_PROCESS_LIST.DETAILS.LABELS.TASKS_COMPLETED\'|translate }}</span>\n              <mat-chip class="adf-process-badge" color="accent" selected="true">{{completedTasks?.length}}</mat-chip>\n      </mat-chip-list>\n\n      <div class="menu-container" *ngIf="completedTasks?.length > 0" data-automation-id="completed-tasks">\n          <mat-list>\n              <mat-list-item class="process-tasks__task-item" *ngFor="let task of completedTasks" (click)="clickTask($event, task)">\n                  <mat-icon mat-list-icon>assignment</mat-icon>\n                  <h3 matLine>{{task.name || \'Nameless task\'}}</h3>\n                  <span matLine>\n                      {{ \'ADF_PROCESS_LIST.DETAILS.LABELS.TASK_SUBTITLE\' | translate:{user:getUserFullName(task.assignee), created: getFormatDate(task.created, \'mediumDate\') } }}\n                  </span>\n              </mat-list-item>\n          </mat-list>\n      </div>\n\n      <div *ngIf="completedTasks?.length === 0" data-automation-id="completed-tasks-none" class="no-results">\n          {{ \'ADF_PROCESS_LIST.DETAILS.TASKS.NO_COMPLETED\' | translate }}\n      </div>\n\n      <ng-template *ngIf="hasStartFormDefined()" #startDialog>\n          <div id="adf-start-process-dialog" class="adf-start-process-dialog">\n              <h4 matDialogTitle>{{ \'ADF_PROCESS_LIST.DETAILS.LABELS.START_FORM\'|translate }}</h4>\n              <div mat-dialog-content class="adf-start-process-dialog-content">\n                  <adf-start-form [processId]="processId"\n                                       [showRefreshButton]="false" [readOnlyForm]="true"\n                                       (formContentClicked)=\'onFormContentClick($event)\'>\n                  </adf-start-form>\n              </div>\n              <div mat-dialog-actions class="adf-start-process-dialog-actions">\n                  <button mat-button type="button" (click)="closeSartDialog()">{{ \'ADF_PROCESS_LIST.DETAILS.TASKS.TASK_CLOSE\' | translate }}</button>\n              </div>\n          </div>\n      </ng-template>\n    ',styles:["\n      :host {\n          width: 100%;\n      }\n\n      .activiti-label {\n          font-weight: bolder;\n          vertical-align: top;\n      }\n\n      .adf-process-badge {\n          pointer-events: none;\n          outline: none;\n      }\n\n      .adf-chip-label {\n          position: relative;\n          top: 5px;\n          margin-right: 8px;\n          font-weight: bold;\n      }\n\n      .menu-container {\n          margin-bottom: 32px;\n      }\n\n      .activiti-label + .icon {\n          position: relative;\n          top: -2px;\n      }\n\n      .task-details-dialog {\n          position: fixed;\n          top: 50%;\n          -webkit-transform: translate(0, -50%);\n                  transform: translate(0, -50%);\n          width: 40%;\n      }\n\n      .process-tasks-refresh {\n          float: right;\n      }\n\n      .adf-start-process-dialog {\n          width: 100%;\n          height: 100%;\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          -webkit-box-orient: vertical;\n          -webkit-box-direction: normal;\n              -ms-flex-direction: column;\n                  flex-direction: column;\n      }\n\n      .adf-start-process-dialog-content {\n          -webkit-box-flex: 1;\n              -ms-flex-positive: 1;\n                  flex-grow: 1;\n      }\n\n      .adf-start-process-dialog-actions {\n          display: -webkit-box;\n          display: -ms-flexbox;\n          display: flex;\n          -webkit-box-pack: end;\n              -ms-flex-pack: end;\n                  justify-content: flex-end;\n      }\n\n      .no-results {\n          margin-left: 9px;\n          font-size: 14px;\n          font-weight: 400;\n          letter-spacing: 0;\n          line-height: 18px;\n          color: rgba(0, 0, 0, .54);\n          display: block;\n          padding: 12px;\n      }\n\n      .process-tasks__task-item {\n          cursor: pointer;\n      }\n    "]}]}],ls.ctorParameters=function(){return[{type:es},{type:r.LogService},{type:o.MatDialog}]},ls.propDecorators={processInstanceDetails:[{type:n.Input}],showRefreshButton:[{type:n.Input}],error:[{type:n.Output}],startDialog:[{type:n.ViewChild,args:["startDialog"]}],taskdetails:[{type:n.ViewChild,args:["taskdetails"]}],taskClick:[{type:n.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var us=function(){function t(t,e){this.activitiProcess=t,this.logService=e,this.showTitle=!0,this.showRefreshButton=!0,this.processCancelled=new n.EventEmitter,this.error=new n.EventEmitter,this.taskClick=new n.EventEmitter,this.showProcessDiagram=new n.EventEmitter}return t.prototype.ngOnChanges=function(t){var e=t.processInstanceId;!e||e.currentValue?e&&e.currentValue&&this.load(e.currentValue):this.reset()},t.prototype.reset=function(){this.processInstanceDetails=null},t.prototype.load=function(t){var e=this;t&&this.activitiProcess.getProcess(t).subscribe(function(t){e.processInstanceDetails=t})},t.prototype.isRunning=function(){return this.processInstanceDetails&&!this.processInstanceDetails.ended},t.prototype.cancelProcess=function(){var t=this;this.activitiProcess.cancelProcess(this.processInstanceId).subscribe(function(e){t.processCancelled.emit(e)},function(e){t.error.emit(e)})},t.prototype.onTaskClicked=function(t){this.taskClick.emit(t)},t.prototype.getProcessNameOrDescription=function(t){var e="";return this.processInstanceDetails&&(e=this.processInstanceDetails.name||this.processInstanceDetails.processDefinitionName+" - "+this.getFormatDate(this.processInstanceDetails.started,t)),e},t.prototype.getFormatDate=function(t,n){var i=new e.DatePipe("en-US");try{return i.transform(t,n)}catch(s){this.logService.error("ProcessListInstanceHeader: error parsing date "+t+" to format "+n)}},t.prototype.onShowProcessDiagram=function(t){this.showProcessDiagram.emit({value:this.processInstanceId})},t}();us.decorators=[{type:n.Component,args:[{selector:"adf-process-instance-details",template:'\n      <div *ngIf="!processInstanceDetails">{{ \'ADF_PROCESS_LIST.DETAILS.MESSAGES.NONE\'|translate }}</div>\n      <mat-card *ngIf="processInstanceDetails">\n          <mat-card-header>\n              <mat-card-title>{{ getProcessNameOrDescription(\'medium\') }}</mat-card-title>\n          </mat-card-header>\n          <mat-card-content>\n              <adf-process-instance-header\n                  [processInstance]="processInstanceDetails"\n                  (showProcessDiagram)="onShowProcessDiagram($event)">\n              </adf-process-instance-header>\n\n              <button class="adf-in-medias-res-button" mat-button id="show-diagram-button" type="button" mat-button mat-raised-button [disabled]="!isRunning()" (click)="onShowProcessDiagram(processInstanceId)">{{ \'ADF_PROCESS_LIST.DETAILS.BUTTON.SHOW_DIAGRAM\' | translate }}</button>\n\n              <mat-card>\n                  <mat-card-content>\n                      <adf-process-instance-tasks\n                          [processInstanceDetails]="processInstanceDetails"\n                          (taskClick)="onTaskClicked($event)">\n                      </adf-process-instance-tasks>\n                  </mat-card-content>\n              </mat-card>\n\n              <div data-automation-id="header-status" *ngIf="isRunning()" class="adf-in-medias-res-button">\n                  <button mat-button type="button" (click)="cancelProcess()">{{ \'ADF_PROCESS_LIST.DETAILS.BUTTON.CANCEL\' | translate }}</button>\n              </div>\n\n              <mat-card>\n                  <mat-card-content>\n                      <adf-process-instance-comments #activiticomments\n                          [readOnly]="false"\n                          [processInstanceId]="processInstanceDetails.id">\n                      </adf-process-instance-comments>\n                  </mat-card-content>\n              </mat-card>\n\n          </mat-card-content>\n      </mat-card>\n    ',styles:["\n      :host {\n          width: 100%;\n      }\n\n      .activiti-process-container {\n          width: 100%;\n          min-height: 100px;\n          overflow: visible;\n          padding: 10px;\n      }\n\n      .adf-comments-dialog {\n          position: fixed;\n          top: 50%;\n          -webkit-transform: translate(0, -50%);\n                  transform: translate(0, -50%);\n          width: 40%;\n      }\n\n      .adf-in-medias-res-button {\n          margin: 16px 0;\n      }\n    "]}]}],us.ctorParameters=function(){return[{type:es},{type:r.LogService}]},us.propDecorators={processInstanceId:[{type:n.Input}],processInstanceHeader:[{type:n.ViewChild,args:[as]}],tasksList:[{type:n.ViewChild,args:[ls]}],showTitle:[{type:n.Input}],showRefreshButton:[{type:n.Input}],processCancelled:[{type:n.Output}],error:[{type:n.Output}],taskClick:[{type:n.Output}],showProcessDiagram:[{type:n.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ps={"default":[{key:"name",type:"text",title:"ADF_PROCESS_LIST.PROPERTIES.NAME",sortable:!0},{key:"created",type:"text",title:"ADF_PROCESS_LIST.PROPERTIES.CREATED",cssClass:"hidden",sortable:!0}]},hs=function(){function t(t,e){this.processService=t,this.appConfig=e,this.rowClick=new n.EventEmitter,this.success=new n.EventEmitter,this.error=new n.EventEmitter,this.isLoading=!0,this.layoutPresets={}}return t.prototype.ngAfterContentInit=function(){this.loadLayoutPresets(),this.setupSchema(),this.appId&&this.reload()},t.prototype.setupSchema=function(){var t=[];this.columnList&&this.columnList.columns&&this.columnList.columns.length>0&&(t=this.columnList.columns.map(function(t){return t})),this.data?t&&t.length>0?this.data.setColumns(t):0===this.data.getColumns().length&&(this.presetColumn?this.setupDefaultColumns(this.presetColumn):this.setupDefaultColumns()):this.data=new r.ObjectDataTableAdapter([],t.length>0?t:this.getLayoutPreset(this.presetColumn))},t.prototype.ngOnChanges=function(t){this.isPropertyChanged(t)&&this.reload()},t.prototype.isPropertyChanged=function(t){var e=!1,n=t.appId,i=t.processDefinitionKey,s=t.state,r=t.sort,o=t.name;return n&&n.currentValue?e=!0:i&&i.currentValue?e=!0:s&&s.currentValue?e=!0:r&&r.currentValue?e=!0:o&&o.currentValue&&(e=!0),e},t.prototype.reload=function(){this.requestNode=this.createRequestNode(),this.load(this.requestNode)},t.prototype.load=function(t){var e=this;this.isLoading=!0,this.processService.getProcessInstances(t,this.processDefinitionKey).subscribe(function(t){var n=e.createDataRow(t);e.renderInstances(n),e.selectFirst(),e.success.emit(t),e.isLoading=!1},function(t){e.error.emit(t),e.isLoading=!1})},t.prototype.createDataRow=function(t){var e=[];return t.forEach(function(t){e.push(new r.ObjectDataRow(t))}),e},t.prototype.renderInstances=function(t){t=this.optimizeNames(t),this.setDatatableSorting(),this.data.setRows(t)},t.prototype.setDatatableSorting=function(){if(this.sort){var t=this.sort.split("-");if(2===t.length){var e="created"===t[0]?"started":t[0],n=t[1];this.data.setSorting(new r.DataSorting(e,n))}}},t.prototype.selectFirst=function(){if(this.isListEmpty())this.data&&(this.data.selectedRow=null),this.currentInstanceId=null;else{var t=this.data.getRows()[0];t.isSelected=!0,this.data.selectedRow=t,this.currentInstanceId=t.getValue("id")}},t.prototype.getCurrentId=function(){return this.currentInstanceId},t.prototype.isListEmpty=function(){return this.data===undefined||this.data&&this.data.getRows()&&0===this.data.getRows().length},t.prototype.onRowClick=function(t){var e=t;this.currentInstanceId=e.value.getValue("id"),this.rowClick.emit(this.currentInstanceId)},t.prototype.onRowKeyUp=function(t){"Enter"===t.detail.keyboardEvent.key&&(t.preventDefault(),this.currentInstanceId=t.detail.row.getValue("id"),this.rowClick.emit(this.currentInstanceId))},t.prototype.optimizeNames=function(t){var e=this;return t=t.map(function(t){return t.obj.name=e.getProcessNameOrDescription(t.obj,"medium"),t})},t.prototype.getProcessNameOrDescription=function(t,e){var n="";return t&&(n=t.name||t.processDefinitionName+" - "+this.getFormatDate(t.started,e)),n},t.prototype.getFormatDate=function(t,n){var i=new e.DatePipe("en-US");try{return i.transform(t,n)}catch(s){return""}},t.prototype.createRequestNode=function(){var t={appDefinitionId:this.appId,state:this.state,sort:this.sort};return new ss(t)},t.prototype.setupDefaultColumns=function(t){if(void 0===t&&(t="default"),this.data){var e=this.getLayoutPreset(t);this.data.setColumns(e)}},t.prototype.loadLayoutPresets=function(){var t=this.appConfig.get("adf-process-list.presets",null);this.layoutPresets=t?Object.assign({},ps,t):ps},t.prototype.getLayoutPreset=function(t){return void 0===t&&(t="default"),(this.layoutPresets[t]||this.layoutPresets["default"]).map(function(t){return new r.ObjectDataColumn(t)})},t}();hs.decorators=[{type:n.Component,args:[{selector:"adf-process-instance-list",styles:["\n      adf-datatable >>> .column-header {\n          color: #232323;\n          font-size: 15px;\n      }\n\n      adf-datatable >>> .data-cell {\n          cursor: pointer !important;\n      }\n\n      adf-datatable >>> .cell-value{\n          width: 250px;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis\n      }\n\n      .adf-process-list-loading-margin {\n          margin-left: calc((100% - 100px) / 2);\n          margin-right: calc((100% - 100px) / 2);\n      }\n\n      .no-content-message {\n          font-size: 16px;\n          font-weight: bold;\n          text-align: center;\n          opacity: 0.54;\n          color: #000;\n      }\n    "],template:'\n      <div *ngIf="!requestNode">{{ \'ADF_PROCESS_LIST.FILTERS.MESSAGES.NONE\' | translate }}</div>\n      <div *ngIf="requestNode">\n          <adf-datatable\n              [data]="data"\n              [loading]="isLoading"\n              (rowClick)="onRowClick($event)"\n              (row-keyup)="onRowKeyUp($event)">\n              <loading-content-template>\n                  <ng-template>\n                      \x3c!--Add your custom loading template here--\x3e\n                      <mat-progress-spinner\n                          class="adf-process-list-loading-margin"\n                          [color]="\'primary\'"\n                          [mode]="\'indeterminate\'">\n                      </mat-progress-spinner>\n                  </ng-template>\n              </loading-content-template>\n              <no-content-template>\n                  \x3c!--Add your custom empty template here--\x3e\n                  <ng-template>\n                      <div class="no-content-message">\n                          {{ \'ADF_PROCESS_LIST.LIST.NONE\' | translate }}\n                      </div>\n                  </ng-template>\n              </no-content-template>\n          </adf-datatable>\n      </div>\n    '}]}],hs.ctorParameters=function(){return[{type:es},{type:r.AppConfigService}]},hs.propDecorators={columnList:[{type:n.ContentChild,args:[r.DataColumnListComponent]}],appId:[{type:n.Input}],processDefinitionKey:[{type:n.Input}],state:[{type:n.Input}],sort:[{type:n.Input}],name:[{type:n.Input}],presetColumn:[{type:n.Input}],data:[{type:n.Input}],rowClick:[{type:n.Output}],success:[{type:n.Output}],error:[{type:n.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ds=function(){function t(t){this.activitiProcess=t,this.start=new n.EventEmitter,this.cancel=new n.EventEmitter,this.error=new n.EventEmitter,this.processDefinitions=[],this.currentProcessDef=new Zi,this.errorMessageId=""}return t.prototype.ngOnChanges=function(t){var e=t.appId,n=e?e.currentValue:null;this.load(n)},t.prototype.load=function(t){var e=this;this.resetSelectedProcessDefinition(),this.resetErrorMessage(),this.activitiProcess.getProcessDefinitions(t).subscribe(function(t){e.processDefinitions=t},function(){e.errorMessageId="ADF_PROCESS_LIST.START_PROCESS.ERROR.LOAD_PROCESS_DEFS"})},t.prototype.startProcess=function(t){var e=this;if(this.currentProcessDef.id&&this.name){this.resetErrorMessage();var n=this.startForm?this.startForm.form.values:undefined;this.activitiProcess.startProcess(this.currentProcessDef.id,this.name,t,n,this.variables).subscribe(function(t){e.name="",e.start.emit(t)},function(t){e.errorMessageId="ADF_PROCESS_LIST.START_PROCESS.ERROR.START",e.error.error(t)})}},t.prototype.onProcessDefChange=function(t){var e=this.processDefinitions.find(function(e){return e.id===t});e?this.currentProcessDef=JSON.parse(JSON.stringify(e)):this.resetSelectedProcessDefinition()},t.prototype.cancelStartProcess=function(){this.cancel.emit()},t.prototype.hasStartForm=function(){return this.currentProcessDef&&this.currentProcessDef.hasStartForm},t.prototype.isProcessDefinitionEmpty=function(){return this.processDefinitions?this.processDefinitions.length>0||this.errorMessageId:this.errorMessageId},t.prototype.isStartFormMissingOrValid=function(){return!this.startForm||this.startForm.form&&this.startForm.form.isValid},t.prototype.validateForm=function(){return this.currentProcessDef.id&&this.name&&this.isStartFormMissingOrValid()},t.prototype.resetSelectedProcessDefinition=function(){this.currentProcessDef=new Zi},t.prototype.resetErrorMessage=function(){this.errorMessageId=""},t.prototype.hasErrorMessage=function(){return 0===this.processDefinitions.length&&!this.errorMessageId},t.prototype.onOutcomeClick=function(t){this.startProcess(t)},t.prototype.reset=function(){this.resetSelectedProcessDefinition(),this.name="",this.startForm&&(this.startForm.data={}),this.resetErrorMessage()},t.prototype.hasProcessName=function(){return!!this.name},t}();ds.decorators=[{type:n.Component,args:[{selector:"adf-start-process",template:'\n      <mat-card class="adf-start-process">\n      \t<mat-card-title>{{\'ADF_PROCESS_LIST.START_PROCESS.FORM.TITLE\' | translate}}\n      \t</mat-card-title>\n      \t<mat-card-content *ngIf="isProcessDefinitionEmpty()">\n      \t\t<mat-card-subtitle id="error-message" *ngIf="errorMessageId">\n      \t\t\t{{errorMessageId|translate}}\n      \t\t</mat-card-subtitle>\n      \t\t<mat-form-field class="adf-process-input-container">\n      \t\t\t<input matInput placeholder="{{\'ADF_PROCESS_LIST.START_PROCESS.FORM.LABEL.NAME\'|translate}}" [(ngModel)]="name" id="processName" required />\n      \t\t</mat-form-field>\n              <mat-form-field>\n                  <mat-select placeholder="{{\'ADF_PROCESS_LIST.START_PROCESS.FORM.LABEL.TYPE\'|translate}}" [(ngModel)]="currentProcessDef.id" (ngModelChange)="onProcessDefChange($event)" required>\n                      <mat-option>{{\'ADF_PROCESS_LIST.START_PROCESS.FORM.TYPE_PLACEHOLDER\' | translate}}</mat-option>\n                      <mat-option *ngFor="let processDef of processDefinitions" [value]="processDef.id">\n                          {{ processDef.name }}\n                      </mat-option>\n                  </mat-select>\n              </mat-form-field>\n              <adf-start-form *ngIf="hasStartForm()"\n                  [disableStartProcessButton]="!hasProcessName()"\n      \t\t\t[processDefinitionId]="currentProcessDef.id"\n      \t\t\t(outcomeClick)="onOutcomeClick($event)"\n      \t\t    [showRefreshButton]="false">\n      \t\t<button form-custom-button mat-button (click)="cancelStartProcess()" id="cancle_process" class=""> {{\'ADF_PROCESS_LIST.START_PROCESS.FORM.ACTION.CANCEL\'| translate}} </button>\n      \t\t</adf-start-form>\n      \t</mat-card-content>\n      \t<mat-card-content *ngIf="hasErrorMessage()">\n      \t\t<mat-card-subtitle class="error-message" id="no-process-message">\n      \t\t\t{{\'ADF_PROCESS_LIST.START_PROCESS.NO_PROCESS_DEFINITIONS\' | translate}}\n      \t\t</mat-card-subtitle>\n      \t</mat-card-content>\n      \t<mat-card-actions *ngIf="!hasStartForm()">\n      \t\t<button mat-button *ngIf="!hasStartForm()" (click)="cancelStartProcess()" id="cancle_process" class=""> {{\'ADF_PROCESS_LIST.START_PROCESS.FORM.ACTION.CANCEL\'| translate}} </button>\n      \t\t<button mat-button *ngIf="!hasStartForm()" [disabled]="!validateForm()" (click)="startProcess()" data-automation-id="btn-start" id="button-start" class="btn-start"> {{\'ADF_PROCESS_LIST.START_PROCESS.FORM.ACTION.START\' | translate}} </button>\n      \t</mat-card-actions>\n      </mat-card>\n    ',styles:["\n      .adf-start-process {\n        width: calc(66.6666% - 48px);\n        margin-left: calc(33.3333333333% / 2);\n        margin-right: calc(33.3333333333% / 2);\n        margin-top: 10px; }\n        .adf-start-process .mat-select-trigger {\n          font-size: 14px !important; }\n        .adf-start-process mat-form-field {\n          width: 100%; }\n        .adf-start-process mat-select {\n          width: 100%;\n          padding: 16px 0px 0px 0px; }\n        .adf-start-process mat-card-actions {\n          text-align: right; }\n\n      .adf-process-input-container mat-form-field {\n        width: 100%; }\n\n      .adf-start-form-container .mat-card {\n        -webkit-box-shadow: none !important;\n                box-shadow: none !important;\n        padding: 0px !important; }\n\n      .adf-start-form-actions {\n        text-align: right !important; }\n    "],encapsulation:n.ViewEncapsulation.None}]}],ds.ctorParameters=function(){return[{type:es}]},ds.propDecorators={appId:[{type:n.Input}],variables:[{type:n.Input}],start:[{type:n.Output}],cancel:[{type:n.Output}],error:[{type:n.Output}],startForm:[{type:n.ViewChild,args:[r.StartFormComponent]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fs=function(){return function(){}}();fs.decorators=[{type:n.NgModule,args:[{imports:[e.CommonModule,r.DataTableModule,r.FormModule,Qi,M,a.FlexLayoutModule,c.TranslateModule,r.CardViewModule,i.FormsModule,i.ReactiveFormsModule,r.PipeModule,r.DataColumnModule,r.DirectiveModule,Ii,xi],declarations:[hs,os,us,ns,as,ls,ds],providers:[es,rs,r.CardViewUpdateService],exports:[hs,os,us,ns,as,ls,ds]}]}],fs.ctorParameters=function(){return[]};var ms=function(){function t(){this.initIconsMDL()}return t.prototype.mapGlyphiconToMaterialDesignIcons=function(e){return this.iconsMDL.get(e)?this.iconsMDL.get(e):t.DEFAULT_TASKS_APP_MATERIAL_ICON},t.prototype.initIconsMDL=function(){this.iconsMDL=new Map,this.iconsMDL.set("glyphicon-asterisk","ac_unit"),this.iconsMDL.set("glyphicon-plus","add"),this.iconsMDL.set("glyphicon-euro","euro_symbol"),this.iconsMDL.set("glyphicon-cloud","cloud"),this.iconsMDL.set("glyphicon-envelope","mail"),this.iconsMDL.set("glyphicon-pencil","create"),this.iconsMDL.set("glyphicon-glass","local_bar"),this.iconsMDL.set("glyphicon-music","music_note"),this.iconsMDL.set("glyphicon-search","search"),this.iconsMDL.set("glyphicon-heart","favorite"),this.iconsMDL.set("glyphicon-heart-empty","favorite_border"),this.iconsMDL.set("glyphicon-star","star"),this.iconsMDL.set("glyphicon-star-empty","star_border"),this.iconsMDL.set("glyphicon-user","person"),this.iconsMDL.set("glyphicon-film","movie_creation"),this.iconsMDL.set("glyphicon-th-large","view_comfy"),this.iconsMDL.set("glyphicon-th","view_compact"),this.iconsMDL.set("glyphicon-th-list","list"),this.iconsMDL.set("glyphicon-ok","done"),this.iconsMDL.set("glyphicon-remove","cancel"),this.iconsMDL.set("glyphicon-zoom-in","zoom_in"),this.iconsMDL.set("glyphicon-zoom-out","zoom_out"),this.iconsMDL.set("glyphicon-off","highlight_off"),this.iconsMDL.set("glyphicon-signal","signal_cellular_4_bar"),this.iconsMDL.set("glyphicon-cog","settings"),this.iconsMDL.set("glyphicon-trash","delete"),this.iconsMDL.set("glyphicon-home","home"),this.iconsMDL.set("glyphicon-file","insert_drive_file"),this.iconsMDL.set("glyphicon-time","access_time"),this.iconsMDL.set("glyphicon-road","map"),this.iconsMDL.set("glyphicon-download-alt","file_download"),this.iconsMDL.set("glyphicon-download","file_download"),this.iconsMDL.set("glyphicon-upload","file_upload"),this.iconsMDL.set("glyphicon-inbox","inbox"),this.iconsMDL.set("glyphicon-play-circle","play_circle_outline"),this.iconsMDL.set("glyphicon-repeat","refresh"),this.iconsMDL.set("glyphicon-refresh","sync"),this.iconsMDL.set("glyphicon-list-alt","event_note"),this.iconsMDL.set("glyphicon-lock","lock_outline"),this.iconsMDL.set("glyphicon-flag","assistant_photo"),this.iconsMDL.set("glyphicon-headphones","headset"),this.iconsMDL.set("glyphicon-volume-up","volume_up"),this.iconsMDL.set("glyphicon-tag","local_offer"),this.iconsMDL.set("glyphicon-tags","local_offer"),this.iconsMDL.set("glyphicon-book","library_books"),this.iconsMDL.set("glyphicon-bookmark","collections_bookmark"),this.iconsMDL.set("glyphicon-print","local_printshop"),this.iconsMDL.set("glyphicon-camera","local_see"),this.iconsMDL.set("glyphicon-list","view_list"),this.iconsMDL.set("glyphicon-facetime-video","video_call"),this.iconsMDL.set("glyphicon-picture","photo"),this.iconsMDL.set("glyphicon-map-marker","add_location"),this.iconsMDL.set("glyphicon-adjust","brightness_4"),this.iconsMDL.set("glyphicon-tint","invert_colors"),this.iconsMDL.set("glyphicon-edit","edit"),this.iconsMDL.set("glyphicon-share","share"),this.iconsMDL.set("glyphicon-check","assignment_turned_in"),this.iconsMDL.set("glyphicon-move","open_with"),this.iconsMDL.set("glyphicon-play","play_arrow"),this.iconsMDL.set("glyphicon-eject","eject"),this.iconsMDL.set("glyphicon-plus-sign","add_circle"),this.iconsMDL.set("glyphicon-minus-sign","remove_circle"),this.iconsMDL.set("glyphicon-remove-sign","cancel"),this.iconsMDL.set("glyphicon-ok-sign","check_circle"),this.iconsMDL.set("glyphicon-question-sign","help"),this.iconsMDL.set("glyphicon-info-sign","info"),this.iconsMDL.set("glyphicon-screenshot","flare"),this.iconsMDL.set("glyphicon-remove-circle","cancel"),this.iconsMDL.set("glyphicon-ok-circle","add_circle"),this.iconsMDL.set("glyphicon-ban-circle","block"),this.iconsMDL.set("glyphicon-share-alt","redo"),this.iconsMDL.set("glyphicon-exclamation-sign","error"),this.iconsMDL.set("glyphicon-gift","giftcard"),this.iconsMDL.set("glyphicon-leaf","spa"),this.iconsMDL.set("glyphicon-fire","whatshot"),this.iconsMDL.set("glyphicon-eye-open","remove_red_eye"),this.iconsMDL.set("glyphicon-eye-close","remove_red_eye"),this.iconsMDL.set("glyphicon-warning-sign","warning"),this.iconsMDL.set("glyphicon-plane","airplanemode_active"),this.iconsMDL.set("glyphicon-calendar",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-random",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-comment",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-magnet",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-retweet",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-shopping-cart",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-folder-close",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-folder-open",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-hdd",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-bullhorn",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-bell",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-certificate",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-thumbs-up",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-thumbs-down",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-hand-left",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-globe",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-wrench",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-tasks",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-filter",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-briefcase",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-dashboard",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-paperclip",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-link",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-phone",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-pushpin",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-usd",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-gbp",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-sort",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-flash",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-record",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-save",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-open",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-saved",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-send","send"),this.iconsMDL.set("glyphicon-floppy-disk",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-credit-card",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-cutlery",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-earphone",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-phone-alt",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-tower",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-stats",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-cloud-download",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-cloud-upload",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-tree-conifer",t.DEFAULT_TASKS_APP_MATERIAL_ICON),this.iconsMDL.set("glyphicon-tree-deciduous",t.DEFAULT_TASKS_APP_MATERIAL_ICON)},t}();ms.DEFAULT_TASKS_APP_MATERIAL_ICON="favorite_border";/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ys=function(){function t(e,i){var s=this;this.appsProcessService=e,this.translationService=i,this.layoutType=t.LAYOUT_GRID,this.appClick=new n.EventEmitter,this.error=new n.EventEmitter,this.appList=[],this.apps$=new l.Observable(function(t){return s.appsObserver=t}).share()}return t.prototype.ngOnInit=function(){var t=this;this.isValidType()||this.setDefaultLayoutType(),this.apps$.subscribe(function(e){t.appList.push(e)}),this.iconsMDL=new ms,this.load()},t.prototype.load=function(){var e=this;this.appsProcessService.getDeployedApplications().subscribe(function(n){e.filterApps(n).forEach(function(n){e.isDefaultApp(n)?(n.theme=t.DEFAULT_TASKS_APP_THEME,n.icon=t.DEFAULT_TASKS_APP_ICON,e.appsObserver.next(n)):n.deploymentId&&e.appsObserver.next(n)})},function(t){e.error.emit(t)})},t.prototype.isDefaultApp=function(e){return e.defaultAppId===t.DEFAULT_TASKS_APP},t.prototype.getAppName=function(e){return this.isDefaultApp(e)?this.translationService.get(t.DEFAULT_TASKS_APP_NAME):l.Observable.of(e.name)},t.prototype.selectApp=function(t){this.currentApp=t,this.appClick.emit(t)},t.prototype.isSelected=function(t){return this.currentApp!==undefined&&t===this.currentApp.id},t.prototype.filterApps=function(t){var e=this,n=[];return this.filtersAppId?(t.filter(function(t){e.filtersAppId.forEach(function(e){t.defaultAppId!==e.defaultAppId&&t.deploymentId!==e.deploymentId&&t.name!==e.name&&t.id!==e.id&&t.modelId!==e.modelId&&t.tenantId!==e.tenantId||n.push(t)})}),n):t},t.prototype.isValidType=function(){return!(!this.layoutType||this.layoutType!==t.LAYOUT_LIST&&this.layoutType!==t.LAYOUT_GRID)},t.prototype.setDefaultLayoutType=function(){this.layoutType=t.LAYOUT_GRID},t.prototype.isList=function(){return this.layoutType===t.LAYOUT_LIST},t.prototype.isGrid=function(){return this.layoutType===t.LAYOUT_GRID},t.prototype.isEmpty=function(){return 0===this.appList.length},t.prototype.getTheme=function(t){return t.theme?t.theme:""},t.prototype.getBackgroundIcon=function(t){return this.iconsMDL.mapGlyphiconToMaterialDesignIcons(t.icon)},t}();ys.LAYOUT_LIST="LIST",ys.LAYOUT_GRID="GRID",ys.DEFAULT_TASKS_APP="tasks",ys.DEFAULT_TASKS_APP_NAME="ADF_TASK_LIST.APPS.TASK_APP_NAME",ys.DEFAULT_TASKS_APP_THEME="theme-2",ys.DEFAULT_TASKS_APP_ICON="glyphicon-asterisk",ys.DEFAULT_TASKS_APP_MATERIAL_ICON="favorite_border",ys.decorators=[{type:n.Component,args:[{selector:"adf-apps",template:'\n      <div class="menu-container" *ngIf="!isEmpty()">\n          <mat-list *ngIf="isList()" class="adf-app-list">\n              <mat-list-item class="adf-app-list-item" (click)="selectApp(app)" (keyup.enter)="selectApp(app)" *ngFor="let app of appList" tabindex="0" role="button" title="{{app.name}}">\n                  <mat-icon matListIcon>touch_app</mat-icon>\n                  <span matLine>{{getAppName(app) | async}}</span>\n              </mat-list-item>\n          </mat-list>\n          <div fxLayout="row wrap" *ngIf="isGrid()" class="adf-app-listgrid">\n              <div *ngFor="let app of appList"\n                  class="adf-app-listgrid-item"\n                  fxFlex="33.33333%" fxFlex.lt-md="50%" fxFlex.lt-sm="100%">\n                      <mat-card tabindex="0"\n                          fxLayout="column"\n                          role="button"\n                          class="adf-app-listgrid-item-card"\n                          title="{{getAppName(app) | async}}"\n                          [ngClass]="[getTheme(app)]"\n                          (click)="selectApp(app)"\n                          (keyup.enter)="selectApp(app)">\n                              <div class="adf-app-listgrid-item-card-logo">\n                                  <mat-icon class="adf-app-listgrid-item-card-logo-icon">{{getBackgroundIcon(app)}}</mat-icon>\n                              </div>\n                              <div mat-card-title class="adf-app-listgrid-item-card-title">\n                                  <h1>{{getAppName(app) | async}}</h1>\n                              </div>\n                              <mat-card-subtitle class="adf-app-listgrid-item-card-subtitle" fxFlex="1 0 auto">\n                                  <p>{{app.description}}</p>\n                              </mat-card-subtitle>\n\n                              <mat-card-actions class="adf-app-listgrid-item-card-actions">\n                                  <mat-icon class="adf-app-listgrid-item-card-actions-icon" *ngIf="isSelected(app.id)">done</mat-icon>\n                              </mat-card-actions>\n                      </mat-card>\n              </div>\n          </div>\n      </div>\n      <div class="menu-container" *ngIf="isEmpty()">\n          {{ \'ADF_TASK_LIST.APPS.NONE\' | translate }}\n      </div>\n    ',styles:["\n      :host {\n        width: 100%; }\n\n      .adf-app-list-item {\n        cursor: pointer; }\n\n      .adf-app-listgrid {\n        padding: 8px; }\n        .adf-app-listgrid-item {\n          outline: none;\n          padding: 8px;\n          -webkit-box-sizing: border-box;\n                  box-sizing: border-box; }\n          .adf-app-listgrid-item-card {\n            outline: none;\n            -webkit-transition: -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);\n            transition: -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);\n            transition: transform 280ms cubic-bezier(0.4, 0, 0.2, 1), box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);\n            transition: transform 280ms cubic-bezier(0.4, 0, 0.2, 1), box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);\n            min-height: 200px;\n            padding: 0; }\n            .adf-app-listgrid-item-card.theme-1 {\n              background-color: #269abc; }\n            .adf-app-listgrid-item-card.theme-2 {\n              background-color: #7da9b0; }\n            .adf-app-listgrid-item-card.theme-3 {\n              background-color: #7689ab; }\n            .adf-app-listgrid-item-card.theme-4 {\n              background-color: #c74e3e; }\n            .adf-app-listgrid-item-card.theme-5 {\n              background-color: #fab96c; }\n            .adf-app-listgrid-item-card.theme-6 {\n              background-color: #759d4c; }\n            .adf-app-listgrid-item-card.theme-7 {\n              background-color: #b1b489; }\n            .adf-app-listgrid-item-card.theme-8 {\n              background-color: #a17299; }\n            .adf-app-listgrid-item-card.theme-9 {\n              background-color: #696c67; }\n            .adf-app-listgrid-item-card.theme-10 {\n              background-color: #cabb33; }\n            .adf-app-listgrid-item-card:hover {\n              -webkit-box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12), 0 5px 5px -3px rgba(0, 0, 0, 0.2);\n                      box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12), 0 5px 5px -3px rgba(0, 0, 0, 0.2);\n              cursor: pointer;\n              -webkit-transform: scale(1.015);\n                      transform: scale(1.015); }\n            .adf-app-listgrid-item-card-logo {\n              position: absolute;\n              right: 20px;\n              top: 20px;\n              padding: 16px; }\n              .adf-app-listgrid-item-card-logo-icon {\n                font-size: 70px;\n                width: 1em;\n                height: 1em; }\n                .theme-1 .adf-app-listgrid-item-card-logo-icon {\n                  color: #168aac; }\n                .theme-2 .adf-app-listgrid-item-card-logo-icon {\n                  color: #6d99a0; }\n                .theme-3 .adf-app-listgrid-item-card-logo-icon {\n                  color: #66799b; }\n                .theme-4 .adf-app-listgrid-item-card-logo-icon {\n                  color: #b73e2e; }\n                .theme-5 .adf-app-listgrid-item-card-logo-icon {\n                  color: #eaa95c; }\n                .theme-6 .adf-app-listgrid-item-card-logo-icon {\n                  color: #658d3c; }\n                .theme-7 .adf-app-listgrid-item-card-logo-icon {\n                  color: #a1a479; }\n                .theme-8 .adf-app-listgrid-item-card-logo-icon {\n                  color: #916289; }\n                .theme-9 .adf-app-listgrid-item-card-logo-icon {\n                  color: #595c57; }\n                .theme-10 .adf-app-listgrid-item-card-logo-icon {\n                  color: #baab23; }\n            .adf-app-listgrid-item-card-title {\n              padding: 16px; }\n              .adf-app-listgrid-item-card-title h1 {\n                color: white;\n                width: 80%;\n                font-size: 24px;\n                margin: 0;\n                line-height: normal;\n                white-space: nowrap;\n                text-overflow: ellipsis;\n                overflow: hidden; }\n            .adf-app-listgrid-item-card-subtitle {\n              padding: 16px; }\n            .adf-app-listgrid-item-card-actions {\n              padding: 0 16px 16px 16px;\n              border-top: 1px solid rgba(0, 0, 0, 0.1);\n              min-height: 48px;\n              -webkit-box-sizing: border-box;\n                      box-sizing: border-box; }\n              .adf-app-listgrid-item-card-actions-icon {\n                color: #e9f1f3; }\n              .adf-app-listgrid-item-card-actions.mat-card-actions {\n                margin-left: 0px;\n                margin-right: 0px; }\n                .adf-app-listgrid-item-card-actions.mat-card-actions:last-child {\n                  margin-bottom: 0; }\n    "]}]}],ys.ctorParameters=function(){return[{type:r.AppsProcessService},{type:r.TranslationService}]},ys.propDecorators={layoutType:[{type:n.Input}],filtersAppId:[{type:n.Input}],appClick:[{type:n.Output}],error:[{type:n.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var bs=function(){return function(){}}();bs.decorators=[{type:n.NgModule,args:[{imports:[e.CommonModule,M,a.FlexLayoutModule,c.TranslateModule],declarations:[ys],providers:[],exports:[ys]}]}],bs.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vs=function(){function t(t,e,i,s){this.activitiContentService=t,this.contentService=e,this.thumbnailService=i,this.ngZone=s,this.disabled=!1,this.attachmentClick=new n.EventEmitter,this.success=new n.EventEmitter,this.error=new n.EventEmitter,this.hasCustomTemplate=!1,this.attachments=[],this.isLoading=!1}return t.prototype.ngOnChanges=function(t){t.taskId&&t.taskId.currentValue&&this.loadAttachmentsByTaskId(t.taskId.currentValue)},t.prototype.ngAfterContentInit=function(){this.emptyTemplate&&(this.hasCustomTemplate=!0)},t.prototype.reset=function(){this.attachments=[]},t.prototype.hasCutomEmptyTemplate=function(){return!!this.emptyTemplate},t.prototype.reload=function(){var t=this;this.ngZone.run(function(){t.loadAttachmentsByTaskId(t.taskId)})},t.prototype.add=function(t){var e=this;this.ngZone.run(function(){e.attachments.push({id:t.id,name:t.name,created:t.created,createdBy:t.createdBy.firstName+" "+t.createdBy.lastName,icon:e.thumbnailService.getMimeTypeIcon(t.mimeType)})})},t.prototype.loadAttachmentsByTaskId=function(t){var e=this;t&&(this.isLoading=!0,this.reset(),this.activitiContentService.getTaskRelatedContent(t).subscribe(function(t){var n=[];t.data.forEach(function(t){n.push({id:t.id,name:t.name,created:t.created,createdBy:t.createdBy.firstName+" "+t.createdBy.lastName,icon:e.thumbnailService.getMimeTypeIcon(t.mimeType)})}),e.attachments=n,e.success.emit(e.attachments),e.isLoading=!1},function(t){e.error.emit(t),e.isLoading=!1}))},t.prototype.deleteAttachmentById=function(t){var e=this;t&&this.activitiContentService.deleteRelatedContent(t).subscribe(function(n){e.attachments=e.attachments.filter(function(e){return e.id!==t})},function(t){e.error.emit(t)})},t.prototype.isEmpty=function(){return this.attachments&&0===this.attachments.length},t.prototype.onShowRowActionsMenu=function(t){t.value.actions=[{title:"ADF_TASK_LIST.MENU_ACTIONS.VIEW_CONTENT",name:"view"},{title:"ADF_TASK_LIST.MENU_ACTIONS.DOWNLOAD_CONTENT",name:"download"}],this.disabled||t.value.actions.splice(1,0,{title:"ADF_TASK_LIST.MENU_ACTIONS.REMOVE_CONTENT",name:"remove"})},t.prototype.onExecuteRowAction=function(t){var e=t.value,n=e.action;"view"===n.name?this.emitDocumentContent(e.row.obj):"remove"===n.name?this.deleteAttachmentById(e.row.obj.id):"download"===n.name&&this.downloadContent(e.row.obj)},t.prototype.openContent=function(t){var e=t.value.obj;this.emitDocumentContent(e)},t.prototype.emitDocumentContent=function(t){var e=this;this.activitiContentService.getFileRawContent(t.id).subscribe(function(n){t.contentBlob=n,e.attachmentClick.emit(t)},function(t){e.error.emit(t)})},t.prototype.downloadContent=function(t){var e=this;this.activitiContentService.getFileRawContent(t.id).subscribe(function(n){return e.contentService.downloadBlob(n,t.name)},function(t){e.error.emit(t)})},t.prototype.isDisabled=function(){return this.disabled},t}();vs.decorators=[{type:n.Component,args:[{selector:"adf-task-attachment-list",styles:["\n\n    "],template:'\n      <adf-datatable [rows]="attachments"\n                     [actions]="true"\n                     [loading]="isLoading"\n                     (rowDblClick)="openContent($event)"\n                     (showRowActionsMenu)="onShowRowActionsMenu($event)"\n                     (executeRowAction)="onExecuteRowAction($event)">\n                  <no-content-template>\n                      <ng-template>\n                          <ng-content *ngIf="hasCustomTemplate; else defaulEmptyList" class="adf-custom-empty-template"></ng-content>\n                          <ng-template #defaulEmptyList>\n                              <adf-empty-list>\n                                  <div adf-empty-list-header class="adf-empty-list-header">\n                                      {{\'ADF_TASK_LIST.ATTACHMENT.EMPTY.HEADER\' | translate}}\n                                  </div>\n                              </adf-empty-list>\n                          </ng-template>\n                      </ng-template>\n                  </no-content-template>\n\n                  <data-columns>\n                      <data-column key="icon" type="image" srTitle="ADF_TASK_LIST.PROPERTIES.THUMBNAIL" [sortable]="false"></data-column>\n                      <data-column key="name" type="text" title="ADF_TASK_LIST.PROPERTIES.NAME" class="full-width ellipsis-cell" [sortable]="true"></data-column>\n                      <data-column key="created" type="date" format="shortDate" title="ADF_TASK_LIST.PROPERTIES.CREATED"></data-column>\n                  </data-columns>\n                  <loading-content-template>\n                      <ng-template>\n                      \x3c!--Add your custom loading template here--\x3e\n                          <mat-progress-spinner class="adf-attachment-list-loading-margin" [color]="\'primary\'" [mode]="\'indeterminate\'">\n                          </mat-progress-spinner>\n                      </ng-template>\n                  </loading-content-template>\n      </adf-datatable>\n    ',encapsulation:n.ViewEncapsulation.None}]}],vs.ctorParameters=function(){return[{type:r.ProcessContentService},{type:r.ContentService},{type:r.ThumbnailService},{type:n.NgZone}]},vs.propDecorators={emptyTemplate:[{type:n.ContentChild,args:[r.EmptyListComponent]}],taskId:[{type:n.Input}],disabled:[{type:n.Input}],attachmentClick:[{type:n.Output}],success:[{type:n.Output}],error:[{type:n.Output}],customTemplateRef:[{type:n.ViewChild,args:["customEmptyListTemplate"]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var gs=function(){function t(t,e,i,s){this.activitiContentService=t,this.contentService=e,this.thumbnailService=i,this.ngZone=s,this.disabled=!1,this.attachmentClick=new n.EventEmitter,this.success=new n.EventEmitter,this.error=new n.EventEmitter,this.emptyListImageUrl="./assets/images/empty_doc_lib.svg",this.attachments=[],this.isLoading=!0}return t.prototype.ngOnChanges=function(t){t.processInstanceId&&t.processInstanceId.currentValue&&this.loadAttachmentsByProcessInstanceId(t.processInstanceId.currentValue)},t.prototype.reset=function(){this.attachments=[]},t.prototype.reload=function(){var t=this;this.ngZone.run(function(){t.loadAttachmentsByProcessInstanceId(t.processInstanceId)})},t.prototype.add=function(t){var e=this;this.ngZone.run(function(){e.attachments.push({id:t.id,name:t.name,created:t.created,createdBy:t.createdBy.firstName+" "+t.createdBy.lastName,icon:e.thumbnailService.getMimeTypeIcon(t.mimeType)})})},t.prototype.loadAttachmentsByProcessInstanceId=function(t){var e=this;t&&(this.reset(),this.isLoading=!0,this.activitiContentService.getProcessRelatedContent(t).subscribe(function(t){t.data.forEach(function(t){e.attachments.push({id:t.id,name:t.name,created:t.created,createdBy:t.createdBy.firstName+" "+t.createdBy.lastName,icon:e.thumbnailService.getMimeTypeIcon(t.mimeType)})}),e.success.emit(e.attachments),e.isLoading=!1},function(t){e.error.emit(t),e.isLoading=!1}))},t.prototype.deleteAttachmentById=function(t){var e=this;t&&this.activitiContentService.deleteRelatedContent(t).subscribe(function(n){e.attachments=e.attachments.filter(function(e){return e.id!==t})},function(t){e.error.emit(t)})},t.prototype.isEmpty=function(){return this.attachments&&0===this.attachments.length},t.prototype.onShowRowActionsMenu=function(t){t.value.actions=[{title:"ADF_PROCESS_LIST.MENU_ACTIONS.VIEW_CONTENT",name:"view"},{title:"ADF_PROCESS_LIST.MENU_ACTIONS.DOWNLOAD_CONTENT",name:"download"}],this.disabled||t.value.actions.splice(1,0,{title:"ADF_PROCESS_LIST.MENU_ACTIONS.REMOVE_CONTENT",name:"remove"})},t.prototype.onExecuteRowAction=function(t){var e=t.value,n=e.action;"view"===n.name?this.emitDocumentContent(e.row.obj):"remove"===n.name?this.deleteAttachmentById(e.row.obj.id):"download"===n.name&&this.downloadContent(e.row.obj)},t.prototype.openContent=function(t){var e=t.value.obj;this.emitDocumentContent(e)},t.prototype.emitDocumentContent=function(t){var e=this;this.activitiContentService.getFileRawContent(t.id).subscribe(function(n){t.contentBlob=n,e.attachmentClick.emit(t)},function(t){e.error.emit(t)})},t.prototype.downloadContent=function(t){var e=this;this.activitiContentService.getFileRawContent(t.id).subscribe(function(n){return e.contentService.downloadBlob(n,t.name)},function(t){e.error.emit(t)})},t.prototype.isDisabled=function(){return this.disabled},t}();gs.decorators=[{type:n.Component,args:[{selector:"adf-process-attachment-list",styles:["\n\n    "],template:'\n      <adf-datatable [rows]="attachments" [actions]="true" [loading]="isLoading" (rowDblClick)="openContent($event)" (showRowActionsMenu)="onShowRowActionsMenu($event)"\n          (executeRowAction)="onExecuteRowAction($event)">\n\n          <adf-empty-list *ngIf="isEmpty()">\n              <div adf-empty-list-header class="adf-empty-list-header"> {{\'ADF_PROCESS_LIST.PROCESS-ATTACHMENT.EMPTY.HEADER\' | translate}} </div>\n              <div adf-empty-list-body *ngIf="!isDisabled()">\n                  <div fxHide.lt-md="true" class="adf-empty-list-drag_drop">{{\'ADF_PROCESS_LIST.PROCESS-ATTACHMENT.EMPTY.DRAG-AND-DROP.TITLE\' | translate}}</div>\n                  <div fxHide.lt-md="true" class="adf-empty-list__any-files-here-to-add"> {{\'ADF_PROCESS_LIST.PROCESS-ATTACHMENT.EMPTY.DRAG-AND-DROP.SUBTITLE\' | translate}} </div>\n              </div>\n              <div adf-empty-list-footer *ngIf="!isDisabled()">\n                  <img class="adf-empty-list__empty_doc_lib" [src]="emptyListImageUrl">\n              </div>\n          </adf-empty-list>\n\n          <data-columns>\n              <data-column key="icon" type="image" srTitle="ADF_PROCESS_LIST.PROPERTIES.THUMBNAIL" [sortable]="false"></data-column>\n              <data-column key="name" type="text" title="{{\'ADF_PROCESS_LIST.PROPERTIES.NAME\' | translate}}" class="full-width ellipsis-cell" [sortable]="true"></data-column>\n              <data-column key="created" type="date" format="shortDate" title="{{\'ADF_PROCESS_LIST.PROPERTIES.CREATED\' | translate}}"></data-column>\n          </data-columns>\n\n          <loading-content-template>\n              <ng-template>\n                  \x3c!--Add your custom loading template here--\x3e\n                  <mat-progress-spinner class="adf-attachment-list-loading-margin" [color]="\'primary\'" [mode]="\'indeterminate\'">\n                  </mat-progress-spinner>\n              </ng-template>\n          </loading-content-template>\n\n      </adf-datatable>\n    '}]}],gs.ctorParameters=function(){return[{type:r.ProcessContentService},{type:r.ContentService},{type:r.ThumbnailService},{type:n.NgZone}]},gs.propDecorators={processInstanceId:[{type:n.Input}],disabled:[{type:n.Input}],attachmentClick:[{type:n.Output}],success:[{type:n.Output}],error:[{type:n.Output}],emptyListImageUrl:[{type:n.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ss=function(){function t(t){this.activitiContentService=t,this.error=new n.EventEmitter,this.success=new n.EventEmitter}return t.prototype.ngOnChanges=function(t){t.processInstanceId&&t.processInstanceId.currentValue&&(this.processInstanceId=t.processInstanceId.currentValue)},t.prototype.onFileUpload=function(t){for(var e=this,n=0,i=t.detail.files.map(function(t){return t.file});n<i.length;n++){var s=i[n];this.activitiContentService.createProcessRelatedContent(this.processInstanceId,s,{isRelatedContent:!0}).subscribe(function(t){e.success.emit(t)},function(t){e.error.emit(t)})}},t}();Ss.decorators=[{type:n.Component,args:[{selector:"adf-create-process-attachment",styles:["\n      .adf-create-attachment {\n          display: inline-block;\n          line-height: 0px;\n          vertical-align: middle;\n      }\n    "],template:'\n      <button\n          id="add_new_process_content_button"\n          color="primary"\n          mat-button\n          mat-raised-button\n          mat-icon-button\n          class="adf-create-attachment"\n          [adf-upload]="true"\n          mode="[\'click\']"\n          [multiple]="true"\n          (upload-files)="onFileUpload($event)">\n          <mat-icon>add</mat-icon>\n      </button>\n    '}]}],Ss.ctorParameters=function(){return[{type:r.ProcessContentService}]},Ss.propDecorators={processInstanceId:[{type:n.Input}],error:[{type:n.Output}],success:[{type:n.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _s=function(){function t(t){this.activitiContentService=t,this.error=new n.EventEmitter,this.success=new n.EventEmitter}return t.prototype.ngOnChanges=function(t){t.taskId&&t.taskId.currentValue&&(this.taskId=t.taskId.currentValue)},t.prototype.onFileUpload=function(t){for(var e=this,n=0,i=t.detail.files.map(function(t){return t.file});n<i.length;n++){var s=i[n];this.activitiContentService.createTaskRelatedContent(this.taskId,s,{isRelatedContent:!0}).subscribe(function(t){e.success.emit(t)},function(t){e.error.emit(t)})}},t}();_s.decorators=[{type:n.Component,args:[{selector:"adf-create-task-attachment",styles:["\n      .adf-create-attachment {\n        display: inline-block;\n        line-height: 0px;\n        vertical-align: middle; }\n    "],template:'\n      <button\n          color="primary"\n          mat-button\n          mat-raised-button\n          mat-icon-button\n          class="adf-create-attachment"\n          [adf-upload]="true"\n          mode="[\'click\']"\n          [multiple]="true"\n          (upload-files)="onFileUpload($event)">\n          <mat-icon>add</mat-icon>\n      </button>\n    '}]}],_s.ctorParameters=function(){return[{type:r.ProcessContentService}]},_s.propDecorators={taskId:[{type:n.Input}],error:[{type:n.Output}],success:[{type:n.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ts=function(){return function(){}}();Ts.decorators=[{type:n.NgModule,args:[{imports:[r.DataColumnModule,r.DataTableModule,M,e.CommonModule,c.TranslateModule,r.DirectiveModule],declarations:[vs,gs,Ss,Ss,_s],exports:[vs,gs,Ss,Ss,_s]}]}],Ts.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ws=function(){return function(){}}();ws.decorators=[{type:n.NgModule,args:[{imports:[r.CoreModule,e.CommonModule,xi,i.FormsModule,i.ReactiveFormsModule,s.BrowserAnimationsModule,M,fs,Qi,bs,Ts,Ii],providers:[{provide:r.TRANSLATION_PROVIDER,multi:!0,useValue:{name:"adf-process-services",source:"assets/adf-process-services"}}],exports:[e.CommonModule,xi,i.FormsModule,i.ReactiveFormsModule,s.BrowserAnimationsModule,fs,Qi,bs,Ts,Ii,M]}]}],ws.ctorParameters=function(){return[]};var Is=function(){return function(t){this.processDefinitionId=t&&t.processDefinitionId||null,this.appDefinitionId=t&&t.appDefinitionId||null,this.state=t&&t.state||null,this.sort=t&&t.sort||null,this.page=t&&t.page||0,this.size=t&&t.size||25}}();t.ProcessModule=ws,t.ProcessListModule=fs,t.TaskListModule=Qi,t.AppsListModule=bs,t.AttachmentModule=Ts,t.CommentsModule=xi,t.PeopleModule=Ii,t.ProcessFiltersComponent=os,t.ProcessInstanceDetailsComponent=us,t.ProcessAuditDirective=ns,t.ProcessInstanceHeaderComponent=as,t.ProcessInstanceTasksComponent=ls,t.ProcessInstanceListComponent=hs,t.StartProcessInstanceComponent=ds,t.ProcessService=es,t.ProcessFilterService=rs,t.FilterProcessRepresentationModel=is,t.ProcessFilterParamRepresentationModel=ss,t.ProcessDefinitionRepresentation=Zi,t.ProcessInstance=ts,t.ProcessFilterRequestRepresentation=Is,t.ProcessInstanceVariable=Xi,t.TaskListComponent=Ji,t.ChecklistComponent=Ui,t.TaskHeaderComponent=Gi,t.NoTaskDetailsTemplateDirective=Ki,t.TaskFiltersComponent=qi,t.TaskDetailsComponent=Bi,t.TaskAuditDirective=Yi,t.StartTaskComponent=zi,t.TaskListService=ji,t.ProcessUploadService=Di,t.TaskUploadService=Oi,t.TaskFilterService=Vi,t.AppDefinitionRepresentationModel=Pi,t.FilterParamsModel=Ci,t.FilterRepresentationModel=Li,t.FilterParamRepresentationModel=Fi,t.TaskQueryRequestRepresentationModel=Ri,t.TaskDetailsModel=Ni,t.TaskDetailsEvent=cs,t.UserEventModel=Ti,t.StartTaskModel=$i,t.AppsListComponent=ys,t.TaskAttachmentListComponent=vs,t.ProcessAttachmentListComponent=gs,t.CreateProcessAttachmentComponent=Ss,t.AttachmentComponent=_s,t.ProcessCommentsComponent=Ai,t.CommentListComponent=ki,t.CommentsComponent=Ei,t.PeopleComponent=_i,t.PeopleListComponent=wi,t.PeopleSearchComponent=vi,t.PeopleSearchTitleDirective=gi,t.PeopleSearchActionLabelDirective=Si,t.bf=ys,t.bi=Ss,t.bj=_s,t.bh=gs,t.bg=vs,t.d=ki,t.e=Ei,t.c=Ai,t.b=M,t.a=b,t.j=wi,t.i=Si,t.g=vi,t.h=gi,t.f=_i,t.bd=ns,t.y=os,t.ba=us,t.bb=as,t.bc=ls,t.w=hs,t.be=ds,t.z=rs,t.x=es,t.r=Ui,t.k=Ki,t.t=zi,t.q=Yi,t.l=Bi,t.n=qi,t.s=Gi,t.p=Ji,t.v=Di,t.o=Vi,t.u=Oi,t.m=ji,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=adf-process-services.umd.min.js.map
