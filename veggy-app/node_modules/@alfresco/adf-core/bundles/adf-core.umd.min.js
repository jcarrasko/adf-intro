!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/common/http"),require("@angular/core"),require("@angular/forms"),require("@angular/platform-browser/animations"),require("@ngx-translate/core"),require("rxjs/BehaviorSubject"),require("alfresco-js-api"),require("rxjs/add/observable/of"),require("rxjs/add/operator/concat"),require("rxjs/add/operator/share"),require("rxjs/add/operator/map"),require("rxjs/add/operator/merge"),require("rxjs/add/operator/switchMap"),require("rxjs/add/operator/toArray"),require("rxjs/add/operator/take"),require("@angular/material"),require("@angular/flex-layout"),require("moment-es6"),require("rxjs/Subject"),require("moment"),require("@angular/cdk/overlay"),require("@angular/cdk/scrolling"),require("@angular/router"),require("@angular/platform-browser"),require("rxjs/Observable"),require("rxjs/add/observable/fromPromise"),require("rxjs/add/operator/catch"),require("rxjs/add/observable/throw"),require("rxjs/add/operator/do"),require("rxjs/observable/forkJoin"),require("rxjs/add/observable/from"),require("rxjs/add/observable/zip"),require("rxjs/add/operator/mergeMap"),require("rxjs/add/operator/debounceTime"),require("rxjs/add/operator/buffer"),require("rxjs/add/operator/filter"),require("rxjs/add/operator/toPromise"),require("rxjs/add/operator/concatMap"),require("rxjs/add/operator/combineAll"),require("rxjs/add/observable/interval"),require("rxjs/add/operator/takeWhile"),require("@angular/http"),require("rxjs/add/operator/defaultIfEmpty"),require("@angular/animations"),require("@angular/cdk/keycodes"),require("rxjs/add/observable/forkJoin"),require("minimatch")):"function"==typeof define&&define.amd?define(["exports","@angular/common","@angular/common/http","@angular/core","@angular/forms","@angular/platform-browser/animations","@ngx-translate/core","rxjs/BehaviorSubject","alfresco-js-api","rxjs/add/observable/of","rxjs/add/operator/concat","rxjs/add/operator/share","rxjs/add/operator/map","rxjs/add/operator/merge","rxjs/add/operator/switchMap","rxjs/add/operator/toArray","rxjs/add/operator/take","@angular/material","@angular/flex-layout","moment-es6","rxjs/Subject","moment","@angular/cdk/overlay","@angular/cdk/scrolling","@angular/router","@angular/platform-browser","rxjs/Observable","rxjs/add/observable/fromPromise","rxjs/add/operator/catch","rxjs/add/observable/throw","rxjs/add/operator/do","rxjs/observable/forkJoin","rxjs/add/observable/from","rxjs/add/observable/zip","rxjs/add/operator/mergeMap","rxjs/add/operator/debounceTime","rxjs/add/operator/buffer","rxjs/add/operator/filter","rxjs/add/operator/toPromise","rxjs/add/operator/concatMap","rxjs/add/operator/combineAll","rxjs/add/observable/interval","rxjs/add/operator/takeWhile","@angular/http","rxjs/add/operator/defaultIfEmpty","@angular/animations","@angular/cdk/keycodes","rxjs/add/observable/forkJoin","minimatch"],t):t(e["adf-core"]={},e.ng.common,e.ng.common.http,e.ng.core,e.ng.forms,e["@angular/platform-browser/animations"],e["@ngx-translate/core"],e.Rx,e["alfresco-js-api"],e.Rx.Observable,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e["@angular/material"],e["@angular/flex-layout"],e["moment-es6"],e.Rx,e.moment,e.ng.cdk.overlay,e.ng.cdk.scrolling,e.ng.router,e.ng.platformBrowser,e.Rx,e.Rx.Observable,e.Rx.Observable.prototype,e.Rx.Observable,e.Rx.Observable.prototype,e.Rx.Observable,e.Rx.Observable,e.Rx.Observable,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable.prototype,e.Rx.Observable,e.Rx.Observable.prototype,e.ng.http,e.Rx.Observable.prototype,e["@angular/animations"],e.ng.cdk.keycodes,e.Rx.Observable,e.minimatch)}(this,function(e,t,n,i,r,o,a,s,l,u,c,p,d,f,m,h,g,y,v,b,w,I,E,S,C,T,x,O,P,F,k,R,A,D,_,L,V,M,N,U,j,B,q,z,Y,H,G,W,$){"use strict";/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function X(){return[y.MatAutocompleteModule,y.MatButtonModule,y.MatCardModule,y.MatCheckboxModule,y.MatChipsModule,y.MatDatepickerModule,y.MatDialogModule,y.MatGridListModule,y.MatIconModule,y.MatInputModule,y.MatListModule,y.MatNativeDateModule,y.MatOptionModule,y.MatProgressSpinnerModule,y.MatRadioModule,y.MatRippleModule,y.MatSelectModule,y.MatSlideToggleModule,y.MatTableModule,y.MatTabsModule,y.MatMenuModule,y.MatProgressBarModule,y.MatSidenavModule,y.MatSnackBarModule,y.MatToolbarModule,y.MatTooltipModule]}/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function K(e){return function(){return e.load()}}/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function J(e,t){return e.split(".").reverse().reduce(function(e,t){return n={},n[t]=e,n;var n},t)}/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Q(e,t){return new Lr(e,t)}b=b&&b.hasOwnProperty("default")?b["default"]:b;var Z=$["default"],ee=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),te=function(){function e(){}return e.getValue=function(e,t){if(!e)return undefined;var n=t.split(".");t="";do{var i=e[t+=n.shift()];i===undefined||"object"!=typeof i&&n.length?n.length?t+=".":e=undefined:(e=i,t="")}while(n.length);return e},e.merge=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i={};return t.forEach(function(t){Object.keys(t).forEach(function(n){n in i&&Array.isArray(i[n])?i[n]=i[n].concat(t[n]):n in i&&"object"==typeof i[n]?i[n]=e.merge(i[n],t[n]):i[n]=t[n]})}),i},e}(),ne=function(){function e(e){this.http=e,this.config={application:{name:"Alfresco ADF Application"},ecmHost:"http://{hostname}{:port}/ecm",bpmHost:"http://{hostname}{:port}/bpm",logLevel:"silent"}}return e.prototype.get=function(e,t){var n=te.getValue(this.config,e);if("string"==typeof n){var i=new Map;i.set("hostname",this.getLocationHostname()),i.set(":port",this.getLocationPort(":")),i.set("port",this.getLocationPort()),n=this.formatString(n,i)}return n===undefined?t:n},e.prototype.getLocationHostname=function(){return location.hostname},e.prototype.getLocationPort=function(e){return void 0===e&&(e=""),location.port?e+location.port:""},e.prototype.load=function(){var e=this;return new Promise(function(t){e.http.get("app.config.json").subscribe(function(n){e.config=Object.assign({},e.config,n||{}),t(e.config)},function(){t(e.config)})})},e.prototype.formatString=function(e,t){var n=e;return t.forEach(function(e,t){var i=new RegExp("{"+t+"}","gm");n=n.replace(i,e)}),n},e}();ne.APP_CONFIG_LANGUAGES_KEY="languages",ne.decorators=[{type:i.Injectable}],ne.ctorParameters=function(){return[{type:n.HttpClient}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ie=function(){function e(){this.memoryStore={},this.useLocalStorage=!1,this.useLocalStorage=this.storageAvailable("localStorage")}return e.prototype.getItem=function(e){return this.useLocalStorage?localStorage.getItem(e):this.memoryStore.hasOwnProperty(e)?this.memoryStore[e]:null},e.prototype.setItem=function(e,t){this.useLocalStorage?localStorage.setItem(e,t):this.memoryStore[e]=t.toString()},e.prototype.clear=function(){this.useLocalStorage?localStorage.clear():this.memoryStore={}},e.prototype.removeItem=function(e){this.useLocalStorage?localStorage.removeItem(e):delete this.memoryStore[e]},e.prototype.hasItem=function(e){return this.useLocalStorage?!!localStorage.getItem(e):this.memoryStore.hasOwnProperty(e)},e.prototype.storageAvailable=function(e){try{var t=window[e],n="__storage_test__";return t.setItem(n,n),t.removeItem(n,n),!0}catch(i){return!1}},e}();ie.decorators=[{type:i.Injectable}],ie.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var re=function(){function e(e,t){this.appConfig=e,this.storage=t,this.reset()}return e.prototype.getInstance=function(){return this.alfrescoApi},Object.defineProperty(e.prototype,"contentApi",{get:function(){return this.getInstance().content},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nodesApi",{get:function(){return this.getInstance().nodes},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renditionsApi",{get:function(){return this.getInstance().core.renditionsApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sharedLinksApi",{get:function(){return this.getInstance().core.sharedlinksApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"sitesApi",{get:function(){return this.getInstance().core.sitesApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"favoritesApi",{get:function(){return this.getInstance().core.favoritesApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"peopleApi",{get:function(){return this.getInstance().core.peopleApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"searchApi",{get:function(){return this.getInstance().search.searchApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"versionsApi",{get:function(){return this.getInstance().core.versionsApi},enumerable:!0,configurable:!0}),e.prototype.reset=function(){this.alfrescoApi=new l({provider:this.storage.getItem("AUTH_TYPE"),ticketEcm:this.storage.getItem("ticket-ECM"),ticketBpm:this.storage.getItem("ticket-BPM"),hostEcm:this.appConfig.get("ecmHost"),hostBpm:this.appConfig.get("bpmHost"),contextRoot:"alfresco",disableCsrf:"true"===this.storage.getItem("DISABLE_CSRF")})},e}();re.decorators=[{type:i.Injectable}],re.ctorParameters=function(){return[{type:ne},{type:ie}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var oe=function(){function e(e,t,n,i){this.translate=e,this.appConfig=t,this.storage=n,this.apiService=i,this.defaults={paginationSize:25,locale:"en"};var r=this.locale||this.getDefaultLocale();this.localeSubject=new s.BehaviorSubject(r),this.locale$=this.localeSubject.asObservable(),this.defaults.paginationSize=t.get("pagination.size",25)}return e.prototype.get=function(e,t){var n=this.getPropertyKey(e),i=this.storage.getItem(n);return i===undefined?t:i},e.prototype.set=function(e,t){e&&this.storage.setItem(this.getPropertyKey(e),t)},e.prototype.getStoragePrefix=function(){return this.storage.getItem("USER_PROFILE")||"GUEST"},e.prototype.setStoragePrefix=function(e){this.storage.setItem("USER_PROFILE",e||"GUEST")},e.prototype.getPropertyKey=function(e){return this.getStoragePrefix()+"__"+e},Object.defineProperty(e.prototype,"authType",{get:function(){return this.storage.getItem("AUTH_TYPE")||"ALL"},set:function(e){this.storage.setItem("AUTH_TYPE",e),this.apiService.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disableCSRF",{get:function(){return"true"===this.get("DISABLE_CSRF")},set:function(e){this.set("DISABLE_CSRF",e),this.apiService.reset()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paginationSize",{get:function(){return Number(this.get("PAGINATION_SIZE"))||this.defaults.paginationSize},set:function(e){this.set("PAGINATION_SIZE",e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"locale",{get:function(){return this.get("LOCALE")},set:function(e){this.localeSubject.next(e),this.set("LOCALE",e)},enumerable:!0,configurable:!0}),e.prototype.getDefaultLocale=function(){return this.appConfig.get("locale")||this.translate.getBrowserLang()||"en"},e}();oe.decorators=[{type:i.Injectable}],oe.ctorParameters=function(){return[{type:a.TranslateService},{type:ne},{type:ie},{type:re}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ae=new i.InjectionToken("Injection token for translation providers."),se=function(){function e(e,t,n){var i=this;if(this.translate=e,this.userPreference=t,this.customLoader=this.translate.currentLoader,this.defaultLang="en",e.setDefaultLang(this.defaultLang),n&&n.length>0)for(var r=0,o=n;r<o.length;r++){var a=o[r];this.addTranslationFolder(a.name,a.source)}this.userPreference.locale$.subscribe(function(e){i.userLang=e,i.use(i.userLang)})}return e.prototype.addTranslationFolder=function(e,t){var n=this;void 0===e&&(e=""),void 0===t&&(t=""),this.customLoader.providerRegistered(e)||(this.customLoader.registerProvider(e,t),this.userLang!==this.defaultLang?this.translate.getTranslation(this.defaultLang).subscribe(function(){n.translate.getTranslation(n.userLang).subscribe(function(){n.translate.use(n.userLang)})}):this.translate.getTranslation(this.userLang).subscribe(function(){n.translate.use(n.userLang)}))},e.prototype.use=function(e){return this.customLoader.init(e),this.translate.use(e)},e.prototype.get=function(e,t){return this.translate.get(e,t)},e}();se.decorators=[{type:i.Injectable}],se.ctorParameters=function(){return[{type:a.TranslateService},{type:oe},{type:Array,decorators:[{type:i.Optional},{type:i.Inject,args:[ae]}]}]};var le=function(){return function(){}}();le.decorators=[{type:i.NgModule,args:[{imports:X(),exports:X()}]}],le.ctorParameters=function(){return[]};var ue=function(){return function(){}}();ue.decorators=[{type:i.NgModule,args:[{imports:[n.HttpClientModule],providers:[ne,{provide:i.APP_INITIALIZER,useFactory:K,deps:[ne],multi:!0}]}]}],ue.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ce=function(){return function(e){this.viewContainerRef=e}}();ce.decorators=[{type:i.Directive,args:[{selector:"[adf-card-view-content-proxy]"}]}],ce.ctorParameters=function(){return[{type:i.ViewContainerRef}]};var pe=function(){function e(){this.itemUpdatedSource=new w.Subject,this.itemClickedSource=new w.Subject,this.itemUpdated$=this.itemUpdatedSource.asObservable(),this.itemClicked$=this.itemClickedSource.asObservable()}return e.prototype.update=function(e,t){this.itemUpdatedSource.next({target:e,changed:J(e.key,t)})},e.prototype.clicked=function(e){this.itemClickedSource.next({target:e})},e}();pe.decorators=[{type:i.Injectable}],pe.ctorParameters=function(){return[]};for(var de=[],fe=1;fe<=31;fe++)de.push(String(fe));for(var me=function(e){function t(){var t=e.apply(this,arguments)||this;return t.localeData=b.localeData(),t}return ee(t,e),t.prototype.getYear=function(e){return e.year()},t.prototype.getMonth=function(e){return e.month()},t.prototype.getDate=function(e){return e.date()},t.prototype.getDayOfWeek=function(e){return e.day()},t.prototype.getMonthNames=function(e){switch(e){case"long":return this.localeData.months();case"short":return this.localeData.monthsShort();case"narrow":return this.localeData.monthsShort().map(function(e){return e[0]});default:return}},t.prototype.getDateNames=function(){return de},t.prototype.getDayOfWeekNames=function(e){switch(e){case"long":return this.localeData.weekdays();case"short":case"narrow":return this.localeData.weekdaysShort();default:return}},t.prototype.getYearName=function(e){return String(e.year())},t.prototype.getFirstDayOfWeek=function(){return this.localeData.firstDayOfWeek()},t.prototype.getNumDaysInMonth=function(e){return e.daysInMonth()},t.prototype.clone=function(e){return e.clone()},t.prototype.createDate=function(e,t,n){return b([e,t,n])},t.prototype.today=function(){return b()},t.prototype.parse=function(e,t){var n=b(e,t,!0);if(n.isValid()||(n=b(e,this.overrideDisplyaFormat)),n.isValid()){if(2001===n.year()&&-1===e.indexOf("2001")){var i=(new Date).getFullYear();n.set("year",i),n.isAfter(b())&&n.set("year",i-1)}return n}return null},t.prototype.format=function(e,t){return t=this.overrideDisplyaFormat?this.overrideDisplyaFormat:t,e&&e.format?e.format(t):""},t.prototype.addCalendarYears=function(e,t){return e.clone().add(t,"y")},t.prototype.addCalendarMonths=function(e,t){return e.clone().add(t,"M")},t.prototype.addCalendarDays=function(e,t){return e.clone().add(t,"d")},t.prototype.getISODateString=function(e){return e.toISOString()},t.prototype.setLocale=function(e){this.localeData=b.localeData(e)},t.prototype.compareDate=function(e,t){return e.diff(t,"seconds",!0)},t.prototype.sameDate=function(t,n){if(null==t)return null==n;if(I.isMoment(t))return t.isSame(n);return e.prototype.sameDate.call(this,t,n)},t.prototype.clampDate=function(e,t,n){return t&&e.isBefore(t)?t:n&&e.isAfter(n)?n:e},t.prototype.isDateInstance=function(e){var t=!1;return e&&(t=e._isAMomentObject),t},t.prototype.isValid=function(e){return e.isValid()},t.prototype.toIso8601=function(e){return this.clone(e).format()},t.prototype.fromIso8601=function(e){var t=b(e,b.ISO_8601).locale(this.locale);return this.isValid(t)?t:null},t.prototype.invalid=function(){return b.invalid()},t}(y.DateAdapter),he={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"DD/MM/YYYY",monthYearLabel:"MMMM Y",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM Y"}},ge=[],fe=1;fe<=31;fe++)ge.push(String(fe));/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ye=function(){function e(e,t,n){this.cardViewUpdateService=e,this.dateAdapter=t,this.preferences=n,this.SHOW_FORMAT="MMM DD YY"}return e.prototype.ngOnInit=function(){var e=this;this.preferences.locale$.subscribe(function(t){e.dateAdapter.setLocale(t)});this.dateAdapter.overrideDisplyaFormat=this.SHOW_FORMAT,this.property.value&&(this.valueDate=b(this.property.value,this.SHOW_FORMAT))},e.prototype.isEditable=function(){return this.editable&&this.property.editable},e.prototype.showDatePicker=function(){this.datepicker.open()},e.prototype.onDateChanged=function(e){if(e){var t=b(e.value,this.SHOW_FORMAT,!0);t.isValid()&&(this.valueDate=t,this.cardViewUpdateService.update(this.property,t.toDate()))}},e}();ye.decorators=[{type:i.Component,args:[{providers:[{provide:y.DateAdapter,useClass:me},{provide:y.MAT_DATE_FORMATS,useValue:he}],selector:"adf-card-view-dateitem",template:'\n      <div class="adf-property-label">{{ property.label | translate }}</div>\n      <div class="adf-property-value">\n          <span *ngIf="!isEditable()">\n              <span [attr.data-automation-id]="\'card-dateitem-\' + property.key">\n                  <span *ngIf="!property.isEmpty(); else elseEmptyValueBlock">{{ property.displayValue }}</span>\n              </span>\n          </span>\n          <span *ngIf="isEditable()" class="adf-dateitem-editable">\n              <input class="adf-invisible-date-input" [matDatepicker]="picker" [value]="valueDate"\n                     (dateChange)="onDateChanged($event)">\n              <span\n                  class="adf-datepicker-toggle"\n                  [attr.data-automation-id]="\'datepicker-label-toggle-\' + property.key"\n                  (click)="showDatePicker($event)">\n                  <span *ngIf="!property.isEmpty(); else elseEmptyValueBlock">{{ property.displayValue }}</span>\n              </span>\n              <mat-datepicker-toggle\n                  [attr.data-automation-id]="\'datepickertoggle-\' + property.key"\n                  [for]="picker">\n              </mat-datepicker-toggle>\n              <mat-datepicker #picker\n                             [attr.data-automation-id]="\'datepicker-\' + property.key"\n                             [startAt]="valueDate"\n                             [touchUi]="true">\n              </mat-datepicker>\n          </span>\n          <ng-template #elseEmptyValueBlock>\n              {{ property.default | translate }}\n          </ng-template>\n      </div>\n    ',styles:["\n\n    "]}]}],ye.ctorParameters=function(){return[{type:pe},{type:y.DateAdapter},{type:oe}]},ye.propDecorators={property:[{type:i.Input}],editable:[{type:i.Input}],datepicker:[{type:i.ViewChild,args:[y.MatDatepicker]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ve=function(){function e(e){this.cardViewUpdateService=e}return e.prototype.isClickable=function(){return this.property.clickable},e.prototype.clicked=function(){this.cardViewUpdateService.clicked(this.property)},e}();ve.decorators=[{type:i.Component,args:[{selector:"adf-card-view-mapitem",template:'\n      <div class="adf-property-label">{{ property.label | translate }}</div>\n      <div class="adf-property-value">\n          <div>\n              <span *ngIf="!isClickable(); else elseBlock" [attr.data-automation-id]="\'card-mapitem-value-\' + property.key">\n                  <span *ngIf="!property.isEmpty(); else elseEmptyValueBlock">{{ property.displayValue }}</span>\n              </span>\n              <ng-template #elseBlock>\n                  <span class="adf-mapitem-clickable-value" (click)="clicked()" [attr.data-automation-id]="\'card-mapitem-value-\' + property.key">\n                      <span *ngIf="!property.isEmpty(); else elseEmptyValueBlock">{{ property.displayValue }}</span>\n                  </span>\n              </ng-template>\n          </div>\n          <ng-template #elseEmptyValueBlock>\n              {{ property.default | translate }}\n          </ng-template>\n      </div>\n    ',styles:["\n      .adf-mapitem-clickable-value {\n        cursor: pointer; }\n    "]}]}],ve.ctorParameters=function(){return[{type:pe}]},ve.propDecorators={property:[{type:i.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var be=function(){function e(e){this.cardViewUpdateService=e,this.inEdit=!1}return e.prototype.ngOnChanges=function(){this.editedValue=this.property.value},e.prototype.isEditble=function(){return this.editable&&this.property.editable},e.prototype.isClickable=function(){return this.property.clickable},e.prototype.setEditMode=function(e){var t=this;this.inEdit=e,setTimeout(function(){t.editorInput.nativeElement.click()},0)},e.prototype.reset=function(){this.editedValue=this.property.value,this.setEditMode(!1)},e.prototype.update=function(){this.cardViewUpdateService.update(this.property,this.editedValue),this.property.value=this.editedValue,this.setEditMode(!1)},e.prototype.clicked=function(){this.cardViewUpdateService.clicked(this.property)},e}();be.decorators=[{type:i.Component,args:[{selector:"adf-card-view-textitem",template:'\n      <div class="adf-property-label">{{ property.label | translate }}</div>\n      <div class="adf-property-value">\n          <span *ngIf="!isEditble()">\n              <span *ngIf="!isClickable(); else elseBlock" [attr.data-automation-id]="\'card-textitem-value-\' + property.key">\n                  <span *ngIf="!property.isEmpty(); else elseEmptyValueBlock">{{ property.displayValue }}</span>\n              </span>\n              <ng-template #elseBlock>\n                  <span class="adf-textitem-clickable-value" (click)="clicked()" [attr.data-automation-id]="\'card-textitem-value-\' + property.key">\n                      <span *ngIf="!property.isEmpty(); else elseEmptyValueBlock">{{ property.displayValue }}</span>\n                  </span>\n              </ng-template>\n          </span>\n          <span *ngIf="isEditble()">\n              <div *ngIf="!inEdit" (click)="setEditMode(true)" class="adf-textitem-readonly" [attr.data-automation-id]="\'card-textitem-edit-toggle-\' + property.key" fxLayout="row" fxLayoutAlign="space-between center">\n                  <span [attr.data-automation-id]="\'card-textitem-value-\' + property.key">\n                      <span *ngIf="!property.isEmpty(); else elseEmptyValueBlock">{{ property.displayValue }}</span>\n                  </span>\n                  <mat-icon fxFlex="0 0 auto" [attr.data-automation-id]="\'card-textitem-edit-icon-\' + property.key" class="adf-textitem-icon">create</mat-icon>\n              </div>\n              <div *ngIf="inEdit" class="adf-textitem-editable">\n                  <mat-form-field floatPlaceholder="never" class="adf-input-container">\n                      <input *ngIf="!property.multiline" #editorInput\n                          matInput\n                          class="adf-input"\n                          [placeholder]="property.default | translate"\n                          [(ngModel)]="editedValue"\n                          [attr.data-automation-id]="\'card-textitem-editinput-\' + property.key">\n                      <textarea *ngIf="property.multiline" #editorInput\n                          matInput\n                          matTextareaAutosize\n                          matAutosizeMaxRows="1"\n                          matAutosizeMaxRows="5"\n                          class="adf-textarea"\n                          [placeholder]="property.default | translate"\n                          [(ngModel)]="editedValue"\n                          [attr.data-automation-id]="\'card-textitem-edittextarea-\' + property.key"></textarea>\n                  </mat-form-field>\n                  <mat-icon\n                      class="adf-textitem-icon adf-update-icon"\n                      (click)="update()"\n                      [attr.data-automation-id]="\'card-textitem-update-\' + property.key">done</mat-icon>\n                  <mat-icon\n                      class="adf-textitem-icon adf-reset-icon"\n                      (click)="reset()"\n                      [attr.data-automation-id]="\'card-textitem-reset-\' + property.key">clear</mat-icon>\n              </div>\n          </span>\n          <ng-template #elseEmptyValueBlock>\n              {{ property.default | translate }}\n          </ng-template>\n      </div>\n    ',styles:["\n\n    "]}]}],be.ctorParameters=function(){return[{type:pe}]},be.propDecorators={property:[{type:i.Input}],editable:[{type:i.Input}],editorInput:[{type:i.ViewChild,args:["editorInput"]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var we=function(){function e(){}return e.fromType=function(e){return function(t){return e}},e}(),Ie=function(){function e(){this.defaultValue=undefined,this.types={}}return e.prototype.getComponentTypeResolver=function(e,t){return void 0===t&&(t=this.defaultValue),e?this.types[e]||we.fromType(t):we.fromType(t)},e.prototype.setComponentTypeResolver=function(e,t,n){if(void 0===n&&(n=!1),!e)throw new Error("type is null or not defined");if(!t)throw new Error("resolver is null or not defined");if(this.types[e]&&!n)throw new Error("already mapped, use override option if you intend replacing existing mapping.");this.types[e]=t},e.prototype.resolveComponentType=function(e,t){if(void 0===t&&(t=this.defaultValue),e){return this.getComponentTypeResolver(e.type,t)(e)}return t},e}(),Ee=function(e){function t(){var t=e.apply(this,arguments)||this;return t.defaultValue=be,t.types={text:we.fromType(be),date:we.fromType(ye),map:we.fromType(ve)},t}return ee(t,e),t}(Ie);Ee.decorators=[{type:i.Injectable}],Ee.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Se=function(){function e(e,t){var n=this;this.cardItemTypeService=e,this.resolver=t,this.loaded=!1,this.componentReference=null;["ngOnInit","ngDoCheck","ngAfterContentInit","ngAfterContentChecked","ngAfterViewInit","ngAfterViewChecked","ngOnDestroy"].forEach(function(e){n[e]=n.proxy.bind(n,e)})}return e.prototype.ngOnChanges=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.loaded||(this.loadComponent(),this.loaded=!0),this.proxy.apply(this,["ngOnChanges"].concat(e))},e.prototype.loadComponent=function(){var e=this.cardItemTypeService.resolveComponentType(this.property),t=this.resolver.resolveComponentFactory(e);this.componentReference=this.content.viewContainerRef.createComponent(t),this.componentReference.instance.editable=this.editable,this.componentReference.instance.property=this.property},e.prototype.proxy=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.componentReference.instance[e]&&this.componentReference.instance[e].apply(this.componentReference.instance,t)},e}();Se.decorators=[{type:i.Component,args:[{selector:"adf-card-view-item-dispatcher",template:"<ng-template adf-card-view-content-proxy></ng-template>"}]}],Se.ctorParameters=function(){return[{type:Ee},{type:i.ComponentFactoryResolver}]},Se.propDecorators={property:[{type:i.Input}],editable:[{type:i.Input}],content:[{type:i.ViewChild,args:[ce]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ce=function(){return function(){}}();Ce.decorators=[{type:i.Component,args:[{selector:"adf-card-view",template:'\n      <div class="adf-property-list">\n          <div *ngFor="let property of properties">\n              <div [attr.data-automation-id]="\'header-\'+property.key" class="adf-property">\n                  <adf-card-view-item-dispatcher [property]="property" [editable]="editable"></adf-card-view-item-dispatcher>\n              </div>\n          </div>\n      </div>\n    ',styles:["\n\n    "]}]}],Ce.ctorParameters=function(){return[]},Ce.propDecorators={properties:[{type:i.Input}],editable:[{type:i.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Te=function(){return function(){}}();Te.decorators=[{type:i.NgModule,args:[{imports:[t.CommonModule,y.MatDatepickerModule,y.MatNativeDateModule,y.MatInputModule,y.MatIconModule,y.MatButtonModule,r.FormsModule,v.FlexLayoutModule,a.TranslateModule],declarations:[Ce,Se,ce,be,ve,ye],entryComponents:[be,ve,ye],exports:[Ce,be,ve,ye]}]}],Te.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xe=function(){function e(){this.groups=[]}return e.prototype.addGroup=function(e){this.groups.push(e)},e.prototype.closeOthers=function(e){this.groups.forEach(function(t){t!==e&&(t.isOpen=!1)})},e.prototype.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)},e}();xe.decorators=[{type:i.Component,args:[{selector:"adf-accordion",template:"\n        <ng-content></ng-content>\n    ",host:{"class":"panel-group"},encapsulation:i.ViewEncapsulation.None}]}],xe.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Oe=function(){function e(e){this.accordion=e,this._isOpen=!1,this._isSelected=!1,this.hasAccordionIcon=!0,this.headingClick=new i.EventEmitter,this.accordion.addGroup(this)}return Object.defineProperty(e.prototype,"isOpen",{get:function(){return this._isOpen},set:function(e){this._isOpen=e,e&&this.accordion.closeOthers(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isSelected",{get:function(){return this._isSelected},set:function(e){this._isSelected=e},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.accordion.removeGroup(this)},e.prototype.hasHeadingIcon=function(){return!!this.headingIcon},e.prototype.toggleOpen=function(e){e.preventDefault(),this.isOpen=!this.isOpen,this.headingClick.emit(this.heading)},e.prototype.getAccordionIcon=function(){return this.isOpen?"expand_less":"expand_more"},e}();Oe.decorators=[{type:i.Component,args:[{selector:"adf-accordion-group",template:'\n      <div class="adf-panel adf-panel-default" [ngClass]="{\'adf-panel-open\': isOpen}">\n          <div class="adf-panel-heading" [ngClass]="{\'adf-panel-heading-selected\': isSelected}" (click)="toggleOpen($event)">\n              <div id="heading-icon" *ngIf="hasHeadingIcon()" class="adf-panel-heading-icon">\n                  <mat-icon class="material-icons"\n                     [matTooltip]="headingIconTooltip"\n                     [matTooltipDisabled]="!headingIconTooltip">\n                      {{headingIcon}}\n                  </mat-icon>\n              </div>\n              <div id="heading-text" class="adf-panel-heading-text">{{heading}}</div>\n              <div id="accordion-button" *ngIf="hasAccordionIcon" class="adf-panel-heading-toggle">\n                  <i class="material-icons">{{getAccordionIcon()}}</i>\n              </div>\n          </div>\n          <div class="adf-panel-collapse" [hidden]="!isOpen">\n              <div class="adf-panel-body" #contentWrapper>\n                  <ng-content></ng-content>\n              </div>\n          </div>\n      </div>\n    ',styles:["\n\n    "],encapsulation:i.ViewEncapsulation.None}]}],Oe.ctorParameters=function(){return[{type:xe}]},Oe.propDecorators={contentWrapper:[{type:i.ViewChild,args:["contentWrapper"]}],heading:[{type:i.Input}],headingIcon:[{type:i.Input}],headingIconTooltip:[{type:i.Input}],hasAccordionIcon:[{type:i.Input}],headingClick:[{type:i.Output}],isOpen:[{type:i.Input}],isSelected:[{type:i.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Pe=function(){return function(){}}();Pe.decorators=[{type:i.NgModule,args:[{imports:[le,t.CommonModule],declarations:[xe,Oe],exports:[xe,Oe]}]}],Pe.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Fe=function(){return function(){this.show=new w.Subject}}();Fe.decorators=[{type:i.Injectable}],Fe.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ke=function(){function e(e,t,n,i){this.viewport=e,this.overlayContainer=t,this.contextMenuService=n,this.renderer=i,this.links=[],this.mouseLocation={left:0,top:0},this.menuElement=null,this.showIcons=!1}return e.prototype.onShowContextMenu=function(e){e&&e.preventDefault()},e.prototype.onResize=function(e){this.mdMenuElement&&this.setPositionAfterCDKrecalculation()},e.prototype.ngOnInit=function(){var e=this;this.contextSubscription=this.contextMenuService.show.subscribe(function(t){return e.showMenu(t.event,t.obj)}),this.openSubscription=this.menuTrigger.onMenuOpen.subscribe(function(){var t=e.overlayContainer.getContainerElement();t&&(e.contextMenuListenerFn=e.renderer.listen(t,"contextmenu",function(e){e.preventDefault()})),e.menuElement=e.getContextMenuElement()}),this.closeSubscription=this.menuTrigger.onMenuClose.subscribe(function(){e.menuElement=null,e.contextMenuListenerFn&&e.contextMenuListenerFn()})},e.prototype.ngOnDestroy=function(){this.contextMenuListenerFn&&this.contextMenuListenerFn(),this.contextSubscription.unsubscribe(),this.openSubscription.unsubscribe(),this.closeSubscription.unsubscribe(),this.menuElement=null},e.prototype.onMenuItemClick=function(e,t){if(t&&t.model&&t.model.disabled)return e.preventDefault(),void e.stopImmediatePropagation();t.subject.next(t)},e.prototype.showMenu=function(e,t){this.links=t,e&&(this.mouseLocation={left:e.clientX,top:e.clientY}),this.menuTrigger.openMenu(),this.mdMenuElement&&this.setPositionAfterCDKrecalculation()},e.prototype.setPositionAfterCDKrecalculation=function(){var e=this;setTimeout(function(){e.setPosition()},0)},Object.defineProperty(e.prototype,"mdMenuElement",{get:function(){return this.menuElement},enumerable:!0,configurable:!0}),e.prototype.locationCss=function(){return{left:this.mouseLocation.left+"px",top:this.mouseLocation.top+"px"}},e.prototype.setPosition=function(){this.mdMenuElement.clientWidth+this.mouseLocation.left>this.viewport.getViewportRect().width?(this.menuTrigger.menu.xPosition="before",this.mdMenuElement.parentElement.style.left=this.mouseLocation.left-this.mdMenuElement.clientWidth+"px"):(this.menuTrigger.menu.xPosition="after",this.mdMenuElement.parentElement.style.left=this.locationCss().left),this.mdMenuElement.clientHeight+this.mouseLocation.top>this.viewport.getViewportRect().height?(this.menuTrigger.menu.yPosition="above",this.mdMenuElement.parentElement.style.top=this.mouseLocation.top-this.mdMenuElement.clientHeight+"px"):(this.menuTrigger.menu.yPosition="below",this.mdMenuElement.parentElement.style.top=this.locationCss().top)},e.prototype.getContextMenuElement=function(){return this.overlayContainer.getContainerElement().querySelector(".context-menu")},e}();ke.decorators=[{type:i.Component,args:[{selector:"adf-context-menu-holder, context-menu-holder",template:'\n        <button mat-button [matMenuTriggerFor]="contextMenu"></button>\n        <mat-menu #contextMenu="matMenu" class="context-menu">\n            <button\n                *ngFor="let link of links"\n                mat-menu-item\n                (click)="onMenuItemClick($event, link)"\n                [attr.disabled]="link.model?.disabled || undefined">\n                <mat-icon *ngIf="showIcons && link.model?.icon">\n                    {{ link.model?.icon }}\n                </mat-icon>\n                    {{link.title || link.model?.title}}\n            </button>\n        </mat-menu>\n    '}]}],ke.ctorParameters=function(){return[{type:S.ViewportRuler},{type:E.OverlayContainer},{type:Fe},{type:i.Renderer2}]},ke.propDecorators={showIcons:[{type:i.Input}],menuTrigger:[{type:i.ViewChild,args:[y.MatMenuTrigger]}],onShowContextMenu:[{type:i.HostListener,args:["contextmenu",["$event"]]}],onResize:[{type:i.HostListener,args:["window:resize",["$event"]]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Re=function(){function e(e){this._contextMenuService=e,this.enabled=!1}return e.prototype.onShowContextMenu=function(e){this.enabled&&(e&&e.preventDefault(),this.links&&this.links.length>0&&this._contextMenuService&&this._contextMenuService.show.next({event:e,obj:this.links}))},e}();Re.decorators=[{type:i.Directive,args:[{selector:"[adf-context-menu], [context-menu]"}]}],Re.ctorParameters=function(){return[{type:Fe}]},Re.propDecorators={links:[{type:i.Input,args:["context-menu"]}],enabled:[{type:i.Input,args:["context-menu-enabled"]}],onShowContextMenu:[{type:i.HostListener,args:["contextmenu",["$event"]]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ae=function(){return function(){}}();Ae.decorators=[{type:i.NgModule,args:[{imports:[t.CommonModule,le],declarations:[ke,Re],exports:[ke,Re],providers:[Fe]}]}],Ae.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var De=function(){function e(){this.type="text",this.sortable=!0,this.title=""}return e.prototype.ngOnInit=function(){this.srTitle||"$thumbnail"!==this.key||(this.srTitle="Thumbnail")},e}();De.decorators=[{type:i.Component,args:[{selector:"data-column",template:""}]}],De.ctorParameters=function(){return[]},De.propDecorators={key:[{type:i.Input}],type:[{type:i.Input}],format:[{type:i.Input}],sortable:[{type:i.Input}],title:[{type:i.Input}],template:[{type:i.ContentChild,args:[i.TemplateRef]}],formatTooltip:[{type:i.Input}],srTitle:[{type:i.Input,args:["sr-title"]}],cssClass:[{type:i.Input,args:["class"]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _e=function(){return function(){}}();_e.decorators=[{type:i.Component,args:[{selector:"data-columns",template:""}]}],_e.ctorParameters=function(){return[]},_e.propDecorators={columns:[{type:i.ContentChildren,args:[De]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Le=function(){return function(){}}();Le.decorators=[{type:i.NgModule,args:[{imports:[t.CommonModule],declarations:[De,_e],exports:[De,_e]}]}],Le.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ve=function(){function e(){}return e.prototype.transform=function(e,t){if(void 0===t&&(t=2),null==e||e===undefined)return"";if(0===e)return"0 Bytes";var n=t||2,i=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,i)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][i]},e}();Ve.decorators=[{type:i.Pipe,args:[{name:"adfFileSize"}]}],Ve.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Me=function(){function e(){}return e.prototype.getItem=function(e){var t=new RegExp("(?:"+e+"|;s*"+e+")=(.*?)(?:;|$)","g").exec(document.cookie);return null===t?null:t[1]},e.prototype.setItem=function(e,t,n,i){document.cookie=e+"="+t+(n?";expires="+n.toUTCString():"")+(i?";path="+i:";path=/")},e}();Me.decorators=[{type:i.Injectable}],Me.ctorParameters=function(){return[]};var Ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ee(t,e),t}(Number);Ne.TRACE=5,Ne.DEBUG=4,Ne.INFO=3,Ne.WARN=2,Ne.ERROR=1,Ne.SILENT=0;var Ue=[{level:Ne.TRACE,name:"TRACE"},{level:Ne.DEBUG,name:"DEBUG"},{level:Ne.INFO,name:"INFO"},{level:Ne.WARN,name:"WARN"},{level:Ne.ERROR,name:"ERROR"},{level:Ne.SILENT,name:"SILENT"}],je=function(){function e(e){if(this.currentLogLevel=Ne.TRACE,e){var t=e.get("logLevel");t&&(this.currentLogLevel=this.getCurrentLogLevel(t))}}return Object.defineProperty(e.prototype,"error",{get:function(){return this.currentLogLevel>=Ne.ERROR?console.error.bind(console):function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"debug",{get:function(){return this.currentLogLevel>=Ne.DEBUG?console.debug.bind(console):function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"info",{get:function(){return this.currentLogLevel>=Ne.INFO?console.info.bind(console):function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"log",{get:function(){return this.currentLogLevel>=Ne.TRACE?console.log.bind(console):function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trace",{get:function(){return this.currentLogLevel>=Ne.TRACE?console.trace.bind(console):function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"warn",{get:function(){return this.currentLogLevel>=Ne.WARN?console.warn.bind(console):function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"assert",{get:function(){return this.currentLogLevel!==Ne.SILENT?console.assert.bind(console):function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"group",{get:function(){return this.currentLogLevel!==Ne.SILENT?console.group.bind(console):function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupEnd",{get:function(){return this.currentLogLevel!==Ne.SILENT?console.groupEnd.bind(console):function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n]}},enumerable:!0,configurable:!0}),e.prototype.getCurrentLogLevel=function(e){var t=Ue.find(function(t){return t.name.toLocaleLowerCase()===e.toLocaleLowerCase()});return t?t.level:5},e}();je.decorators=[{type:i.Injectable}],je.ctorParameters=function(){return[{type:ne}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Be="ALFRESCO_REMEMBER_ME",qe=function(){function e(e,t,n,i,r){this.preferences=e,this.alfrescoApi=t,this.storage=n,this.cookie=i,this.logService=r,this.redirectUrl="",this.onLogin=new w.Subject,this.onLogout=new w.Subject}return e.prototype.isLoggedIn=function(){return!!this.alfrescoApi.getInstance().isLoggedIn()},e.prototype.login=function(e,t,n){var i=this;return void 0===n&&(n=!1),this.removeTicket(),x.Observable.fromPromise(this.callApiLogin(e,t)).map(function(e){return i.saveRememberMeCookie(n),i.saveTickets(),i.onLogin.next(e),{type:i.preferences.authType,ticket:e}})["catch"](function(e){return i.handleError(e)})},e.prototype.saveRememberMeCookie=function(e){var t=null;if(e){var n=(t=new Date).getTime()+2592e6;t.setTime(n)}this.cookie.setItem(Be,"1",t,null)},e.prototype.isRememberMeSet=function(){return null!==this.cookie.getItem(Be)},e.prototype.callApiLogin=function(e,t){return this.alfrescoApi.getInstance().login(e,t)},e.prototype.logout=function(){var e=this;return x.Observable.fromPromise(this.callApiLogout())["do"](function(t){return e.removeTicket(),e.onLogout.next(t),t})["catch"](function(t){return e.handleError(t)})},e.prototype.callApiLogout=function(){if(this.alfrescoApi.getInstance())return this.alfrescoApi.getInstance().logout()},e.prototype.removeTicket=function(){this.storage.removeItem("ticket-ECM"),this.storage.removeItem("ticket-BPM"),this.alfrescoApi.getInstance().setTicket(undefined,undefined)},e.prototype.getTicketEcm=function(){return this.storage.getItem("ticket-ECM")},e.prototype.getTicketBpm=function(){return this.storage.getItem("ticket-BPM")},e.prototype.getTicketEcmBase64=function(){var e=this.storage.getItem("ticket-ECM");return e?"Basic "+btoa(e):null},e.prototype.saveTickets=function(){this.saveTicketEcm(),this.saveTicketBpm()},e.prototype.saveTicketEcm=function(){this.alfrescoApi.getInstance()&&this.alfrescoApi.getInstance().getTicketEcm()&&this.storage.setItem("ticket-ECM",this.alfrescoApi.getInstance().getTicketEcm())},e.prototype.saveTicketBpm=function(){this.alfrescoApi.getInstance()&&this.alfrescoApi.getInstance().getTicketBpm()&&this.storage.setItem("ticket-BPM",this.alfrescoApi.getInstance().getTicketBpm())},e.prototype.isEcmLoggedIn=function(){return this.isRememberMeSet()&&this.alfrescoApi.getInstance().ecmAuth&&!!this.alfrescoApi.getInstance().ecmAuth.isLoggedIn()},e.prototype.isBpmLoggedIn=function(){return this.isRememberMeSet()&&this.alfrescoApi.getInstance().bpmAuth&&!!this.alfrescoApi.getInstance().bpmAuth.isLoggedIn()},e.prototype.getEcmUsername=function(){return this.alfrescoApi.getInstance().ecmAuth.username},e.prototype.getBpmUsername=function(){return this.alfrescoApi.getInstance().bpmAuth.username},e.prototype.setRedirectUrl=function(e){this.redirectUrl=e},e.prototype.getRedirectUrl=function(){return this.redirectUrl},e.prototype.handleError=function(e){return this.logService.error("Error when logging in",e),x.Observable["throw"](e||"Server error")},e}();qe.decorators=[{type:i.Injectable}],qe.ctorParameters=function(){return[{type:oe},{type:re},{type:ie},{type:Me},{type:je}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ze=function(){function e(e,t,n,i){this.authService=e,this.apiService=t,this.logService=n,this.sanitizer=i,this.folderCreated=new w.Subject,this.folderCreate=new w.Subject,this.folderEdit=new w.Subject,this.saveData=function(){var e=document.createElement("a");return document.body.appendChild(e),e.style.display="none",function(t,n,i){var r=null;if("blob"!==n&&"data"!==n||(r=new Blob([t],{type:"octet/stream"})),"object"===n||"json"===n){var o=JSON.stringify(t);r=new Blob([o],{type:"octet/stream"})}if(r)if("undefined"!=typeof window.navigator&&window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(r,i);else{var a=window.URL.createObjectURL(r);e.href=a,e.download=i,e.click(),window.URL.revokeObjectURL(a)}}}()}return e.prototype.downloadBlob=function(e,t){this.saveData(e,"blob",t)},e.prototype.downloadData=function(e,t){this.saveData(e,"data",t)},e.prototype.downloadJSON=function(e,t){this.saveData(e,"json",t)},e.prototype.createTrustedUrl=function(e){var t=window.URL.createObjectURL(e);return this.sanitizer.bypassSecurityTrustUrl(t)},Object.defineProperty(e.prototype,"contentApi",{get:function(){return this.apiService.getInstance().content},enumerable:!0,configurable:!0}),e.prototype.getDocumentThumbnailUrl=function(e,t,n){return e&&e.entry&&(e=e.entry.id),this.contentApi.getDocumentThumbnailUrl(e,t,n)},e.prototype.getContentUrl=function(e,t,n){return e&&e.entry&&(e=e.entry.id),this.contentApi.getContentUrl(e,t,n)},e.prototype.getNodeContent=function(e){return x.Observable.fromPromise(this.apiService.getInstance().core.nodesApi.getFileContent(e).then(function(e){return e}))["catch"](this.handleError)},e.prototype.createFolder=function(e,t,n){var i=this;return x.Observable.fromPromise(this.apiService.getInstance().nodes.createFolder(t,e,n))["do"](function(r){i.folderCreated.next({relativePath:e,name:t,parentId:n,node:r})})["catch"](function(e){return i.handleError(e)})},e.prototype.hasPermission=function(e,t){var n=!1;return this.hasAllowableOperations(e)?n=t&&t.startsWith("!")?!e.allowableOperations.find(function(e){return e===t.replace("!","")}):!!e.allowableOperations.find(function(e){return e===t}):t&&t.startsWith("!")&&(n=!0),n},e.prototype.hasAllowableOperations=function(e){return!(!e||!e.allowableOperations)},e.prototype.handleError=function(e){return this.logService.error(e),x.Observable["throw"](e||"Server error")},e}();ze.decorators=[{type:i.Injectable}],ze.ctorParameters=function(){return[{type:qe},{type:re},{type:je},{type:T.DomSanitizer}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ye=function(){function e(e,t,n){this.contentService=e,this.DEFAULT_ICON="./assets/images/ft_ic_miscellaneous.svg",this.mimeTypeIcons={"image/png":"./assets/images/ft_ic_raster_image.svg","image/jpeg":"./assets/images/ft_ic_raster_image.svg","image/gif":"./assets/images/ft_ic_raster_image.svg","application/pdf":"./assets/images/ft_ic_pdf.svg","application/vnd.ms-excel":"./assets/images/ft_ic_ms_excel.svg","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"./assets/images/ft_ic_ms_excel.svg","application/vnd.openxmlformats-officedocument.spreadsheetml.template":"./assets/images/ft_ic_ms_excel.svg","application/msword":"./assets/images/ft_ic_ms_word.svg","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"./assets/images/ft_ic_ms_word.svg","application/vnd.openxmlformats-officedocument.wordprocessingml.template":"./assets/images/ft_ic_ms_word.svg","application/vnd.ms-powerpoint":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.openxmlformats-officedocument.presentationml.presentation":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.openxmlformats-officedocument.presentationml.template":"./assets/images/ft_ic_ms_powerpoint.svg","application/vnd.openxmlformats-officedocument.presentationml.slideshow":"./assets/images/ft_ic_ms_powerpoint.svg","video/mp4":"./assets/images/ft_ic_video.svg","text/plain":"./assets/images/ft_ic_document.svg","application/x-javascript":"./assets/images/ft_ic_document.svg","application/json":"./assets/images/ft_ic_document.svg","image/svg+xml":"./assets/images/ft_ic_vector_image.svg","text/html":"./assets/images/ft_ic_website.svg","application/x-compressed":"./assets/images/ft_ic_archive.svg","application/x-zip-compressed":"./assets/images/ft_ic_archive.svg","application/zip":"./assets/images/ft_ic_archive.svg","application/vnd.apple.keynote":"./assets/images/ft_ic_presentation.svg","application/vnd.apple.pages":"./assets/images/ft_ic_document.svg","application/vnd.apple.numbers":"./assets/images/ft_ic_spreadsheet.svg",folder:"./assets/images/ft_ic_folder.svg","disable/folder":"./assets/images/ft_ic_folder_disable.svg",selected:"./assets/images/ft_ic_selected.svg"},t.addSvgIcon("image/png",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_raster_image.svg")),t.addSvgIcon("image/jpeg",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_raster_image.svg")),t.addSvgIcon("image/gif",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_raster_image.svg")),t.addSvgIcon("application/pdf",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_pdf.svg")),t.addSvgIcon("application/vnd.ms-excel",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_ms_excel.svg")),t.addSvgIcon("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_ms_excel.svg")),t.addSvgIcon("application/vnd.openxmlformats-officedocument.spreadsheetml.template",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_ms_excel.svg")),t.addSvgIcon("application/msword",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_ms_word.svg")),t.addSvgIcon("application/vnd.openxmlformats-officedocument.wordprocessingml.document",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_ms_word.svg")),t.addSvgIcon("application/vnd.openxmlformats-officedocument.wordprocessingml.template",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_ms_word.svg")),t.addSvgIcon("application/vnd.ms-powerpoint",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_ms_powerpoint.svg")),t.addSvgIcon("application/vnd.openxmlformats-officedocument.presentationml.presentation",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_ms_powerpoint.svg")),t.addSvgIcon("application/vnd.openxmlformats-officedocument.presentationml.template",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_ms_powerpoint.svg")),t.addSvgIcon("application/vnd.openxmlformats-officedocument.presentationml.slideshow",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_ms_powerpoint.svg")),t.addSvgIcon("video/mp4",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_video.svg")),t.addSvgIcon("text/plain",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_document.svg")),t.addSvgIcon("application/x-javascript",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_document.svg")),t.addSvgIcon("application/json",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_document.svg")),t.addSvgIcon("image/svg+xml",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_vector_image.svg")),t.addSvgIcon("text/html",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_website.svg")),t.addSvgIcon("application/x-compressed",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_archive.svg")),t.addSvgIcon("application/x-zip-compressed",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_archive.svg")),t.addSvgIcon("application/zip",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_archive.svg")),t.addSvgIcon("application/vnd.apple.keynote",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_presentation.svg")),t.addSvgIcon("application/vnd.apple.pages",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_document.svg")),t.addSvgIcon("application/vnd.apple.numbers",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_spreadsheet.svg")),t.addSvgIcon("folder",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_folder.svg")),t.addSvgIcon("disable/folder",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_folder_disable.svg")),t.addSvgIcon("selected",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_selected.svg")),t.addSvgIcon("default",n.bypassSecurityTrustResourceUrl("./assets/images/ft_ic_miscellaneous.svg"))}return e.prototype.getDocumentThumbnailUrl=function(e){return this.contentService.getDocumentThumbnailUrl(e)||this.DEFAULT_ICON},e.prototype.getMimeTypeIcon=function(e){return this.mimeTypeIcons[e]||this.DEFAULT_ICON},e.prototype.getDefaultMimeTypeIcon=function(){return this.DEFAULT_ICON},e}();Ye.decorators=[{type:i.Injectable}],Ye.ctorParameters=function(){return[{type:ze},{type:y.MatIconRegistry},{type:T.DomSanitizer}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var He=function(){function e(e){this.thumbnailService=e}return e.prototype.transform=function(e){return this.thumbnailService.getMimeTypeIcon(e)},e}();He.decorators=[{type:i.Pipe,args:[{name:"adfMimeTypeIcon"}]}],He.ctorParameters=function(){return[{type:Ye}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ge=function(){function e(){}return e.prototype.transform=function(e){return e?this.getNodeTooltip(e):null},e.prototype.containsLine=function(e,t){return e.some(function(e){return e.toLowerCase()===t.toLowerCase()})},e.prototype.removeDuplicateLines=function(e){var t=this;return e.reduce(function(e,n){return t.containsLine(e,n)||e.push(n),e},[])},e.prototype.getNodeTooltip=function(e){if(!e||!e.entry)return null;var t=e.entry,n=t.properties,i=[t.name];if(n){var r=n["cm:title"],o=n["cm:description"];r&&o&&(i[0]=r,i[1]=o),r&&(i[1]=r),o&&(i[1]=o)}return this.removeDuplicateLines(i).join("\n")},e}();Ge.decorators=[{type:i.Pipe,args:[{name:"adfNodeNameTooltip"}]}],Ge.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var We=function(){function e(){}return e.prototype.highlight=function(e,t,n){void 0===n&&(n="highlight");var i=!1,r=e;if(t&&e){var o=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");o=o.split(" ").filter(function(e){return e.length>0}).join("|");var a=new RegExp(o,"gi");return r=e.replace(a,function(e){return i=!0,'<span class="'+n+'">'+e+"</span>"}),{text:r,changed:i}}return{text:r,changed:i}},e}(),$e=function(){function e(e){this.highlightTransformService=e}return e.prototype.transform=function(e,t){return this.highlightTransformService.highlight(e,t).text},e}();$e.decorators=[{type:i.Pipe,args:[{name:"highlight"}]}],$e.ctorParameters=function(){return[{type:We}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Xe=function(){function e(){}return e.prototype.transform=function(e){if(null!==e&&e!==undefined){var t=b(e);return b().diff(t,"days")>7?t.format("DD/MM/YYYY HH:mm"):t.fromNow()}return""},e}();Xe.decorators=[{type:i.Pipe,args:[{name:"adfTimeAgo"}]}],Xe.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ke=function(){function e(e){this.sanitized=e}return e.prototype.transform=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n="");var i="";if(e){var r=this.getInitialUserName(e.firstName,e.lastName,n);i=this.sanitized.bypassSecurityTrustHtml('<div id="user-initials-image" class="'+t+'">'+r+"</div>")}return i},e.prototype.getInitialUserName=function(e,t,n){return e=e?e[0]:"",t=t?t[0]:"",e+n+t},e}();Ke.decorators=[{type:i.Pipe,args:[{name:"usernameInitials"}]}],Ke.ctorParameters=function(){return[{type:T.DomSanitizer}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Je=function(){return function(){}}();Je.decorators=[{type:i.NgModule,args:[{imports:[t.CommonModule],declarations:[Ve,$e,Xe,He,Ke,Ge],providers:[Ve,$e,Xe,He,Ke,Ge],exports:[Ve,$e,Xe,He,Ke,Ge]}]}],Je.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Qe=function(){function e(e,t,n){this.el=e,this.renderer=t,this.highlightTransformService=n,this.selector="",this.search="",this.classToApply="adf-highlight"}return e.prototype.highlight=function(e,t,n){var i=this;if(void 0===e&&(e=this.search),void 0===t&&(t=this.selector),void 0===n&&(n=this.classToApply),e&&t){this.el.nativeElement.querySelectorAll(t).forEach(function(t){var r=i.highlightTransformService.highlight(t.innerHTML,e,n);r.changed&&i.renderer.setElementProperty(t,"innerHTML",r.text)})}},e}();Qe.decorators=[{type:i.Directive,args:[{selector:"[adf-highlight]"}]}],Qe.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer},{type:We}]},Qe.propDecorators={selector:[{type:i.Input,args:["adf-highlight-selector"]}],search:[{type:i.Input,args:["adf-highlight"]}],classToApply:[{type:i.Input,args:["adf-highlight-class"]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ze=function(){function e(e,t,n,i){this.elementRef=e,this.renderer=t,this.router=n,this.auth=i}return e.prototype.ngOnInit=function(){var e=this;this.elementRef.nativeElement&&this.renderer.listen(this.elementRef.nativeElement,"click",function(t){t.preventDefault(),e.logout()})},e.prototype.logout=function(){var e=this;this.auth.logout().subscribe(function(){return e.redirectToLogin()},function(){return e.redirectToLogin()})},e.prototype.redirectToLogin=function(){this.router.navigate(["/login"])},e}();Ze.decorators=[{type:i.Directive,args:[{selector:"[adf-logout]"}]}],Ze.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer2},{type:C.Router},{type:qe}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var et=function(){function e(e){this.snackbar=e}return e.prototype.openSnackMessage=function(t,n){return this.snackbar.open(t,null,{duration:n||e.DEFAULT_DURATION_MESSAGE})},e.prototype.openSnackMessageAction=function(t,n,i){return this.snackbar.open(t,n,{duration:i||e.DEFAULT_DURATION_MESSAGE})},e}();et.DEFAULT_DURATION_MESSAGE=5e3,et.decorators=[{type:i.Injectable}],et.ctorParameters=function(){return[{type:y.MatSnackBar}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var tt=function(){function e(e,t,n,r){this.notification=e,this.alfrescoApiService=t,this.translation=n,this.elementRef=r,this.permanent=!1,this["delete"]=new i.EventEmitter}return e.prototype.onClick=function(){this.process(this.selection)},e.prototype.ngOnChanges=function(){!this.selection||this.selection&&0===this.selection.length?this.setDisableAttribute(!0):this.elementRef.nativeElement.hasAttribute("adf-node-permission")||this.setDisableAttribute(!1)},e.prototype.setDisableAttribute=function(e){this.elementRef.nativeElement.disabled=e},e.prototype.process=function(e){var t=this;if(e.length){var n=this.getDeleteNodesBatch(e);x.Observable.forkJoin.apply(x.Observable,n).subscribe(function(e){var n=t.processStatus(e);t.notify(n),n.someSucceeded&&t["delete"].emit()})}},e.prototype.getDeleteNodesBatch=function(e){var t=this;return e.map(function(e){return t.deleteNode(e)})},e.prototype.deleteNode=function(e){var t=e.entry.nodeId||e.entry.id,n=this.alfrescoApiService.getInstance().nodes.deleteNode(t,{permanent:this.permanent});return x.Observable.fromPromise(n).map(function(){return{entry:e.entry,status:1}})["catch"](function(t){return x.Observable.of({entry:e.entry,status:0})})},e.prototype.processStatus=function(e){return e.reduce(function(e,t){return 1===t.status?e.success.push(t):e.failed.push(t),e},{success:[],failed:[],get someFailed(){return!!this.failed.length},get someSucceeded(){return!!this.success.length},get oneFailed(){return 1===this.failed.length},get oneSucceeded(){return 1===this.success.length},get allSucceeded(){return this.someSucceeded&&!this.someFailed},get allFailed(){return this.someFailed&&!this.someSucceeded}})},e.prototype.notify=function(e){var t=this;this.getMessage(e).subscribe(function(e){return t.notification.openSnackMessage(e)})},e.prototype.getMessage=function(e){return e.allFailed&&!e.oneFailed?this.translation.get("CORE.DELETE_NODE.ERROR_PLURAL",{number:e.failed.length}):e.allSucceeded&&!e.oneSucceeded?this.translation.get("CORE.DELETE_NODE.PLURAL",{number:e.success.length}):e.someFailed&&e.someSucceeded&&!e.oneSucceeded?this.translation.get("CORE.DELETE_NODE.PARTIAL_PLURAL",{success:e.success.length,failed:e.failed.length}):e.someFailed&&e.oneSucceeded?this.translation.get("CORE.DELETE_NODE.PARTIAL_SINGULAR",{success:e.success.length,failed:e.failed.length}):e.oneFailed&&!e.someSucceeded?this.translation.get("CORE.DELETE_NODE.ERROR_SINGULAR",{name:e.failed[0].entry.name}):e.oneSucceeded&&!e.someFailed?this.translation.get("CORE.DELETE_NODE.SINGULAR",{name:e.success[0].entry.name}):void 0},e}();tt.decorators=[{type:i.Directive,args:[{selector:"[adf-delete]"}]}],tt.ctorParameters=function(){return[{type:et},{type:re},{type:se},{type:i.ElementRef}]},tt.propDecorators={selection:[{type:i.Input,args:["adf-delete"]}],permanent:[{type:i.Input}],"delete":[{type:i.Output}],onClick:[{type:i.HostListener,args:["click"]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var nt=function(){function e(e){this.alfrescoApiService=e,this.favorites=[],this.selection=[],this.toggle=new i.EventEmitter}return e.prototype.onClick=function(){this.toggleFavorite()},e.prototype.ngOnChanges=function(e){e.selection.currentValue.length?this.markFavoritesNodes(e.selection.currentValue):this.favorites=[]},e.prototype.toggleFavorite=function(){var e=this;if(this.favorites.length){var t=this.favorites.every(function(e){return e.entry.isFavorite});if(t){var n=this.favorites.map(function(t){var n=t.entry.nodeId||t.entry.id;return x.Observable.fromPromise(e.alfrescoApiService.getInstance().core.favoritesApi.removeFavoriteSite("-me-",n))});x.Observable.forkJoin(n).subscribe(function(){e.favorites.map(function(e){return e.entry.isFavorite=!1}),e.toggle.emit()})}if(!t){var i=this.favorites.filter(function(e){return!e.entry.isFavorite}),r=i.map(function(t){return e.createFavoriteBody(t)});x.Observable.fromPromise(this.alfrescoApiService.getInstance().core.favoritesApi.addFavorite("-me-",r)).subscribe(function(){i.map(function(e){return e.entry.isFavorite=!0}),e.toggle.emit()})}}},e.prototype.markFavoritesNodes=function(e){var t=this;if(e.length<=this.favorites.length){var n=this.reduce(this.favorites,e);this.favorites=n}var i=this.diff(e,this.favorites),r=this.getProcessBatch(i);x.Observable.forkJoin(r).subscribe(function(e){return(n=t.favorites).push.apply(n,e);var n})},e.prototype.hasFavorites=function(){return!(this.favorites&&!this.favorites.length)&&this.favorites.every(function(e){return e.entry.isFavorite})},e.prototype.getProcessBatch=function(e){var t=this;return e.map(function(e){return t.getFavorite(e)})},e.prototype.getFavorite=function(e){var t=e.entry,n=t.name,i=t.isFile,r=t.isFolder,o=e.entry.nodeId||e.entry.id,a=this.alfrescoApiService.getInstance().core.favoritesApi.getFavorite("-me-",o);return x.Observable.from(a).map(function(){return{entry:{id:o,isFolder:r,isFile:i,name:n,isFavorite:!0}}})["catch"](function(){return x.Observable.of({entry:{id:o,isFolder:r,isFile:i,name:n,isFavorite:!1}})})},e.prototype.createFavoriteBody=function(e){var t=this.getNodeType(e),n=e.entry.nodeId||e.entry.id;return{target:(i={},i[t]={guid:n},i)};var i},e.prototype.getNodeType=function(e){return e.entry.isFile||e.entry.isFolder?e.entry.isFile?"file":"folder":"file"},e.prototype.diff=function(e,t){var n=t.map(function(e){return e.entry.id});return e.filter(function(e){return n.includes(e.entry.id)?null:e})},e.prototype.reduce=function(e,t){var n=t.map(function(e){return e.entry.id});return e.filter(function(e){return n.includes(e.entry.id)?e:null})},e}();nt.decorators=[{type:i.Directive,args:[{selector:"[adf-node-favorite]",exportAs:"adfFavorite"}]}],nt.ctorParameters=function(){return[{type:re}]},nt.propDecorators={selection:[{type:i.Input,args:["adf-node-favorite"]}],toggle:[{type:i.Output}],onClick:[{type:i.HostListener,args:["click"]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var it=new i.InjectionToken("extendible.component"),rt=function(){function e(e,t,n,i,r){this.elementRef=e,this.renderer=t,this.contentService=n,this.changeDetector=i,this.parentComponent=r,this.permission=null,this.nodes=[]}return e.prototype.ngOnChanges=function(e){e.nodes&&!e.nodes.firstChange&&this.updateElement()},e.prototype.updateElement=function(){var e=this.hasPermission(this.nodes,this.permission);return e?this.enable():this.disable(),e},e.prototype.enable=function(){this.parentComponent?(this.parentComponent.disabled=!1,this.changeDetector.detectChanges()):this.enableElement()},e.prototype.disable=function(){this.parentComponent?(this.parentComponent.disabled=!0,this.changeDetector.detectChanges()):this.disableElement()},e.prototype.enableElement=function(){this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")},e.prototype.disableElement=function(){this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","true")},e.prototype.hasPermission=function(e,t){var n=this;return!!(e&&e.length>0)&&e.every(function(e){return n.contentService.hasPermission(e.entry,t)})},e}();rt.decorators=[{type:i.Directive,args:[{selector:"[adf-node-permission]"}]}],rt.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer2},{type:ze},{type:i.ChangeDetectorRef},{type:undefined,decorators:[{type:i.Host},{type:i.Optional},{type:i.Inject,args:[it]}]}]},rt.propDecorators={permission:[{type:i.Input,args:["adf-node-permission"]}],nodes:[{type:i.Input,args:["adf-nodes"]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ot=function(){function e(e,t,n,r){this.alfrescoApiService=e,this.translation=t,this.router=n,this.notification=r,this.location="",this.restore=new i.EventEmitter,this.restoreProcessStatus=this.processStatus()}return e.prototype.onClick=function(){this.recover(this.selection)},e.prototype.recover=function(e){var t=this;if(e.length){var n=this.getNodesWithPath(e);if(e.length&&!n.length)return(i=this.restoreProcessStatus.fail).push.apply(i,e),this.restoreNotification(),void this.refresh();this.restoreNodesBatch(n)["do"](function(e){var n=t.processStatus(e);(i=t.restoreProcessStatus.fail).push.apply(i,n.fail),(r=t.restoreProcessStatus.success).push.apply(r,n.success);var i,r}).mergeMap(function(){return t.getDeletedNodes()}).subscribe(function(n){var i=n.list.entries,r=t.restoreProcessStatus.fail,o=t.diff(r,e,!1),a=t.diff(o,i);a.length?t.recover(a):(t.restoreNotification(),t.refresh())});var i}},e.prototype.restoreNodesBatch=function(e){var t=this;return x.Observable.forkJoin(e.map(function(e){return t.restoreNode(e)}))},e.prototype.getNodesWithPath=function(e){return e.filter(function(e){return e.entry.path})},e.prototype.getDeletedNodes=function(){var e=this.alfrescoApiService.getInstance().core.nodesApi.getDeletedNodes({include:["path"]});return x.Observable.from(e)},e.prototype.restoreNode=function(e){var t=e.entry,n=this.alfrescoApiService.getInstance().nodes.restoreNode(t.id);return x.Observable.from(n).map(function(){return{status:1,entry:t}})["catch"](function(e){var n=JSON.parse(e.message).error.statusCode;return x.Observable.of({status:0,statusCode:n,entry:t})})},e.prototype.navigateLocation=function(e){var t=e.elements[e.elements.length-1];this.router.navigate([this.location,t.id])},e.prototype.diff=function(e,t,n){void 0===n&&(n=!0);var i=e.map(function(e){return e.entry.id});return t.filter(function(e){return n?i.includes(e.entry.id)?e:null:i.includes(e.entry.id)?null:e})},e.prototype.processStatus=function(e){void 0===e&&(e=[]);return e.reduce(function(e,t){return t.status?e.success.push(t):e.fail.push(t),e},{fail:[],success:[],get someFailed(){return!!this.fail.length},get someSucceeded(){return!!this.success.length},get oneFailed(){return 1===this.fail.length},get oneSucceeded(){return 1===this.success.length},get allSucceeded(){return this.someSucceeded&&!this.someFailed},get allFailed(){return this.someFailed&&!this.someSucceeded},reset:function(){this.fail=[],this.success=[]}})},e.prototype.getRestoreMessage=function(){var e=this.restoreProcessStatus;return e.someFailed&&!e.oneFailed?this.translation.get("CORE.RESTORE_NODE.PARTIAL_PLURAL",{number:e.fail.length}):e.oneFailed&&e.fail[0].statusCode?409===e.fail[0].statusCode?this.translation.get("CORE.RESTORE_NODE.NODE_EXISTS",{name:e.fail[0].entry.name}):this.translation.get("CORE.RESTORE_NODE.GENERIC",{name:e.fail[0].entry.name}):e.oneFailed&&!e.fail[0].statusCode?this.translation.get("CORE.RESTORE_NODE.LOCATION_MISSING",{name:e.fail[0].entry.name}):e.allSucceeded&&!e.oneSucceeded?this.translation.get("CORE.RESTORE_NODE.PLURAL"):e.allSucceeded&&e.oneSucceeded?this.translation.get("CORE.RESTORE_NODE.SINGULAR",{name:e.success[0].entry.name}):void 0},e.prototype.restoreNotification=function(){var e=this,t=Object.assign({},this.restoreProcessStatus);x.Observable.zip(this.getRestoreMessage(),this.translation.get("CORE.RESTORE_NODE.VIEW")).subscribe(function(n){var i=n[0],r=n[1],o=t.oneSucceeded&&!t.someFailed?r:"";e.notification.openSnackMessageAction(i,o).onAction().subscribe(function(){return e.navigateLocation(t.success[0].entry.path)})})},e.prototype.refresh=function(){this.restoreProcessStatus.reset(),this.selection=[],this.restore.emit()},e}();ot.decorators=[{type:i.Directive,args:[{selector:"[adf-restore]"}]}],ot.ctorParameters=function(){return[{type:re},{type:se},{type:C.Router},{type:et}]},ot.propDecorators={selection:[{type:i.Input,args:["adf-restore"]}],location:[{type:i.Input}],restore:[{type:i.Output}],onClick:[{type:i.HostListener,args:["click"]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var at=function(){function e(){}return e.flattern=function(t){var n=t.createReader(),i=[];return new Promise(function(t){var r=[];!function o(){n.readEntries(function(n){n.length?(r.push(Promise.all(n.map(function(t){return t.isFile?new Promise(function(e){t.file(function(n){i.push({entry:t,file:n,relativeFolder:t.fullPath.replace(/\/[^\/]*$/,"")}),e()})}):e.flattern(t).then(function(e){i.push.apply(i,e)})}))),o()):Promise.all(r).then(function(e){return t(i)})})}()})},e.toFileArray=function(e){var t=[];if(e&&e.length>0)for(var n=0;n<e.length;n++)t.push(e[n]);return t},e}(),st=function(){function e(e,t,n){this.el=e,this.renderer=t,this.ngZone=n,this.enabled=!0,this.mode=["drop"],this.isDragging=!1,this.cssClassName="adf-upload__dragging",this.element=e.nativeElement}return e.prototype.ngOnInit=function(){var e=this;this.isClickMode()&&this.renderer&&(this.upload=this.renderer.createElement(this.el.nativeElement.parentNode,"input"),this.upload.type="file",this.upload.style.display="none",this.upload.addEventListener("change",function(t){return e.onSelectFiles(t)}),this.multiple&&this.upload.setAttribute("multiple",""),this.accept&&this.upload.setAttribute("accept",this.accept),this.directory&&this.upload.setAttribute("webkitdirectory","")),this.isDropMode()&&this.ngZone.runOutsideAngular(function(){e.element.addEventListener("dragenter",e.onDragEnter.bind(e)),e.element.addEventListener("dragover",e.onDragOver.bind(e)),e.element.addEventListener("dragleave",e.onDragLeave.bind(e)),e.element.addEventListener("drop",e.onDrop.bind(e))})},e.prototype.ngOnDestroy=function(){this.element.removeEventListener("dragenter",this.onDragEnter),this.element.removeEventListener("dragover",this.onDragOver),this.element.removeEventListener("dragleave",this.onDragLeave),this.element.removeEventListener("drop",this.onDrop)},e.prototype.onClick=function(e){this.isClickMode()&&this.upload&&(e.preventDefault(),this.upload.click())},e.prototype.onDragEnter=function(e){this.isDropMode()&&(this.element.classList.add(this.cssClassName),this.isDragging=!0)},e.prototype.onDragOver=function(e){return e.preventDefault(),this.isDropMode()&&(this.element.classList.add(this.cssClassName),this.isDragging=!0),!1},e.prototype.onDragLeave=function(e){this.isDropMode()&&(this.element.classList.remove(this.cssClassName),this.isDragging=!1)},e.prototype.onDrop=function(e){var t=this;if(this.isDropMode()){e.stopPropagation(),e.preventDefault(),this.element.classList.remove(this.cssClassName),this.isDragging=!1;var n=this.getDataTransfer(e);n&&this.getFilesDropped(n).then(function(e){t.onUploadFiles(e)})}return!1},e.prototype.onUploadFiles=function(e){if(this.enabled&&e.length>0){var t=new CustomEvent("upload-files",{detail:{sender:this,data:this.data,files:e},bubbles:!0});this.el.nativeElement.dispatchEvent(t)}},e.prototype.hasMode=function(e){return this.enabled&&e&&this.mode&&this.mode.indexOf(e)>-1},e.prototype.isDropMode=function(){return this.hasMode("drop")},e.prototype.isClickMode=function(){return this.hasMode("click")},e.prototype.getDataTransfer=function(e){return e&&e.dataTransfer?e.dataTransfer:e&&e.originalEvent&&e.originalEvent.dataTransfer?e.originalEvent.dataTransfer:null},e.prototype.getFilesDropped=function(e){return new Promise(function(t){var n=[];if(e){var i=e.items;if(i)for(var r=function(e){if("undefined"!=typeof i[e].webkitGetAsEntry){var t=i[e].webkitGetAsEntry();t&&(t.isFile?n.push(Promise.resolve({entry:t,file:i[e].getAsFile(),relativeFolder:"/"})):t.isDirectory&&n.push(new Promise(function(e){at.flattern(t).then(function(t){return e(t)})})))}else n.push(Promise.resolve({entry:null,file:i[e].getAsFile(),relativeFolder:"/"}))},o=0;o<i.length;o++)r(o);else{var a=at.toFileArray(e.files).map(function(e){return{entry:null,file:e,relativeFolder:"/"}});n.push(Promise.resolve(a))}}Promise.all(n).then(function(e){t(e.reduce(function(e,t){return e.concat(t)},[]))})})},e.prototype.onSelectFiles=function(e){if(this.isClickMode()){var t=e.currentTarget,n=at.toFileArray(t.files);this.onUploadFiles(n.map(function(e){return{entry:null,file:e,relativeFolder:"/"}})),e.target.value=""}},e}();st.decorators=[{type:i.Directive,args:[{selector:"[adf-upload]"}]}],st.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer},{type:i.NgZone}]},st.propDecorators={enabled:[{type:i.Input,args:["adf-upload"]}],data:[{type:i.Input,args:["adf-upload-data"]}],mode:[{type:i.Input}],multiple:[{type:i.Input}],accept:[{type:i.Input}],directory:[{type:i.Input}],onClick:[{type:i.HostListener,args:["click",["$event"]]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var lt=function(){return function(){}}();lt.decorators=[{type:i.NgModule,args:[{imports:[t.CommonModule,le],declarations:[Qe,Ze,tt,nt,rt,ot,st],exports:[Qe,Ze,tt,nt,rt,ot,st]}]}],lt.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ut=function(){function e(){}return e.prototype.ngOnInit=function(){!this.value&&this.column&&this.column.key&&this.row&&this.data&&(this.value=this.data.getValue(this.row,this.column),this.tooltip||(this.tooltip=this.value))},e}();ut.decorators=[{type:i.Component,args:[{selector:"adf-datatable-cell",changeDetection:i.ChangeDetectionStrategy.OnPush,template:'\n        <ng-container>\n            <span [title]="tooltip" class="adf-datatable-cell-value">{{value}}</span>\n        </ng-container>',encapsulation:i.ViewEncapsulation.None,host:{"class":"adf-datatable-cell"}}]}],ut.ctorParameters=function(){return[]},ut.propDecorators={data:[{type:i.Input}],column:[{type:i.Input}],row:[{type:i.Input}],value:[{type:i.Input}],tooltip:[{type:i.Input}]};var ct=function(){return function(){this.defaultPrevented=!1}}(),pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ee(t,e),t}(ct),dt={};dt.Pending=0,dt.Complete=1,dt.Starting=2,dt.Progress=3,dt.Cancelled=4,dt.Aborted=5,dt.Error=6,dt.Deleted=7,dt[dt.Pending]="Pending",dt[dt.Complete]="Complete",dt[dt.Starting]="Starting",dt[dt.Progress]="Progress",dt[dt.Cancelled]="Cancelled",dt[dt.Aborted]="Aborted",dt[dt.Error]="Error",dt[dt.Deleted]="Deleted";var ft=function(){function e(e,t){this.status=dt.Pending,this.file=e,this.id=this.generateId(),this.name=e.name,this.size=e.size,this.data=null,this.progress={loaded:0,total:0,percent:0},this.options=Object.assign({},{newVersion:!1},t)}return e.prototype.generateId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},Object.defineProperty(e.prototype,"extension",{get:function(){return this.name.slice((Math.max(0,this.name.lastIndexOf("."))||Infinity)+1)},enumerable:!0,configurable:!0}),e}(),mt=function(){return function(e,t,n){void 0===t&&(t=dt.Pending),void 0===n&&(n=null),this.file=e,this.status=t,this.error=n}}(),ht=function(e){function t(t,n,i,r){void 0===n&&(n=0),void 0===r&&(r=0);var o=e.call(this,t,dt.Complete)||this;return o.totalComplete=n,o.data=i,o.totalAborted=r,o}return ee(t,e),t}(mt),gt=function(e){function t(t,n){void 0===n&&(n=0);var i=e.call(this,t,dt.Deleted)||this;return i.totalComplete=n,i}return ee(t,e),t}(mt),yt=function(e){function t(t,n,i){void 0===i&&(i=0);var r=e.call(this,t,dt.Error)||this;return r.error=n,r.totalError=i,r}return ee(t,e),t}(mt),vt=function(e){function t(t,n,i){var r=e.call(this)||this;return r.value=t,r.event=n,r.sender=i,r}return ee(t,e),t}(pt),bt=function(){return function(e,t){this.key=e,this.direction=t}}(),wt=function(){function e(e,t){if(void 0===t&&(t=!1),this.obj=e,this.isSelected=t,!e)throw new Error("Object source not found")}return e.prototype.getValue=function(e){return te.getValue(this.obj,e)},e.prototype.hasValue=function(e){return this.getValue(e)!==undefined},e}(),It=function(){return function(e){this.key=e.key,this.type=e.type||"text",this.format=e.format,this.sortable=e.sortable,this.title=e.title,this.srTitle=e.srTitle,this.cssClass=e.cssClass,this.template=e.template}}(),Et=function(){function e(e,t){if(void 0===e&&(e=[]),void 0===t&&(t=[]),this._rows=[],this._columns=[],e&&e.length>0&&(this._rows=e.map(function(e){return new wt(e)})),t&&t.length>0){this._columns=t.map(function(e){return new It(e)});var n=this._columns.filter(function(e){return e.sortable});n.length>0&&this.sort(n[0].key,"asc")}}return e.generateSchema=function(e){var t=[];if(e&&e.length){var n=e[0];if("object"==typeof n)for(var i in n)n.hasOwnProperty(i)&&t.push({type:"text",key:i,title:i,sortable:!1})}return t},e.prototype.getRows=function(){return this._rows},e.prototype.setRows=function(e){this._rows=e||[],this.sort()},e.prototype.getColumns=function(){return this._columns},e.prototype.setColumns=function(e){this._columns=e||[]},e.prototype.getValue=function(e,t){if(!e)throw new Error("Row not found");if(!t)throw new Error("Column not found");var n=e.getValue(t.key);if("date"===t.type)try{return this.formatDate(t,n)}catch(i){console.error("Error parsing date "+n+" to format "+t.format)}if("icon"===t.type){return e.getValue(t.key)}return n},e.prototype.formatDate=function(e,n){if("date"===e.type){var i=e.format||"medium";if("timeAgo"===i){return(new Xe).transform(n)}return new t.DatePipe("en-US").transform(n,i)}return n},e.prototype.getSorting=function(){return this._sorting},e.prototype.setSorting=function(e){this._sorting=e,e&&e.key&&this._rows.sort(function(t,n){var i=t.getValue(e.key);i=i?i instanceof Date?i.valueOf().toString():i.toString():"";var r=n.getValue(e.key);return r=r?r instanceof Date?r.valueOf().toString():r.toString():"","asc"===e.direction?i.localeCompare(r):r.localeCompare(i)})},e.prototype.sort=function(e,t){var n=this._sorting||new bt;e&&(n.key=e,n.direction=t||"asc"),this.setSorting(n)},e}(),St=function(){return function(e,t,n){this.row=e,this.col=t,this.actions=n||[]}}(),Ct=function(e){function t(t,n,i){var r=e.call(this)||this;return r.value=new St(t,n,i),r}return ee(t,e),t}(ct),Tt=function(e){function t(t,n){var i=e.call(this)||this;return i.value=new xt(t,n),i}return ee(t,e),Object.defineProperty(t.prototype,"args",{get:function(){return this.value},enumerable:!0,configurable:!0}),t}(ct),xt=function(){return function(e,t){this.row=e,this.action=t}}(),Ot=function(){function e(e,t){var n=this;this.elementRef=e,this.rows=[],this.selectionMode="single",this.multiselect=!1,this.actions=!1,this.actionsPosition="right",this.contextMenu=!1,this.allowDropFiles=!1,this.rowStyleClass="",this.showHeader=!0,this.rowClick=new i.EventEmitter,this.rowDblClick=new i.EventEmitter,this.showRowContextMenu=new i.EventEmitter,this.showRowActionsMenu=new i.EventEmitter,this.executeRowAction=new i.EventEmitter,this.loading=!1,this.noPermission=!1,this.isSelectAllChecked=!1,this.selection=new Array,this.schema=[],this.rowMenuCache={},t&&(this.differ=t.find([]).create(null)),this.click$=new x.Observable(function(e){return n.clickObserver=e}).share()}return e.prototype.ngAfterContentInit=function(){this.setTableSchema()},e.prototype.ngOnChanges=function(e){this.initAndSubscribeClickStream(),this.isPropertyChanged(e.data)?this.isTableEmpty()?this.initTable():this.data=e.data.currentValue:this.isPropertyChanged(e.rows)?this.isTableEmpty()?this.initTable():this.setTableRows(e.rows.currentValue):e.selectionMode&&!e.selectionMode.isFirstChange()&&(this.resetSelection(),this.emitRowSelectionEvent("row-unselect",null))},e.prototype.ngDoCheck=function(){this.differ.diff(this.rows)&&this.setTableRows(this.rows)},e.prototype.isPropertyChanged=function(e){return!(!e||!e.currentValue)},e.prototype.convertToRowsData=function(e){return e.map(function(e){return new wt(e)})},e.prototype.initAndSubscribeClickStream=function(){var e=this;this.unsubscribeClickStream();var t=this.click$.buffer(this.click$.debounceTime(250)).map(function(e){return e}).filter(function(e){return 1===e.length});this.singleClickStreamSub=t.subscribe(function(t){var n=t[0];e.rowClick.emit(n),n.defaultPrevented||e.elementRef.nativeElement.dispatchEvent(new CustomEvent("row-click",{detail:n,bubbles:!0}))});var n=this.click$.buffer(this.click$.debounceTime(250)).map(function(e){return e}).filter(function(e){return e.length>=2});this.multiClickStreamSub=n.subscribe(function(t){var n=t[0];e.rowDblClick.emit(n),n.defaultPrevented||e.elementRef.nativeElement.dispatchEvent(new CustomEvent("row-dblclick",{detail:n,bubbles:!0}))})},e.prototype.unsubscribeClickStream=function(){this.singleClickStreamSub&&this.singleClickStreamSub.unsubscribe(),this.multiClickStreamSub&&this.multiClickStreamSub.unsubscribe()},e.prototype.initTable=function(){this.data=new Et(this.rows,this.schema),this.rowMenuCache={}},e.prototype.isTableEmpty=function(){return this.data===undefined||null===this.data},e.prototype.setTableRows=function(e){this.data&&this.data.setRows(this.convertToRowsData(e))},e.prototype.setTableSchema=function(){this.columnList&&this.columnList.columns&&(this.schema=this.columnList.columns.map(function(e){return e})),this.data&&this.schema&&this.schema.length>0&&this.data.setColumns(this.schema)},e.prototype.onRowClick=function(e,t){if(t&&t.preventDefault(),e){if(this.data&&(this.isSingleSelectionMode()&&(this.resetSelection(),this.selectRow(e,!0),this.emitRowSelectionEvent("row-select",e)),this.isMultiSelectionMode())){var n=t&&(t.metaKey||t.ctrlKey),i=!n||!e.isSelected,r=i?"row-select":"row-unselect";n||this.resetSelection(),this.selectRow(e,i),this.emitRowSelectionEvent(r,e)}var o=new vt(e,t,this);this.clickObserver.next(o)}},e.prototype.resetSelection=function(){if(this.data){var e=this.data.getRows();e&&e.length>0&&e.forEach(function(e){return e.isSelected=!1}),this.selection.splice(0)}this.isSelectAllChecked=!1},e.prototype.onRowDblClick=function(e,t){t&&t.preventDefault();var n=new vt(e,t,this);this.clickObserver.next(n)},e.prototype.onRowKeyUp=function(e,t){var n=new CustomEvent("row-keyup",{detail:{row:e,keyboardEvent:t,sender:this},bubbles:!0});this.elementRef.nativeElement.dispatchEvent(n),n.defaultPrevented?t.preventDefault():"Enter"===t.key&&this.onKeyboardNavigate(e,t)},e.prototype.onKeyboardNavigate=function(e,t){t&&t.preventDefault();var n=new vt(e,t,this);this.rowDblClick.emit(n),this.elementRef.nativeElement.dispatchEvent(new CustomEvent("row-dblclick",{detail:n,bubbles:!0}))},e.prototype.onColumnHeaderClick=function(e){if(e&&e.sortable){var t=this.data.getSorting(),n="asc";t&&e.key===t.key&&(n="asc"===t.direction?"desc":"asc"),this.data.setSorting(new bt(e.key,n))}},e.prototype.onSelectAllClick=function(e){if(this.isSelectAllChecked=e.checked,this.multiselect){var t=this.data.getRows();if(t&&t.length>0)for(var n=0;n<t.length;n++)this.selectRow(t[n],e.checked);var i=e.checked?"row-select":"row-unselect",r=this.selection.length>0?this.selection[0]:null;this.emitRowSelectionEvent(i,r)}},e.prototype.onCheckboxChange=function(e,t){var n=t.checked;this.selectRow(e,n);var i=n?"row-select":"row-unselect";this.emitRowSelectionEvent(i,e)},e.prototype.onImageLoadingError=function(e){if(e&&this.fallbackThumbnail){e.target.src=this.fallbackThumbnail}},e.prototype.isIconValue=function(e,t){if(e&&t){var n=e.getValue(t.key);return n&&n.startsWith("material-icons://")}return!1},e.prototype.asIconValue=function(e,t){if(this.isIconValue(e,t)){return(e.getValue(t.key)||"").replace("material-icons://","")}return null},e.prototype.iconAltTextKey=function(e){return e?"ICONS."+e.substring(e.lastIndexOf("/")+1).replace(/\.[a-z]+/,""):""},e.prototype.isColumnSorted=function(e,t){if(e&&t){var n=this.data.getSorting();return n&&n.key===e.key&&n.direction===t}return!1},e.prototype.getContextMenuActions=function(e,t){var n=new Ct(e,t,[]);return this.showRowContextMenu.emit(n),n.value.actions},e.prototype.getRowActions=function(e,t){var n=e.getValue("id");if(!this.rowMenuCache[n]){var i=new Ct(e,t,[]);this.showRowActionsMenu.emit(i),this.rowMenuCache[n]=i.value.actions}return this.rowMenuCache[n]},e.prototype.onExecuteRowAction=function(e,t){t.disabled||t.disabled?event.stopPropagation():this.executeRowAction.emit(new Tt(e,t))},e.prototype.rowAllowsDrop=function(e){return!0===e.isDropTarget},e.prototype.hasSelectionMode=function(){return this.isSingleSelectionMode()||this.isMultiSelectionMode()},e.prototype.isSingleSelectionMode=function(){return this.selectionMode&&"single"===this.selectionMode.toLowerCase()},e.prototype.isMultiSelectionMode=function(){return this.selectionMode&&"multiple"===this.selectionMode.toLowerCase()},e.prototype.getRowStyle=function(e){return e.cssClass=e.cssClass?e.cssClass:"",this.rowStyleClass=this.rowStyleClass?this.rowStyleClass:"",e.cssClass+" "+this.rowStyleClass},e.prototype.selectRow=function(e,t){if(e){e.isSelected=t;var n=this.selection.indexOf(e);t?n<0&&this.selection.push(e):n>-1&&this.selection.splice(n,1)}},e.prototype.getCellTooltip=function(e,t){if(e&&t&&t.formatTooltip){var n=t.formatTooltip(e,t);if(n)return n}return null},e.prototype.emitRowSelectionEvent=function(e,t){var n=new CustomEvent(e,{detail:{row:t,selection:this.selection},bubbles:!0});this.elementRef.nativeElement.dispatchEvent(n)},e}();Ot.decorators=[{type:i.Component,args:[{selector:"adf-datatable",styles:["\n\n    "],template:'\n      <table\n          *ngIf="data"\n          class="full-width adf-data-table">\n\n          <thead *ngIf="showHeader">\n          <tr>\n              \x3c!-- Actions (left) --\x3e\n              <th *ngIf="actions && actionsPosition === \'left\'" class="actions-column">\n                  <span class="sr-only">Actions</span>\n              </th>\n              \x3c!-- Columns --\x3e\n              <th *ngIf="multiselect">\n                  <mat-checkbox [checked]="isSelectAllChecked" (change)="onSelectAllClick($event)"></mat-checkbox>\n              </th>\n              <th class="adf-data-table-cell--{{col.type || \'text\'}} {{col.cssClass}}"\n                  *ngFor="let col of data.getColumns()"\n                  [class.sortable]="col.sortable"\n                  [attr.data-automation-id]="\'auto_id_\' + col.key"\n                  [class.adf-data-table__header--sorted-asc]="isColumnSorted(col, \'asc\')"\n                  [class.adf-data-table__header--sorted-desc]="isColumnSorted(col, \'desc\')"\n                  (click)="onColumnHeaderClick(col)"\n                  (keyup.enter)="onColumnHeaderClick(col)"\n                  role="button"\n                  tabindex="0"\n                  title="{{ col.title | translate }}">\n                  <span *ngIf="col.srTitle" class="sr-only">{{ col.srTitle | translate }}</span>\n                  <span *ngIf="col.title">{{ col.title | translate}}</span>\n              </th>\n              \x3c!-- Actions (right) --\x3e\n              <th *ngIf="actions && actionsPosition === \'right\'" class="actions-column">\n                  <span class="sr-only">Actions</span>\n              </th>\n          </tr>\n          </thead>\n\n          <tbody>\n          <ng-container *ngIf="!loading && !noPermission">\n              <tr *ngFor="let row of data.getRows(); let idx = index"\n                  role="button"\n                  [class.is-selected]="row.isSelected"\n                  [adf-upload]="allowDropFiles && rowAllowsDrop(row)" [adf-upload-data]="row"\n                  [ngStyle]="rowStyle"\n                  [ngClass]="getRowStyle(row)"\n                  (keyup)="onRowKeyUp(row, $event)">\n\n                  \x3c!-- Actions (left) --\x3e\n                  <td *ngIf="actions && actionsPosition === \'left\'">\n                      <button mat-icon-button [matMenuTriggerFor]="menu"\n                          [attr.data-automation-id]="\'action_menu_\' + idx">\n                          <mat-icon>more_vert</mat-icon>\n                      </button>\n                      <mat-menu #menu="matMenu">\n                          <button mat-menu-item *ngFor="let action of getRowActions(row)"\n                              [attr.data-automation-id]="action.title"\n                              [disabled]="action.disabled"\n                              (click)="onExecuteRowAction(row, action)">\n                              <mat-icon *ngIf="action.icon">{{ action.icon }}</mat-icon>\n                              <span>{{ action.title | translate }}</span>\n                          </button>\n                      </mat-menu>\n                  </td>\n\n                  <td *ngIf="multiselect">\n                      <mat-checkbox\n                          [checked]="row.isSelected"\n                          (change)="onCheckboxChange(row, $event)">\n                      </mat-checkbox>\n                  </td>\n                  <td *ngFor="let col of data.getColumns()"\n                      class="adf-data-table-cell adf-data-table-cell--{{col.type || \'text\'}} {{col.cssClass}}"\n                      tabindex="0"\n                      (click)="onRowClick(row, $event)"\n                      [context-menu]="getContextMenuActions(row, col)"\n                      [context-menu-enabled]="contextMenu">\n                      <div *ngIf="!col.template" class="cell-container">\n                          <ng-container [ngSwitch]="col.type">\n                              <div *ngSwitchCase="\'image\'" class="cell-value">\n                                  <mat-icon *ngIf="isIconValue(row, col)">{{ asIconValue(row, col) }}</mat-icon>\n                                  <mat-icon *ngIf="!isIconValue(row, col) && row.isSelected" svgIcon="selected" >\n                                  </mat-icon>\n\n                                  <img *ngIf="!isIconValue(row, col) && !row.isSelected"\n                                       alt="{{ iconAltTextKey(data.getValue(row, col)) | translate }}"\n                                       src="{{ data.getValue(row, col) }}"\n                                       (error)="onImageLoadingError($event)">\n                              </div>\n                              <div *ngSwitchCase="\'icon\'"  class="cell-value">\n                                  <span class="sr-only">{{ iconAltTextKey(data.getValue(row, col)) | translate }}</span>\n                                  <mat-icon>{{ data.getValue(row, col) }}</mat-icon>\n                              </div>\n                              <div *ngSwitchCase="\'date\'"  class="cell-value"\n                                  [attr.data-automation-id]="\'date_\' + data.getValue(row, col)">\n                                  <adf-date-cell\n                                      [data]="data"\n                                      [column]="col"\n                                      [row]="row"\n                                      [tooltip]="getCellTooltip(row, col)">\n                                  </adf-date-cell>\n                              </div>\n                              <div *ngSwitchCase="\'location\'" class="cell-value"\n                                  [attr.data-automation-id]="\'location\' + data.getValue(row, col)">\n                                  <adf-location-cell\n                                      [data]="data"\n                                      [column]="col"\n                                      [row]="row"\n                                      [tooltip]="getCellTooltip(row, col)">\n                                  </adf-location-cell>\n                              </div>\n                              <div *ngSwitchCase="\'fileSize\'" class="cell-value"\n                                  [attr.data-automation-id]="\'fileSize_\' + data.getValue(row, col)">\n                                  <adf-filesize-cell\n                                      [data]="data"\n                                      [column]="col"\n                                      [row]="row"\n                                      [tooltip]="getCellTooltip(row, col)">\n                                  </adf-filesize-cell>\n                              </div>\n                              <div *ngSwitchCase="\'text\'" class="cell-value"\n                                  [attr.data-automation-id]="\'text_\' + data.getValue(row, col)">\n                                  <adf-datatable-cell\n                                      [data]="data"\n                                      [column]="col"\n                                      [row]="row"\n                                      [tooltip]="getCellTooltip(row, col)">\n                                  </adf-datatable-cell>\n                              </div>\n                          <span *ngSwitchDefault class="cell-value">\n                          \x3c!-- empty cell for unknown column type --\x3e\n                          </span>\n                          </ng-container>\n                      </div>\n                      <div *ngIf="col.template" class="cell-container">\n                          <ng-container\n                              [ngTemplateOutlet]="col.template"\n                              [ngTemplateOutletContext]="{ $implicit: { data: data, row: row, col: col }, value: data.getValue(row, col) }">\n                          </ng-container>\n                      </div>\n                  </td>\n\n                  \x3c!-- Actions (right) --\x3e\n                  <td *ngIf="actions && actionsPosition === \'right\'" class="alfresco-datatable__actions-cell">\n                      <button mat-icon-button [matMenuTriggerFor]="menu"\n                          [attr.data-automation-id]="\'action_menu_\' + idx">\n                          <mat-icon>more_vert</mat-icon>\n                      </button>\n                      <mat-menu #menu="matMenu">\n                          <button mat-menu-item *ngFor="let action of getRowActions(row)"\n                              [attr.data-automation-id]="action.title"\n                              [disabled]="action.disabled"\n                              (click)="onExecuteRowAction(row, action)">\n                              <mat-icon *ngIf="action.icon">{{ action.icon }}</mat-icon>\n                              <span>{{ action.title | translate }}</span>\n                          </button>\n                      </mat-menu>\n                  </td>\n\n              </tr>\n              <tr *ngIf="data.getRows().length === 0">\n                  <td class="adf-no-content-container"\n                      [attr.colspan]="1 + data.getColumns().length">\n                      <ng-template *ngIf="noContentTemplate"\n                                   ngFor [ngForOf]="[data]"\n                                   [ngForTemplate]="noContentTemplate">\n                      </ng-template>\n                      <ng-content select="adf-empty-list"></ng-content>\n                  </td>\n              </tr>\n          </ng-container>\n          <tr *ngIf="!loading && noPermission" class="adf-no-permission__row">\n              <td class="adf-no-permission__cell">\n                  <ng-template *ngIf="noPermissionTemplate"\n                               ngFor [ngForOf]="[data]"\n                               [ngForTemplate]="noPermissionTemplate">\n                  </ng-template>\n              </td>\n          </tr>\n          <tr *ngIf="loading">\n              <td class="adf-loading-content-container"\n                  [attr.colspan]="1 + data.getColumns().length">\n                  <ng-template *ngIf="loadingTemplate"\n                               ngFor [ngForOf]="[data]"\n                               [ngForTemplate]="loadingTemplate">\n                  </ng-template>\n              </td>\n          </tr>\n          </tbody>\n      </table>\n    ',encapsulation:i.ViewEncapsulation.None}]}],Ot.ctorParameters=function(){return[{type:i.ElementRef},{type:i.IterableDiffers}]},Ot.propDecorators={columnList:[{type:i.ContentChild,args:[_e]}],data:[{type:i.Input}],rows:[{type:i.Input}],selectionMode:[{type:i.Input}],multiselect:[{type:i.Input}],actions:[{type:i.Input}],actionsPosition:[{type:i.Input}],fallbackThumbnail:[{type:i.Input}],contextMenu:[{type:i.Input}],allowDropFiles:[{type:i.Input}],rowStyle:[{type:i.Input}],rowStyleClass:[{type:i.Input}],showHeader:[{type:i.Input}],rowClick:[{type:i.Output}],rowDblClick:[{type:i.Output}],showRowContextMenu:[{type:i.Output}],showRowActionsMenu:[{type:i.Output}],executeRowAction:[{type:i.Output}],loading:[{type:i.Input}],noPermission:[{type:i.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Pt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ee(t,e),t}(ut);Pt.decorators=[{type:i.Component,args:[{selector:"adf-date-cell",changeDetection:i.ChangeDetectionStrategy.OnPush,template:'\n        <ng-container>\n            <span [title]="tooltip">{{value}}</span>\n        </ng-container>\n    ',encapsulation:i.ViewEncapsulation.None,host:{"class":"adf-date-cell"}}]}],Pt.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ft=function(){return function(){}}();Ft.decorators=[{type:i.Component,args:[{selector:"adf-empty-list",styles:["\n      .adf-empty-list_template {\n        text-align: center;\n        margin-top: 20px;\n        margin-bottom: 20px; }\n    "],template:'\n      <div class="adf-empty-list_template">\n          <ng-content select="[adf-empty-list-header]"></ng-content>\n          <ng-content select="[adf-empty-list-body]"></ng-content>\n          <ng-content select="[adf-empty-list-footer]"></ng-content>\n          <ng-content></ng-content>\n      </div>\n    ',encapsulation:i.ViewEncapsulation.None}]}],Ft.ctorParameters=function(){return[]};var kt=function(){return function(){}}();kt.decorators=[{type:i.Directive,args:[{selector:"[adf-empty-list-header]"}]}],kt.ctorParameters=function(){return[]};var Rt=function(){return function(){}}();Rt.decorators=[{type:i.Directive,args:[{selector:"[adf-empty-list-body]"}]}],Rt.ctorParameters=function(){return[]};var At=function(){return function(){}}();At.decorators=[{type:i.Directive,args:[{selector:"[adf-empty-list-footer]"}]}],At.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Dt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ee(t,e),t}(ut);Dt.decorators=[{type:i.Component,args:[{selector:"adf-filesize-cell",changeDetection:i.ChangeDetectionStrategy.OnPush,template:'\n        <ng-container>\n            <span [title]="tooltip">{{ value | adfFileSize }}</span>\n        </ng-container>\n    ',encapsulation:i.ViewEncapsulation.None,host:{"class":"adf-filesize-cell"}}]}],Dt.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _t=function(e){function t(){var t=e.apply(this,arguments)||this;return t.displayText="",t}return ee(t,e),t.prototype.ngOnInit=function(){if(!this.value&&this.column&&this.column.key&&this.row&&this.data){var e=this.data.getValue(this.row,this.column);if(e&&e.name&&e.elements){this.value=e,this.displayText=e.name.split("/").pop(),this.tooltip||(this.tooltip=e.name);var t=e.elements[e.elements.length-1];this.link=[this.column.format,t.id]}}},t}(ut);_t.decorators=[{type:i.Component,args:[{selector:"adf-location-cell",changeDetection:i.ChangeDetectionStrategy.OnPush,template:'\n        <ng-container>\n            <a href="" [title]="tooltip" [routerLink]="link">\n                {{ displayText }}\n            </a>\n        </ng-container>\n    ',encapsulation:i.ViewEncapsulation.None,host:{"class":"adf-location-cell"}}]}],_t.ctorParameters=function(){return[]},_t.propDecorators={link:[{type:i.Input}],displayText:[{type:i.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Lt=function(){function e(e){this.dataTable=e}return e.prototype.ngAfterContentInit=function(){this.dataTable&&(this.dataTable.loadingTemplate=this.template)},e}();Lt.decorators=[{type:i.Directive,args:[{selector:"loading-content-template"}]}],Lt.ctorParameters=function(){return[{type:Ot}]},Lt.propDecorators={template:[{type:i.ContentChild,args:[i.TemplateRef]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Vt=function(){function e(e){this.dataTable=e}return e.prototype.ngAfterContentInit=function(){this.dataTable&&(this.dataTable.noContentTemplate=this.template)},e}();Vt.decorators=[{type:i.Directive,args:[{selector:"no-content-template"}]}],Vt.ctorParameters=function(){return[{type:Ot}]},Vt.propDecorators={template:[{type:i.ContentChild,args:[i.TemplateRef]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Mt=function(){function e(e){this.dataTable=e}return e.prototype.ngAfterContentInit=function(){this.dataTable&&(this.dataTable.noPermissionTemplate=this.template)},e}();Mt.decorators=[{type:i.Directive,args:[{selector:"no-permission-template"}]}],Mt.ctorParameters=function(){return[{type:Ot}]},Mt.propDecorators={template:[{type:i.ContentChild,args:[i.TemplateRef]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Nt=function(){return function(){}}();Nt.decorators=[{type:i.NgModule,args:[{imports:[C.RouterModule,le,t.CommonModule,a.TranslateModule,Ae,Je,lt],declarations:[Ot,Ft,kt,Rt,At,ut,Pt,Dt,_t,Vt,Mt,Lt],exports:[Ot,Ft,kt,Rt,At,ut,Pt,Dt,_t,Vt,Mt,Lt]}]}],Nt.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ut=function(){return function(){}}();Ut.decorators=[{type:i.Component,args:[{selector:"adf-info-drawer-layout",template:'\n      <div class="adf-info-drawer-layout-header">\n          <div class="adf-info-drawer-layout-header-title">\n              <ng-content select="[info-drawer-title]"></ng-content>\n          </div>\n          <div class="adf-info-drawer-layout-header-buttons">\n              <ng-content select="[info-drawer-buttons]"></ng-content>\n          </div>\n      </div>\n      <div class="adf-info-drawer-layout-content">\n          <ng-content select="[info-drawer-content]"></ng-content>\n      </div>\n    ',styles:["\n\n    "],encapsulation:i.ViewEncapsulation.None,host:{"class":"adf-info-drawer-layout"}}]}],Ut.ctorParameters=function(){return[]};var jt=function(){return function(){}}();jt.decorators=[{type:i.Directive,args:[{selector:"[info-drawer-title]"}]}],jt.ctorParameters=function(){return[]};var Bt=function(){return function(){}}();Bt.decorators=[{type:i.Directive,args:[{selector:"[info-drawer-buttons]"}]}],Bt.ctorParameters=function(){return[]};var qt=function(){return function(){}}();qt.decorators=[{type:i.Directive,args:[{selector:"[info-drawer-content]"}]}],qt.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var zt=function(){return function(){this.label="Main tab"}}();zt.decorators=[{type:i.Component,args:[{selector:"adf-info-drawer-tab",template:"<ng-template><ng-content></ng-content></ng-template>"}]}],zt.ctorParameters=function(){return[]},zt.propDecorators={label:[{type:i.Input,args:["label"]}],content:[{type:i.ViewChild,args:[i.TemplateRef]}]};var Yt=function(){function e(){this.title=null,this.currentTab=new i.EventEmitter}return e.prototype.showTabLayout=function(){return this.contentBlocks.length>0},e.prototype.onTabChange=function(e){this.currentTab.emit(e.index)},e}();Yt.decorators=[{type:i.Component,args:[{selector:"adf-info-drawer",template:'\n      <adf-info-drawer-layout>\n          <div *ngIf="title" info-drawer-title>{{title}}</div>\n          <ng-content *ngIf="!title" info-drawer-title select="[info-drawer-title]"></ng-content>\n\n          <ng-content info-drawer-buttons select="[info-drawer-buttons]"></ng-content>\n\n          <ng-container info-drawer-content *ngIf="showTabLayout(); then tabLayout else singleLayout"></ng-container>\n\n          <ng-template #tabLayout>\n              <mat-tab-group class="adf-info-drawer-tabs" (selectedTabChange)="onTabChange($event)">\n                  <ng-container *ngFor="let contentBlock of contentBlocks">\n                      <mat-tab [label]="contentBlock.label" class="adf-info-drawer-tab">\n                          <ng-container *ngTemplateOutlet="contentBlock.content"></ng-container>\n                      </mat-tab>\n                  </ng-container>\n              </mat-tab-group>\n          </ng-template>\n\n          <ng-template #singleLayout>\n              <ng-content select="[info-drawer-content]"></ng-content>\n          </ng-template>\n      </adf-info-drawer-layout>\n    ',styles:["\n      .adf-info-drawer {\n        display: block; }\n        .adf-info-drawer .adf-info-drawer-layout-content {\n          padding: 0; }\n          .adf-info-drawer .adf-info-drawer-layout-content > :not(.adf-info-drawer-tabs) {\n            padding: 10px; }\n            .adf-info-drawer .adf-info-drawer-layout-content > :not(.adf-info-drawer-tabs) > * {\n              margin-bottom: 20px;\n              display: block; }\n          .adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body-content > * {\n            margin-bottom: 20px;\n            display: block; }\n          .adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body-content > *:last-child {\n            margin-bottom: 0; }\n          .adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-label {\n            -webkit-box-flex: 1;\n                -ms-flex-positive: 1;\n                    flex-grow: 1; }\n          .adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-ink-bar {\n            height: 4px; }\n          .adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body {\n            padding: 10px; }\n          .adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body-content {\n            overflow: initial; }\n    "],encapsulation:i.ViewEncapsulation.None,host:{"class":"adf-info-drawer"}}]}],Yt.ctorParameters=function(){return[]},Yt.propDecorators={title:[{type:i.Input}],currentTab:[{type:i.Output}],contentBlocks:[{type:i.ContentChildren,args:[zt]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ht=function(){return function(){}}();Ht.decorators=[{type:i.NgModule,args:[{imports:[t.CommonModule,le],declarations:[Ut,zt,Yt],exports:[Ut,zt,Yt]}]}],Ht.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Gt=function(){function e(e,t){this.appConfig=e,this.userPreference=t,this.languages=[{key:"en",label:"English"}]}return e.prototype.ngOnInit=function(){var e=this.appConfig.get(ne.APP_CONFIG_LANGUAGES_KEY);e&&(this.languages=e)},e.prototype.changeLanguage=function(e){this.userPreference.locale=e},e}();Gt.decorators=[{type:i.Component,args:[{selector:"adf-language-menu",template:'\n      <button mat-menu-item *ngFor="let language of languages" (click)="changeLanguage(language.key)">{{language.label}}\n      </button>\n    '}]}],Gt.ctorParameters=function(){return[{type:ne},{type:oe}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Wt=function(){return function(){}}();Wt.decorators=[{type:i.NgModule,args:[{imports:[t.CommonModule,le],declarations:[Gt],exports:[Gt]}]}],Wt.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var $t=function(){function e(e,t,n){this.appConfig=e,this.logService=t,this.preferences=n}return Object.defineProperty(e.prototype,"ecmHost",{get:function(){return this.logService.log("SettingsService.ecmHost is deprecated. Use AppConfigService instead."),this.appConfig.get("ecmHost")},set:function(e){this.logService.log("SettingsService.ecmHost is deprecated. Use AppConfigService instead.")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"csrfDisabled",{set:function(e){this.logService.log("SettingsService.csrfDisabled is deprecated. Use UserPreferencesService.disableCSRF instead."),this.preferences.disableCSRF=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bpmHost",{get:function(){return this.logService.log("SettingsService.bpmHost is deprecated. Use AppConfigService instead."),this.appConfig.get("bpmHost")},set:function(e){this.logService.log("SettingsService.bpmHost is deprecated. Use AppConfigService instead.")},enumerable:!0,configurable:!0}),e.prototype.getBPMApiBaseUrl=function(){return this.logService.log("SettingsService.getBPMApiBaseUrl is deprecated."),this.bpmHost+"/activiti-app"},e.prototype.getProviders=function(){return this.logService.log("SettingsService.getProviders is deprecated. Use UserPreferencesService.authType instead."),this.preferences.authType},e.prototype.setProviders=function(e){this.logService.log("SettingsService.getProviders is deprecated. Use UserPreferencesService.authType instead."),this.preferences.authType=e},e}();$t.decorators=[{type:i.Injectable}],$t.ctorParameters=function(){return[{type:ne},{type:je},{type:oe}]};var Xt=function(){return function(e){this.err=e}}(),Kt=function(){function e(e){this._defaultPrevented=!1,this._values=e}return Object.defineProperty(e.prototype,"values",{get:function(){return this._values},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultPrevented",{get:function(){return this._defaultPrevented},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){this._defaultPrevented=!0},e}(),Jt=function(){return function(e,t,n){this.token=e,this.username=t,this.password=n}}(),Qt={};Qt.Landing=0,Qt.Checking=1,Qt.Welcome=2,Qt[Qt.Landing]="Landing",Qt[Qt.Checking]="Checking",Qt[Qt.Welcome]="Welcome";var Zt=function(){function e(e,t,n,r,o,a,s,l){this._fb=e,this.authService=t,this.settingsService=n,this.translateService=r,this.logService=o,this.elementRef=a,this.router=s,this.userPreferences=l,this.isPasswordShow=!1,this.showRememberMe=!0,this.showLoginActions=!0,this.needHelpLink="",this.registerLink="",this.logoImageUrl="./assets/images/alfresco-logo.svg",this.backgroundImageUrl="./assets/images/background.svg",this.copyrightText="© 2016 Alfresco Software, Inc. All Rights Reserved.",this.successRoute=null,this.success=new i.EventEmitter,this.error=new i.EventEmitter,this.executeSubmit=new i.EventEmitter,this.isError=!1,this.actualLoginStep=Qt.Landing,this.LoginSteps=Qt,this.rememberMe=!0,this.minLength=2,this.initFormError(),this.initFormFieldsMessages()}return e.prototype.ngOnInit=function(){var e=this;this.hasCustomFiledsValidation()?this.form=this._fb.group(this.fieldsValidation):(this.initFormFieldsDefault(),this.initFormFieldsMessagesDefault()),this.form.valueChanges.subscribe(function(t){return e.onValueChanged(t)})},e.prototype.onSubmit=function(e){if(!this.checkRequiredParams())return!1;this.settingsService.setProviders(this.providers),this.settingsService.csrfDisabled=this.disableCsrf,this.disableError();var t=new Kt(this.form);if(this.executeSubmit.emit(t),t.defaultPrevented)return!1;this.performLogin(e)},e.prototype.onValueChanged=function(e){this.disableError();for(var t in this.formError)if(t){this.formError[t]="";if(this.form.controls[t].errors&&""!==e[t]||this.form.controls[t].dirty&&!this.form.controls[t].valid)for(var n in this.form.controls[t].errors)n&&(this.formError[t]+=this._message[t][n]+"")}},e.prototype.performLogin=function(e){var t=this;this.actualLoginStep=Qt.Checking,this.authService.login(e.username,e.password,this.rememberMe).subscribe(function(n){var i=t.authService.getRedirectUrl();t.actualLoginStep=Qt.Welcome,t.userPreferences.setStoragePrefix(e.username),t.success.emit(new Jt(n,e.username,e.password)),i?(t.authService.setRedirectUrl(null),t.router.navigate([i])):t.successRoute&&t.router.navigate([t.successRoute])},function(e){t.actualLoginStep=Qt.Landing,t.displayErrorMessage(e),t.enableError(),t.error.emit(new Xt(e))},function(){return t.logService.info("Login done")})},e.prototype.displayErrorMessage=function(e){e.error&&e.error.crossDomain&&-1!==e.error.message.indexOf("Access-Control-Allow-Origin")?this.errorMsg=e.error.message:403===e.status&&-1!==e.message.indexOf("Invalid CSRF-token")?this.errorMsg="LOGIN.MESSAGES.LOGIN-ERROR-CSRF":403===e.status&&-1!==e.message.indexOf("The system is currently in read-only mode")?this.errorMsg="LOGIN.MESSAGES.LOGIN-ECM-LICENSE":this.errorMsg="LOGIN.MESSAGES.LOGIN-ERROR-CREDENTIALS"},e.prototype.checkRequiredParams=function(){var e=!0;if(this.providers===undefined||null===this.providers||""===this.providers){this.errorMsg="LOGIN.MESSAGES.LOGIN-ERROR-PROVIDERS",this.enableError();var t=void 0;t=this.translateService.get(this.errorMsg),this.error.emit(new Xt(t.value)),e=!1}return e},e.prototype.addCustomFormError=function(e,t){this.formError[e]+=t},e.prototype.addCustomValidationError=function(e,t,n,i){var r=this;i?this.translateService.get(n,i).subscribe(function(n){r._message[e][t]=n}):this._message[e][t]=n},e.prototype.toggleShowPassword=function(){this.isPasswordShow=!this.isPasswordShow,this.elementRef.nativeElement.querySelector("#password").type=this.isPasswordShow?"text":"password"},e.prototype.isErrorStyle=function(e){return!e.valid&&e.dirty&&!e.pristine},e.prototype.trimUsername=function(e){e.target.value=e.target.value.trim()},e.prototype.initFormError=function(){this.formError={username:"",password:""}},e.prototype.initFormFieldsMessages=function(){this._message={username:{},password:{}}},e.prototype.initFormFieldsMessagesDefault=function(){var e=this;this._message={username:{required:"LOGIN.MESSAGES.USERNAME-REQUIRED"},password:{required:"LOGIN.MESSAGES.PASSWORD-REQUIRED"}},this.translateService.get("LOGIN.MESSAGES.USERNAME-MIN",{minLength:this.minLength}).subscribe(function(t){e._message.username.minlength=t})},e.prototype.initFormFieldsDefault=function(){this.form=this._fb.group({username:["",r.Validators.required],password:["",r.Validators.required]})},e.prototype.disableError=function(){this.isError=!1,this.initFormError()},e.prototype.enableError=function(){this.isError=!0},e.prototype.hasCustomFiledsValidation=function(){return this.fieldsValidation!==undefined},e}();Zt.decorators=[{type:i.Component,args:[{selector:"adf-login",template:'\n      <div class="adf-login-content" [style.background-image]="\'url(\' + backgroundImageUrl + \')\'">\n           <div class="ie11FixerParent">\n               <div class="ie11FixerChild">\n\n                  <mat-card class="adf-login-card-wide">\n                      <form [formGroup]="form" (submit)="onSubmit(form.value)">\n\n                          <mat-card-header>\n                              <mat-card-title>\n                                  <div class="adf-alfresco-logo">\n                                      \x3c!--HEADER TEMPLATE--\x3e\n                                      <ng-template *ngIf="headerTemplate"\n                                                  ngFor [ngForOf]="[data]"\n                                                  [ngForTemplate]="headerTemplate">\n                                      </ng-template>\n                                      <img *ngIf="!headerTemplate" class="adf-img-logo" [src]="logoImageUrl"\n                                          alt="{{\'LOGIN.LOGO\' | translate }}">\n                                  </div>\n                              </mat-card-title>\n                          </mat-card-header>\n\n                          <mat-card-content class="adf-login-controls">\n\n                              \x3c!--ERRORS AREA--\x3e\n                              <div class="adf-error-container">\n                                  <div *ngIf="isError" id="login-error" data-automation-id="login-error"\n                                      class="error  adf-error-message">\n                                      <mat-icon class="error-icon">warning</mat-icon>\n                                      <span class="login-error-message">{{errorMsg | translate }}</span>\n                                  </div>\n                              </div>\n\n                              \x3c!--USERNAME FIELD--\x3e\n                              <div class="adf-login__field" [ngClass]="{\'is-invalid\': isErrorStyle(form.controls.username)}">\n                                  <mat-form-field class="adf-full-width" floatPlaceholder="never" color="primary">\n                                      <input matInput placeholder="{{\'LOGIN.LABEL.USERNAME\' | translate }}"\n                                          type="text"\n                                          class="adf-full-width"\n                                          [formControl]="form.controls[\'username\']"\n                                          autocapitalize="none"\n                                          id="username"\n                                          data-automation-id="username"\n                                          (blur)="trimUsername($event)"\n                                          tabindex="1">\n                                  </mat-form-field>\n\n                                  <span class="adf-login-validation" for="username" *ngIf="formError.username">\n                                      <span id="username-error" class="adf-login-error" data-automation-id="username-error">{{formError.username | translate }}</span>\n                                  </span>\n                              </div>\n\n                              \x3c!--PASSWORD FIELD--\x3e\n                              <div class="adf-login__field">\n                                  <mat-form-field class="adf-full-width" floatPlaceholder="never" color="primary">\n                                      <input matInput placeholder="{{\'LOGIN.LABEL.PASSWORD\' | translate }}"\n                                          type="password"\n                                          [formControl]="form.controls[\'password\']"\n                                          id="password"\n                                          data-automation-id="password"\n                                          tabindex="2">\n                                      <mat-icon *ngIf="isPasswordShow" matSuffix class="adf-login-password-icon"\n                                              data-automation-id="hide_password" (click)="toggleShowPassword()">visibility\n                                      </mat-icon>\n                                      <mat-icon *ngIf="!isPasswordShow" matSuffix class="adf-login-password-icon"\n                                              data-automation-id="show_password" (click)="toggleShowPassword()">visibility_off\n                                      </mat-icon>\n                                  </mat-form-field>\n                                  <span class="adf-login-validation" for="password" *ngIf="formError.password">\n                                      <span id="password-required" class="adf-login-error"\n                                          data-automation-id="password-required">{{formError.password | translate }}</span>\n                                  </span>\n                              </div>\n\n                              \x3c!--CUSTOM CONTENT--\x3e\n                              <ng-content></ng-content>\n\n                              <br>\n                              <button type="submit" id="login-button" tabindex="3"\n                                      class="adf-login-button"\n                                      mat-raised-button color="primary"\n                                      [class.isChecking]="actualLoginStep === LoginSteps.Checking"\n                                      [class.isWelcome]="actualLoginStep === LoginSteps.Welcome"\n                                      data-automation-id="login-button" [disabled]="!form.valid">\n                            \n                                  <span *ngIf="actualLoginStep === LoginSteps.Landing" class="adf-login-button-label">{{ \'LOGIN.BUTTON.LOGIN\' | translate }}</span>\n\n                                  <div *ngIf="actualLoginStep === LoginSteps.Checking" class="adf-interactive-login-label">\n                                      <span class="adf-login-button-label">{{ \'LOGIN.BUTTON.CHECKING\' | translate }}</span>\n                                      <div class="adf-login-spinner-container">\n                                          <mat-spinner id="checking-spinner" class="adf-login-checking-spinner" [diameter]="25"></mat-spinner>\n                                      </div>\n                                  </div>\n\n\n                                  <div *ngIf="actualLoginStep === LoginSteps.Welcome" class="adf-interactive-login-label">\n                                      <span class="adf-login-button-label">{{ \'LOGIN.BUTTON.WELCOME\' | translate }}</span>\n                                      <mat-icon class="welcome-icon">done</mat-icon>\n                                  </div>\n\n                              </button>\n                              <div *ngIf="showRememberMe" class="adf-login__remember-me">\n                                  <mat-checkbox id="adf-login-remember" color="primary" class="adf-login-rememberme" [checked]="rememberMe"\n                                              (change)="rememberMe = !rememberMe">{{ \'LOGIN.LABEL.REMEMBER\' | translate }}\n                                  </mat-checkbox>\n                              </div>\n                          </mat-card-content>\n                          <mat-card-actions *ngIf="footerTemplate || showLoginActions">\n\n                              <div class="adf-login-action-container">\n                                  \x3c!--FOOTER TEMPLATE--\x3e\n                                  <ng-template *ngIf="footerTemplate"\n                                              ngFor [ngForOf]="[data]"\n                                              [ngForTemplate]="footerTemplate">\n                                  </ng-template>\n                                  <div class="adf-login-action" *ngIf="!footerTemplate && showLoginActions">\n                                      <div id="adf-login-action-left" class="adf-login-action-left">\n                                          <a href="{{needHelpLink}}">{{\'LOGIN.ACTION.HELP\' | translate }}</a>\n                                      </div>\n                                      <div id="adf-login-action-right" class="adf-login-action-right">\n                                          <a href="{{registerLink}}">{{\'LOGIN.ACTION.REGISTER\' | translate }}</a>\n                                      </div>\n                                  </div>\n                              </div>\n                          </mat-card-actions>\n\n                      </form>\n                  </mat-card>\n\n                  <div class="copyright" data-automation-id="login-copyright">\n                      {{ copyrightText }}\n                  </div>\n\n              </div>\n           </div>\n      </div>\n    ',styles:["\n\n    "],host:{"(blur)":"onBlur($event)"},encapsulation:i.ViewEncapsulation.None}]}],Zt.ctorParameters=function(){return[{type:r.FormBuilder},{type:qe},{type:$t},{type:se},{type:je},{type:i.ElementRef},{type:C.Router},{type:oe}]},Zt.propDecorators={showRememberMe:[{type:i.Input}],showLoginActions:[{type:i.Input}],needHelpLink:[{type:i.Input}],registerLink:[{type:i.Input}],logoImageUrl:[{type:i.Input}],backgroundImageUrl:[{type:i.Input}],copyrightText:[{type:i.Input}],providers:[{type:i.Input}],fieldsValidation:[{type:i.Input}],disableCsrf:[{type:i.Input}],successRoute:[{type:i.Input}],success:[{type:i.Output}],error:[{type:i.Output}],executeSubmit:[{type:i.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var en=function(){function e(e){this.alfrescoLoginComponent=e}return e.prototype.ngAfterContentInit=function(){this.alfrescoLoginComponent.footerTemplate=this.template},e}();en.decorators=[{type:i.Directive,args:[{selector:"login-footer"}]}],en.ctorParameters=function(){return[{type:Zt}]},en.propDecorators={template:[{type:i.ContentChild,args:[i.TemplateRef]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var tn=function(){function e(e){this.alfrescoLoginComponent=e}return e.prototype.ngAfterContentInit=function(){this.alfrescoLoginComponent.headerTemplate=this.template},e}();tn.decorators=[{type:i.Directive,args:[{selector:"login-header"}]}],tn.ctorParameters=function(){return[{type:Zt}]},tn.propDecorators={template:[{type:i.ContentChild,args:[i.TemplateRef]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var nn=function(){return function(){}}();nn.decorators=[{type:i.NgModule,args:[{imports:[C.RouterModule,le,r.FormsModule,r.ReactiveFormsModule,t.CommonModule,a.TranslateModule],declarations:[Zt,en,tn],exports:[[Zt,en,tn]]}]}],nn.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var rn=function(){function e(){this.pageSize=e.DEFAULT_PAGE_SIZE,this.isLoading=!1,this.loadMore=new i.EventEmitter}return e.prototype.ngOnInit=function(){this.pagination||(this.pagination=e.DEFAULT_PAGINATION)},e.prototype.onLoadMore=function(){this.pagination.skipCount+=this.pageSize,this.loadMore.next(this.pagination)},e}();rn.DEFAULT_PAGE_SIZE=25,rn.DEFAULT_PAGINATION={skipCount:0,hasMoreItems:!1},rn.decorators=[{type:i.Component,args:[{selector:"adf-infinite-pagination",host:{"class":"infinite-adf-pagination"},template:'\n      <div *ngIf="pagination?.hasMoreItems" class="adf-infinite-pagination">\n          <button mat-button\n              *ngIf="!isLoading"\n              class="adf-infinite-pagination-load-more"\n              (click)="onLoadMore($event)"\n              data-automation-id="adf-infinite-pagination-button">\n                  <ng-content></ng-content>\n          </button>\n\n          <mat-progress-bar *ngIf="isLoading"\n              mode="indeterminate"\n              class="adf-infinite-pagination-spinner"\n              data-automation-id="adf-infinite-pagination-spinner"></mat-progress-bar>\n      </div>\n    ',styles:["\n      .adf-infinite-pagination {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -ms-flex-pack: distribute;\n            justify-content: space-around;\n        min-height: 56px; }\n        .adf-infinite-pagination-load-more {\n          margin-bottom: 10px;\n          margin-top: 10px; }\n    "],changeDetection:i.ChangeDetectionStrategy.OnPush,encapsulation:i.ViewEncapsulation.None}]}],rn.ctorParameters=function(){return[]},rn.propDecorators={pagination:[{type:i.Input}],pageSize:[{type:i.Input}],isLoading:[{type:i.Input,args:["loading"]}],loadMore:[{type:i.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var on=function(){function e(e){this.cdr=e,this.supportedPageSizes=[5,25,50,100],this.change=new i.EventEmitter,this.changePageNumber=new i.EventEmitter,this.changePageSize=new i.EventEmitter,this.nextPage=new i.EventEmitter,this.prevPage=new i.EventEmitter}return e.prototype.ngOnInit=function(){var t=this;this.target&&(this.supportedPageSizes=this.target.supportedPageSizes,this.paginationSubscription=this.target.pagination.subscribe(function(e){t.pagination=e,t.cdr.detectChanges()})),this.pagination||(this.pagination=e.DEFAULT_PAGINATION)},Object.defineProperty(e.prototype,"lastPage",{get:function(){var e=this.pagination,t=e.maxItems,n=e.totalItems;return n&&t?Math.ceil(n/t):1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){var e=this.pagination,t=e.maxItems,n=e.skipCount;return n&&t?Math.floor(n/t)+1:1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLastPage",{get:function(){return this.current===this.lastPage},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isFirstPage",{get:function(){return 1===this.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"next",{get:function(){return this.isLastPage?this.current:this.current+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previous",{get:function(){return this.isFirstPage?1:this.current-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasItems",{get:function(){return this.pagination&&this.pagination.count>0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"range",{get:function(){var e=this.pagination,t=e.skipCount,n=e.maxItems,i=e.totalItems,r=this.isLastPage;return[i?t+1:0,r?i:t+n]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pages",{get:function(){return Array(this.lastPage).fill("n").map(function(e,t){return t+1})},enumerable:!0,configurable:!0}),e.prototype.goNext=function(){if(this.hasItems){var t=this.pagination.maxItems,n=(this.next-1)*t;this.handlePaginationEvent(e.ACTIONS.NEXT_PAGE,{skipCount:n,maxItems:t})}},e.prototype.goPrevious=function(){if(this.hasItems){var t=this.pagination.maxItems,n=(this.previous-1)*t;this.handlePaginationEvent(e.ACTIONS.PREV_PAGE,{skipCount:n,maxItems:t})}},e.prototype.onChangePageNumber=function(t){if(this.hasItems){var n=this.pagination.maxItems,i=(t-1)*n;this.handlePaginationEvent(e.ACTIONS.CHANGE_PAGE_NUMBER,{skipCount:i,maxItems:n})}},e.prototype.onChangePageSize=function(t){this.handlePaginationEvent(e.ACTIONS.CHANGE_PAGE_SIZE,{skipCount:0,maxItems:t})},e.prototype.handlePaginationEvent=function(t,n){var i=e.ACTIONS,r=i.NEXT_PAGE,o=i.PREV_PAGE,a=i.CHANGE_PAGE_NUMBER,s=i.CHANGE_PAGE_SIZE,l=this.change,u=this.changePageNumber,c=this.changePageSize,p=this.nextPage,d=this.prevPage,f=this.pagination,m=Object.assign({},f,n);t===r&&p.emit(m),t===o&&d.emit(m),t===a&&u.emit(m),t===s&&c.emit(m),l.emit(n),this.target&&this.target.updatePagination(n)},e.prototype.ngOnDestroy=function(){this.paginationSubscription&&this.paginationSubscription.unsubscribe()},e}();on.DEFAULT_PAGINATION={skipCount:0,maxItems:25,totalItems:0},on.ACTIONS={NEXT_PAGE:"NEXT_PAGE",PREV_PAGE:"PREV_PAGE",CHANGE_PAGE_SIZE:"CHANGE_PAGE_SIZE",CHANGE_PAGE_NUMBER:"CHANGE_PAGE_NUMBER"},on.decorators=[{type:i.Component,args:[{selector:"adf-pagination",host:{"class":"adf-pagination"},template:'\n      <ng-container *ngIf="hasItems">\n          <div class="adf-pagination__block adf-pagination__range-block">\n              <span class="adf-pagination__range">\n                  {{\n                      \'CORE.PAGINATION.ITEMS_RANGE\' | translate: {\n                          range: range.join(\'-\'),\n                          total: pagination.totalItems\n                      }\n                  }}\n              </span>\n          </div>\n\n          <div class="adf-pagination__block adf-pagination__perpage-block">\n              <span>\n                  {{ \'CORE.PAGINATION.ITEMS_PER_PAGE\' | translate }}\n              </span>\n\n              <span class="adf-pagination__max-items">\n                  {{ pagination.maxItems }}\n              </span>\n\n              <button mat-icon-button [matMenuTriggerFor]="pageSizeMenu">\n                  <mat-icon>arrow_drop_down</mat-icon>\n              </button>\n\n              <mat-menu #pageSizeMenu="matMenu">\n                  <button\n                      mat-menu-item\n                      *ngFor="let pageSize of supportedPageSizes"\n                      (click)="onChangePageSize(pageSize)">\n                      {{ pageSize }}\n                  </button>\n              </mat-menu>\n          </div>\n\n          <div class="adf-pagination__block adf-pagination__actualinfo-block">\n              <span class="adf-pagination__current-page">\n                  {{ \'CORE.PAGINATION.CURRENT_PAGE\' | translate: { number: current } }}\n              </span>\n\n              <button\n                  mat-icon-button\n                  [matMenuTriggerFor]="pagesMenu"\n                  *ngIf="pages.length > 1">\n                  <mat-icon>arrow_drop_down</mat-icon>\n              </button>\n\n              <span class="adf-pagination__total-pages">\n                  {{ \'CORE.PAGINATION.TOTAL_PAGES\' | translate: { total: pages.length } }}\n              </span>\n\n              <mat-menu #pagesMenu="matMenu" class="adf-pagination__page-selector">\n                  <button\n                      mat-menu-item\n                      *ngFor="let pageNumber of pages"\n                      (click)="onChangePageNumber(pageNumber)">\n                      {{ pageNumber }}\n                  </button>\n              </mat-menu>\n          </div>\n\n          <div class="adf-pagination__block adf-pagination__controls-block">\n              <button\n                  class="adf-pagination__previous-button"\n                  mat-icon-button\n                  [disabled]="isFirstPage"\n                  (click)="goPrevious()">\n                  <mat-icon>keyboard_arrow_left</mat-icon>\n              </button>\n\n              <button\n                  class="adf-pagination__next-button"\n                  mat-icon-button\n                  [disabled]="isLastPage"\n                  (click)="goNext()">\n                  <mat-icon>keyboard_arrow_right</mat-icon>\n              </button>\n          </div>\n      </ng-container>\n    ',styles:["\n\n    "],changeDetection:i.ChangeDetectionStrategy.OnPush,encapsulation:i.ViewEncapsulation.None}]}],on.ctorParameters=function(){return[{type:i.ChangeDetectorRef}]},on.propDecorators={target:[{type:i.Input}],supportedPageSizes:[{type:i.Input}],pagination:[{type:i.Input}],change:[{type:i.Output}],changePageNumber:[{type:i.Output}],changePageSize:[{type:i.Output}],nextPage:[{type:i.Output}],prevPage:[{type:i.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var an=function(){return function(){}}();an.decorators=[{type:i.NgModule,args:[{imports:[t.CommonModule,le,a.TranslateModule],declarations:[rn,on],exports:[rn,on]}]}],an.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var sn=function(){function e(e,t,n,o){this.settingsService=e,this.storage=t,this.logService=n,this.translationService=o,this.HOST_REGEX="^(http|https)://.*[^/]$",this.urlFormControlEcm=new r.FormControl("",[r.Validators.required,r.Validators.pattern(this.HOST_REGEX)]),this.urlFormControlBpm=new r.FormControl("",[r.Validators.required,r.Validators.pattern(this.HOST_REGEX)]),this.providers="ALL",this.error=new i.EventEmitter,this.ecmHostTmp=this.ecmHost=t.getItem("ecmHost")||this.settingsService.ecmHost,this.bpmHostTmp=this.bpmHost=t.getItem("bpmHost")||this.settingsService.bpmHost}return e.prototype.onChangeECMHost=function(e){var t=this,n=e.target.value.trim();n&&this.isValidUrl(n)?(this.logService.info("ECM host: "+n),this.ecmHostTmp=n):this.translationService.get("CORE.HOST_SETTING.CS_URL_ERROR").subscribe(function(e){t.error.emit(e)})},e.prototype.onChangeBPMHost=function(e){var t=this,n=e.target.value.trim();n&&this.isValidUrl(n)?(this.logService.info("BPM host: "+n),this.bpmHostTmp=n):this.translationService.get("CORE.HOST_SETTING.PS_URL_ERROR").subscribe(function(e){t.error.emit(e)})},e.prototype.save=function(e){this.bpmHost!==this.bpmHostTmp&&this.storage.setItem("bpmHost",this.bpmHostTmp),this.ecmHost!==this.ecmHostTmp&&this.storage.setItem("ecmHost",this.ecmHostTmp),window.location.href="/"},e.prototype.isValidUrl=function(e){return/^(http|https):\/\/.*/.test(e)},e}();sn.decorators=[{type:i.Component,args:[{selector:"adf-host-settings",template:'\n      <div class="adf-setting-container">\n          <div class="adf-setting-card-padding"></div>\n          <mat-toolbar color="primary" class="adf-setting-toolbar">\n              <h3>{{\'CORE.HOST_SETTINGS.TITLE\' | translate}}</h3>\n          </mat-toolbar>\n\n          <mat-card class="adf-setting-card">\n              <div *ngIf="providers===\'ALL\' || providers===\'ECM\'">\n                  <mat-card-header>\n                      <mat-card-subtitle>{{\'CORE.HOST_SETTINGS.CS-HOST\' | translate }}</mat-card-subtitle>\n                  </mat-card-header>\n                  <mat-card-content>\n                      <mat-form-field class="full-width">\n                          <mat-icon class="adf-CORE.HOST_SETTINGS-link-icon" matPrefix>link</mat-icon>\n                          <input matInput\n                                 [formControl]="urlFormControlEcm"\n                                 data-automation-id="ecmHost"\n                                 type="text"\n                                 (change)="onChangeECMHost($event)"\n                                 tabindex="2"\n                                 id="ecmHost"\n                                 value="{{ecmHost}}"\n                                 placeholder="http(s)://host|ip:port(/path)">\n                          <mat-error *ngIf="urlFormControlEcm.hasError(\'pattern\')">\n                              {{ \'CORE.HOST_SETTINGS.NOT_VALID\'| translate }}\n                          </mat-error>\n                      </mat-form-field>\n                      <p>\n                  </mat-card-content>\n              </div>\n              <p>\n              <div *ngIf="providers===\'ALL\' || providers===\'BPM\'">\n                  <mat-card-header>\n                      <mat-card-subtitle>{{\'CORE.HOST_SETTINGS.BP-HOST\' | translate }}</mat-card-subtitle>\n                  </mat-card-header>\n                  <mat-card-content>\n\n                      <mat-form-field class="full-width">\n                          <mat-icon class="adf-CORE.HOST_SETTINGS-link-icon" matPrefix>link</mat-icon>\n                          <input matInput\n                                 [formControl]="urlFormControlBpm"\n                                 data-automation-id="bpmHost"\n                                 type="text"\n                                 (change)="onChangeBPMHost($event)"\n                                 tabindex="2"\n                                 id="bpmHost"\n                                 value="{{bpmHost}}"\n                                 placeholder="http(s)://host|ip:port(/path)">\n                          <mat-error *ngIf="urlFormControlBpm.hasError(\'pattern\')">\n                              {{ \'CORE.HOST_SETTINGS.NOT_VALID\'| translate }}\n                          </mat-error>\n                      </mat-form-field>\n                  </mat-card-content>\n              </div>\n              <mat-card-actions class="adf-CORE.HOST_SETTINGS-actions">\n\n                  <button mat-button onclick="window.history.back()" color="primary">\n                      {{\'CORE.HOST_SETTINGS.BACK\' | translate }}\n                  </button>\n\n                  <button mat-raised-button (click)="save($event)"\n                          [disabled]="urlFormControlBpm.hasError(\'pattern\') || urlFormControlEcm.hasError(\'pattern\')"\n                          color="primary">\n                      {{\'CORE.HOST_SETTINGS.APPLY\' | translate }}\n                  </button>\n\n              </mat-card-actions>\n          </mat-card>\n          <div class="adf-setting-card-padding"></div>\n      </div>\n    ',host:{"class":"adf-host-settings"},styles:["\n\n    "],encapsulation:i.ViewEncapsulation.None}]}],sn.ctorParameters=function(){return[{type:$t},{type:ie},{type:je},{type:se}]},sn.propDecorators={providers:[{type:i.Input}],error:[{type:i.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ln=function(){return function(){}}();ln.decorators=[{type:i.NgModule,args:[{imports:[t.CommonModule,le,a.TranslateModule,r.FormsModule,r.ReactiveFormsModule],declarations:[sn],exports:[sn]}]}],ln.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var un=function(){return function(){}}();un.decorators=[{type:i.Component,args:[{selector:"adf-toolbar-divider",template:"<div></div>",host:{"class":"adf-toolbar-divider"},styles:["\n        .adf-toolbar-divider > div {\n            height: 24px;\n            width: 1px;\n            background: rgba(0, 0, 0, 0.26);\n            margin-left: 5px;\n            margin-right: 5px;\n        }\n    "],encapsulation:i.ViewEncapsulation.None}]}],un.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var cn=function(){return function(){}}();cn.decorators=[{type:i.Component,args:[{selector:"adf-toolbar-title",template:"<ng-content></ng-content>",host:{"class":"adf-toolbar-title"}}]}],cn.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var pn=function(){return function(){this.title=""}}();pn.decorators=[{type:i.Component,args:[{selector:"adf-toolbar",template:'\n      <mat-toolbar [color]="color">\n          <span *ngIf="title">{{ title }}</span>\n          <ng-content select="adf-toolbar-title"></ng-content>\n          <span class="adf-toolbar--spacer"></span>\n          <ng-content></ng-content>\n      </mat-toolbar>\n    ',styles:["\n\n    "],changeDetection:i.ChangeDetectionStrategy.OnPush,encapsulation:i.ViewEncapsulation.None,host:{"class":"adf-toolbar"}}]}],pn.ctorParameters=function(){return[]},pn.propDecorators={title:[{type:i.Input}],color:[{type:i.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var dn=function(){return function(){}}();dn.decorators=[{type:i.NgModule,args:[{imports:[t.CommonModule,le],declarations:[pn,cn,un],exports:[pn,cn,un]}]}],dn.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fn=function(){function e(e){e&&(this.apps=e.apps,this.capabilities=e.capabilities,this.company=e.company,this.created=e.created,this.email=e.email,this.externalId=e.externalId,this.firstName=e.firstName,this.lastName=e.lastName,this.fullname=e.fullname,this.fullNameDisplay=e?this.formatValue(e.firstName).trim()+" "+this.formatValue(e.lastName).trim():null,this.groups=e.groups,this.id=e.id,this.lastUpdate=e.lastUpdate,this.latestSyncTimeStamp=e.latestSyncTimeStamp,this.password=e.password,this.pictureId=e.pictureId,this.status=e.status,this.tenantId=e.tenantId,this.tenantName=e.tenantName,this.tenantPictureId=e.tenantPictureId,this.type=e.type)}return e.prototype.formatValue=function(e){return e&&"null"!==e?e:""},e}(),mn=function(){function e(e){this.id=e&&e.id||null,this.firstName=e&&e.firstName,this.lastName=e&&e.lastName,this.fullNameDisplay=e?this.formatValue(e.firstName).trim()+" "+this.formatValue(e.lastName).trim():null,this.description=e&&e.description||null,this.avatarId=e&&e.avatarId||null,this.email=e&&e.email||null,this.skypeId=e&&e.skypeId,this.googleId=e&&e.googleId,this.instantMessageId=e&&e.instantMessageId,this.jobTitle=e&&e.jobTitle||null,this.location=e&&e.location||null,this.company=e&&e.company,this.mobile=e&&e.mobile,this.telephone=e&&e.telephone,this.statusUpdatedAt=e&&e.statusUpdatedAt,this.userStatus=e&&e.userStatus,this.enabled=e&&e.enabled,this.emailNotificationsEnabled=e&&e.emailNotificationsEnabled}return e.prototype.formatValue=function(e){return e&&"null"!==e?e:""},e}(),hn=function(){function e(e,t){this.apiService=e,this.logService=t}return e.prototype.getCurrentUserInfo=function(){var e=this;return x.Observable.fromPromise(this.apiService.getInstance().activiti.profileApi.getProfile()).map(function(e){return e})["catch"](function(t){return e.handleError(t)})},e.prototype.getCurrentUserProfileImage=function(){return this.apiService.getInstance().activiti.profileApi.getProfilePictureUrl()},e.prototype.handleError=function(e){return this.logService.error(e),x.Observable["throw"](e||"Server error")},e}();hn.decorators=[{type:i.Injectable}],hn.ctorParameters=function(){return[{type:re},{type:je}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var gn=function(){function e(e,t,n){this.apiService=e,this.contentService=t,this.logService=n}return e.prototype.getUserInfo=function(e){var t=this;return x.Observable.fromPromise(this.apiService.getInstance().core.peopleApi.getPerson(e)).map(function(e){return e.entry})["catch"](function(e){return t.handleError(e)})},e.prototype.getCurrentUserInfo=function(){return this.getUserInfo("-me-")},e.prototype.getUserProfileImage=function(e){if(e){var t={entry:{id:e}};return this.contentService.getContentUrl(t)}},e.prototype.handleError=function(e){return this.logService.error(e),x.Observable["throw"](e||"Server error")},e}();gn.decorators=[{type:i.Injectable}],gn.ctorParameters=function(){return[{type:re},{type:ze},{type:je}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var yn=function(){function e(e,t,n){this.ecmUserService=e,this.bpmUserService=t,this.authService=n,this.ecmBackgroundImage="./assets/images/ecm-background.png",this.bpmBackgroundImage="./assets/images/bpm-background.png",this.menuPositionX="after",this.menuPositionY="below",this.showName=!0,this.namePosition="right"}return e.prototype.ngOnInit=function(){this.getUserInfo()},e.prototype.getUserInfo=function(){this.loadEcmUserInfo(),this.loadBpmUserInfo()},e.prototype.isLoggedIn=function(){return this.authService.isLoggedIn()},e.prototype.loadEcmUserInfo=function(){var e=this;this.authService.isEcmLoggedIn()?this.ecmUserService.getCurrentUserInfo().subscribe(function(t){e.ecmUser=new mn(t),e.getEcmAvatar()}):(this.ecmUser=null,this.ecmUserImage=null)},e.prototype.loadBpmUserInfo=function(){var e=this;this.authService.isBpmLoggedIn()?(this.bpmUserService.getCurrentUserInfo().subscribe(function(t){e.bpmUser=new fn(t)}),this.bpmUserImage=this.bpmUserService.getCurrentUserProfileImage()):(this.bpmUser=null,this.bpmUserImage=null)},e.prototype.stopClosing=function(e){e.stopPropagation()},e.prototype.getEcmAvatar=function(){this.ecmUserImage=this.ecmUserService.getUserProfileImage(this.ecmUser.avatarId)},e.prototype.showOnRight=function(){return"right"===this.namePosition},e.prototype.hasBpmUserPictureId=function(){return!!this.bpmUser.pictureId},e.prototype.hasEcmUserAvatarId=function(){return!!this.ecmUser.avatarId},e}();yn.decorators=[{type:i.Component,args:[{selector:"adf-userinfo",styles:["\n\n    "],template:'\n      <div id="userinfo_container"\n          [class.adf-userinfo-name-right]="showOnRight()"\n          class="adf-userinfo-container" *ngIf="isLoggedIn()">\n          <span *ngIf="ecmUser && showName" id="adf-userinfo-ecm-name-display"\n                class="adf-userinfo-name">{{ecmUser.fullNameDisplay}}</span>\n          <span *ngIf="bpmUser && !ecmUser && showName" id="adf-userinfo-bpm-name-display"\n                class="adf-userinfo-name">{{bpmUser.fullNameDisplay}}</span>\n          <button mat-button [matMenuTriggerFor]="menu" class="adf-userinfo-menu_button">\n              <div class="adf-userinfo-button-profile" id="user-profile" data-automation-id="user-profile">\n                  <div *ngIf="bpmUser && !ecmUser" id="bpm-user-image">\n                      <div *ngIf="!hasBpmUserPictureId()" [outerHTML]="bpmUser | usernameInitials:\'adf-userinfo-pic\'"></div>\n                      <div *ngIf="hasBpmUserPictureId()" class="adf-userinfo-profile-container">\n                          <img id="logged-user-img" [src]="bpmUserImage" alt="user-info-profile-button"\n                              class="adf-userinfo-profile-image"/>\n                      </div>\n                  </div>\n                  <div *ngIf="ecmUser" id="ecm-user-image">\n                          <div *ngIf="!hasEcmUserAvatarId()" [outerHTML]="ecmUser | usernameInitials:\'adf-userinfo-pic\'"></div>\n                          <div *ngIf="hasEcmUserAvatarId()" class="adf-userinfo-profile-container">\n                              <img id="logged-user-img" [src]="ecmUserImage" alt="user-info-profile-button"\n                                  class="adf-userinfo-profile-image"/>\n                          </div>\n                  </div>\n          </div>\n      </button>\n          <mat-menu #menu="matMenu" id="user-profile-lists" [xPosition]="menuPositionX" [yPosition]="menuPositionY" [overlapTrigger]="false" class="adf-userinfo-menu">\n              <mat-tab-group id="tab-group-env" (click)="stopClosing($event)"\n                  class="adf-userinfo-tab" [class.adf-hide-tab]="!bpmUser || !ecmUser">\n                  <mat-tab id="ecm-panel" label="{{ \'USER_PROFILE.TAB.CS\' | translate }}" *ngIf="ecmUser">\n                      <mat-card class="adf-userinfo-card">\n                          <mat-card-header class="adf-userinfo-card-header" [style.background-image]="\'url(\' + ecmBackgroundImage + \')\'">\n                              <div *ngIf="!hasEcmUserAvatarId()" [outerHTML]="ecmUser | usernameInitials:\'adf-userinfo-profile-initials adf-hide-small\'"></div>\n                              <div *ngIf="hasEcmUserAvatarId()" class="adf-userinfo-profile-container adf-hide-small">\n                                  <img class="adf-userinfo-profile-picture" id="ecm-user-detail-image"\n                                      alt="ecm-profile-image" [src]="ecmUserImage" />\n                              </div>\n                             <div class="adf-userinfo-title" id="ecm-username">{{ecmUser.fullNameDisplay}}</div>\n                          </mat-card-header>\n                          <mat-card-content>\n                              <div class="adf-userinfo-supporting-text">\n                                      <div class="adf-userinfo-detail">\n                                          <span id="ecm-full-name" class="adf-userinfo__detail-title">{{ecmUser.fullNameDisplay}}</span>\n                                          <span class="adf-userinfo__detail-profile" id="ecm-email"> {{ecmUser.email}} </span>\n                                      </div>\n                                      <div class="adf-userinfo-detail">\n                                          <span class="adf-userinfo__secondary-info">\n                                              {{ \'USER_PROFILE.LABELS.ECM.JOB_TITLE\' | translate }}\n                                              <span id="ecm-job-title" class="adf-userinfo__detail-profile"> {{ ecmUser.jobTitle ? ecmUser.jobTitle : \'N/A\' }} </span>\n                                          </span>\n                                      </div>\n                              </div>\n                          </mat-card-content>\n                      </mat-card>\n                  </mat-tab>\n                  <mat-tab id="bpm-panel" label="{{ \'USER_PROFILE.TAB.PS\' | translate }}" *ngIf="bpmUser">\n                  <mat-card class="adf-userinfo-card">\n                      <mat-card-header class="adf-userinfo-card-header" [style.background-image]="\'url(\' + bpmBackgroundImage + \')\'">\n                          <div *ngIf="!hasBpmUserPictureId()" [outerHTML]="bpmUser | usernameInitials:\'adf-userinfo-profile-initials adf-hide-small\'"></div>\n                          <img *ngIf="hasBpmUserPictureId()" class="adf-userinfo-profile-picture adf-hide-small" id="bpm-user-detail-image"\n                                  alt="bpm-profile-image" [src]="bpmUserImage"/>\n                         <div class="adf-userinfo-title" id="bpm-username">{{bpmUser.fullNameDisplay}}</div>\n                      </mat-card-header>\n                      <mat-card-content>\n                          <div class="adf-userinfo-supporting-text">\n                                  <div class="adf-userinfo-detail">\n                                      <span id="bpm-full-name" class="adf-userinfo__detail-title">{{ bpmUser.fullNameDisplay }}</span>\n                                      <span class="adf-userinfo__detail-profile" id="bpm-email"> {{bpmUser.email}} </span>\n                                  </div>\n                                  <div class="adf-userinfo-detail">\n                                      <span id="bpm-tenant" class="adf-userinfo__secondary-info">\n                                          {{ \'USER_PROFILE.LABELS.BPM.TENANT\' | translate }}\n                                          <span class="adf-userinfo__detail-profile">{{ bpmUser.tenantName ? bpmUser.tenantName : \'\' }}</span>\n                                      </span>\n                                  </div>\n                          </div>\n                      </mat-card-content>\n                  </mat-card>\n                  </mat-tab>\n              </mat-tab-group>\n          </mat-menu>\n      </div>\n    ',encapsulation:i.ViewEncapsulation.None}]}],yn.ctorParameters=function(){return[{type:gn},{type:hn},{type:qe}]},yn.propDecorators={ecmBackgroundImage:[{type:i.Input}],bpmBackgroundImage:[{type:i.Input}],menuPositionX:[{type:i.Input}],menuPositionY:[{type:i.Input}],showName:[{type:i.Input}],namePosition:[{type:i.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vn=function(){return function(){}}();vn.decorators=[{type:i.NgModule,args:[{imports:[t.CommonModule,le,a.TranslateModule,Je],declarations:[yn],providers:[gn,hn],exports:[yn]}]}],vn.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var bn=function(){function e(e){this.contentService=e}return e.prototype.ngOnChanges=function(e){var t=e.blobFile;if(t&&t.currentValue)this.urlFile=this.contentService.createTrustedUrl(this.blobFile);else if(!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required")},e}();bn.decorators=[{type:i.Component,args:[{selector:"adf-img-viewer",template:'\n      <div class="image-container">\n          <img id="viewer-image" [src]="urlFile" [alt]="nameFile" />\n      </div>\n    ',styles:["\n      .adf-img-viewer .image-container {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n        text-align: center;\n        -webkit-box-orient: horizontal;\n        -webkit-box-direction: normal;\n            -ms-flex-direction: row;\n                flex-direction: row;\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center;\n        height: 90vh; }\n        .adf-img-viewer .image-container img {\n          width: 100%;\n          -o-object-fit: contain;\n             object-fit: contain; }\n    "],host:{"class":"adf-img-viewer"},encapsulation:i.ViewEncapsulation.None}]}],bn.ctorParameters=function(){return[{type:ze}]},bn.propDecorators={urlFile:[{type:i.Input}],blobFile:[{type:i.Input}],nameFile:[{type:i.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var wn=function(){function e(e){this.contentService=e}return e.prototype.ngOnChanges=function(e){var t=e.blobFile;if(t&&t.currentValue)this.urlFile=this.contentService.createTrustedUrl(this.blobFile);else if(!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required")},e}();wn.decorators=[{type:i.Component,args:[{selector:"adf-media-player",template:'\n      <video controls>\n          <source [src]="urlFile" [type]="mimeType" />\n      </video>\n    ',styles:["\n      .adf-media-player video {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n        max-height: 90vh; }\n    "],host:{"class":"adf-media-player"},encapsulation:i.ViewEncapsulation.None}]}],wn.ctorParameters=function(){return[{type:ze}]},wn.propDecorators={urlFile:[{type:i.Input}],blobFile:[{type:i.Input}],mimeType:[{type:i.Input}],nameFile:[{type:i.Input}]};var In=function(){function e(){this.renderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},this.CLEANUP_TIMEOUT=3e4,this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return e.prototype.setViewer=function(e){this.pdfViewer=e},e.prototype.setThumbnailViewer=function(e){this.pdfThumbnailViewer=e},e.prototype.isHighestPriority=function(e){return this.highestPriorityPage===e.renderingId},e.prototype.renderHighestPriority=function(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),this.pdfViewer.forceRendering(e)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),this.CLEANUP_TIMEOUT))},e.prototype.getHighestPriority=function(e,t,n){var i=e.views,r=i.length;if(0===r)return!1;for(var o=0;o<r;++o){var a=i[o].view;if(!this.isViewFinished(a))return a}if(n){var s=e.last.id;if(t[s]&&!this.isViewFinished(t[s]))return t[s]}else{var l=e.first.id-2;if(t[l]&&!this.isViewFinished(t[l]))return t[l]}return null},e.prototype.isViewFinished=function(e){return e.renderingState===this.renderingStates.FINISHED},e.prototype.renderView=function(e){switch(e.renderingState){case this.renderingStates.FINISHED:return!1;case this.renderingStates.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case this.renderingStates.RUNNING:this.highestPriorityPage=e.renderingId;break;case this.renderingStates.INITIAL:this.highestPriorityPage=e.renderingId;var t=function(){this.renderHighestPriority()}.bind(this);e.draw().then(t,t)}return!0},e}();In.decorators=[{type:i.Injectable}],In.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var En=function(){function e(e,t){this.renderingQueueServices=e,this.logService=t,this.showToolbar=!0,this.allowThumbnails=!1,this.currentScaleMode="auto",this.MAX_AUTO_SCALE=1.25,this.DEFAULT_SCALE_DELTA=1.1,this.MIN_SCALE=.25,this.MAX_SCALE=10,this.onDocumentScroll=this.onDocumentScroll.bind(this)}return e.prototype.ngOnChanges=function(e){var t=this;if(!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required");return this.urlFile?new Promise(function(e,n){t.executePdf(t.urlFile,e,n)}):new Promise(function(e,n){var i=new FileReader;i.onload=function(){t.executePdf(i.result,e,n)},i.readAsArrayBuffer(t.blobFile)})},e.prototype.executePdf=function(e,t,n){var i=this,r=this.getPDFJS().getDocument(e);r.onProgress=function(e){var t=e.loaded/e.total;i.loadingPercent=Math.round(100*t)},r.then(function(e){i.currentPdfDocument=e,i.totalPages=e.numPages,i.page=1,i.displayPage=1,i.initPDFViewer(i.currentPdfDocument),i.currentPdfDocument.getPage(1).then(function(){i.scalePage("auto"),t()},function(e){n(e)})},function(e){n(e)})},e.prototype.getPDFJS=function(){return PDFJS},e.prototype.initPDFViewer=function(e){PDFJS.verbosity=1,PDFJS.disableWorker=!1;var t=document.getElementById("viewer-pdf-container"),n=document.getElementById("viewer-viewerPdf");window.document.addEventListener("scroll",this.onDocumentScroll,!0),this.pdfViewer=new PDFJS.PDFViewer({container:t,viewer:n,renderingQueue:this.renderingQueueServices}),this.renderingQueueServices.setViewer(this.pdfViewer),this.pdfViewer.setDocument(e)},e.prototype.ngOnDestroy=function(){window.document.removeEventListener("scroll",this.onDocumentScroll,!0)},e.prototype.scalePage=function(e){if(this.currentScaleMode=e,this.pdfViewer){var t=document.getElementById("viewer-main-container"),n=document.getElementById("viewer-pdf-container"),i=void 0,r=void 0;t&&t.clientWidth<=n.clientWidth?(i=t.clientWidth,r=t.clientHeight):(i=n.clientWidth,r=n.clientHeight);var o=this.pdfViewer._pages[this.pdfViewer._currentPageNumber-1],a=(i-20)/o.width*o.scale,s=(r-20)/o.width*o.scale,l=void 0;switch(this.currentScaleMode){case"page-actual":l=1;break;case"page-width":l=a;break;case"page-height":l=s;break;case"page-fit":l=Math.min(a,s);break;case"auto":var u=void 0;u=this.isLandscape?Math.min(s,a):a,l=Math.min(this.MAX_AUTO_SCALE,u);break;default:return void this.logService.error("pdfViewSetScale: '"+e+"' is an unknown zoom value.")}this.setScaleUpdatePages(l)}},e.prototype.setScaleUpdatePages=function(e){this.isSameScale(this.currentScale,e)||(this.currentScale=e,this.pdfViewer._pages.forEach(function(t){t.update(e)}),this.pdfViewer.update())},e.prototype.isSameScale=function(e,t){return t===e},e.prototype.isLandscape=function(e,t){return e>t},e.prototype.onResize=function(){this.scalePage(this.currentScaleMode)},e.prototype.pageFit=function(){"page-fit"!==this.currentScaleMode?this.scalePage("page-fit"):this.scalePage("auto")},e.prototype.zoomIn=function(e){var t=this.currentScale;do{t=(t*this.DEFAULT_SCALE_DELTA).toFixed(2),t=Math.ceil(10*t)/10,t=Math.min(this.MAX_SCALE,t)}while(--e>0&&t<this.MAX_SCALE);this.currentScaleMode="auto",this.setScaleUpdatePages(t)},e.prototype.zoomOut=function(e){var t=this.currentScale;do{t=(t/this.DEFAULT_SCALE_DELTA).toFixed(2),t=Math.floor(10*t)/10,t=Math.max(this.MIN_SCALE,t)}while(--e>0&&t>this.MIN_SCALE);this.currentScaleMode="auto",this.setScaleUpdatePages(t)},e.prototype.previousPage=function(){this.pdfViewer&&this.page>1&&(this.page--,this.displayPage=this.page,this.pdfViewer.currentPageNumber=this.page)},e.prototype.nextPage=function(){this.pdfViewer&&this.page<this.totalPages&&(this.page++,this.displayPage=this.page,this.pdfViewer.currentPageNumber=this.page)},e.prototype.inputPage=function(e){var t=parseInt(e,10);!isNaN(t)&&t>0&&t<=this.totalPages?(this.page=t,this.displayPage=this.page,this.pdfViewer.currentPageNumber=this.page):this.displayPage=this.page},e.prototype.watchScroll=function(e){var t=this.getVisibleElement(e);t&&(this.page=t.id,this.displayPage=this.page)},e.prototype.getVisibleElement=function(e){var t=this;return this.pdfViewer._pages.find(function(n){return t.isOnScreen(n,e)})},e.prototype.isOnScreen=function(e,t){var n={};n.top=t.scrollTop,n.bottom=n.top+t.scrollHeight;var i={};return i.top=e.div.offsetTop,i.bottom=i.top+e.viewport.height,i.top<=n.bottom&&i.bottom>=n.top},e.prototype.handleKeyboardEvent=function(e){var t=e.keyCode;39===t?this.nextPage():37===t&&this.previousPage()},e.prototype.onDocumentScroll=function(e){e&&e.target&&this.watchScroll(e.target)},e}();En.decorators=[{type:i.Component,args:[{selector:"adf-pdf-viewer",template:'\n      <div id="viewer-pdf-container" class="viewer-pdf-container" (window:resize)="onResize()">\n          <div id="viewer-viewerPdf" class="pdfViewer">\n              <div id="loader-container" class="loader-container">\n                  <div class="loader-item">\n                      <mat-progress-bar mode="indeterminate"></mat-progress-bar>\n                  </div >\n              </div>\n          </div>\n      </div>\n\n      <div class="adf-pdf-viewer__toolbar" *ngIf="showToolbar">\n          <adf-toolbar>\n\n              <ng-container *ngIf="allowThumbnails">\n                  <button mat-icon-button>\n                      <mat-icon>dashboard</mat-icon>\n                  </button>\n                  <adf-toolbar-divider></adf-toolbar-divider>\n              </ng-container>\n\n              <button\n                  id="viewer-previous-page-button"\n                  attr.aria-label="{{ \'ADF_VIEWER.ARIA.PREVIOUS_PAGE\' | translate }}"\n                  mat-icon-button\n                  (click)="previousPage()">\n                  <mat-icon>keyboard_arrow_up</mat-icon>\n              </button>\n\n              <button\n                  id="viewer-next-page-button"\n                  attr.aria-label="{{ \'ADF_VIEWER.ARIA.NEXT_PAGE\' | translate }}"\n                  mat-icon-button\n                  (click)="nextPage()">\n                  <mat-icon>keyboard_arrow_down</mat-icon>\n              </button>\n\n              <div>\n                  {{ \'ADF_VIEWER.PAGE_LABEL.SHOWING\' | translate }}\n                  <input #page\n                      class="adf-pdf-viewer__toolbar-page-selector"\n                      type="text"\n                      pattern="-?[0-9]*(\\.[0-9]+)?"\n                      value="{{ displayPage }}"\n                      (keyup.enter)="inputPage(page.value)">\n                  {{ \'ADF_VIEWER.PAGE_LABEL.OF\' | translate }} {{ totalPages }}\n              </div>\n\n              <adf-toolbar-divider></adf-toolbar-divider>\n\n              <button\n                  id="viewer-zoom-in-button"\n                  attr.aria-label="{{ \'ADF_VIEWER.ARIA.ZOOM_IN\' | translate }}"\n                  mat-icon-button\n                  (click)="zoomIn()">\n                  <mat-icon>zoom_in</mat-icon>\n              </button>\n\n              <button\n                  id="viewer-zoom-out-button"\n                  attr.aria-label="{{ \'ADF_VIEWER.ARIA.ZOOM_OUT\' | translate }}"\n                  mat-icon-button\n                  (click)="zoomOut()">\n                  <mat-icon>zoom_out</mat-icon>\n              </button>\n\n              <button\n                  id="viewer-scale-page-button"\n                  attr.aria-label="{{ \'ADF_VIEWER.ARIA.FIT_PAGE\' | translate }}"\n                  mat-icon-button\n                  (click)="pageFit()">\n                  <mat-icon>zoom_out_map</mat-icon>\n              </button>\n\n          </adf-toolbar>\n      </div>\n    ',styles:["\n      .adf-pdf-viewer .loader-container {\n        display: -webkit-box;\n        /* OLD - iOS 6-, Safari 3.1-6 */\n        /* OLD - Firefox 19- (buggy but mostly works) */\n        /* NEW - Chrome */\n        display: -ms-flexbox;\n        display: flex;\n        /* NEW, Spec - Opera 12.1, Firefox 20+ */\n        -webkit-box-flex-direction: row;\n        -moz-box-flex-direction: row;\n        -webkit-box-orient: horizontal;\n        -webkit-box-direction: normal;\n            -ms-flex-direction: row;\n                flex-direction: row;\n        height: 100%; }\n\n      .adf-pdf-viewer .loader-item {\n        margin: auto;\n        max-height: 100px;\n        max-width: 300px; }\n\n      .adf-pdf-viewer__toolbar {\n        position: absolute;\n        bottom: 0;\n        left: 50%;\n        -webkit-transform: translateX(-50%);\n                transform: translateX(-50%); }\n        .adf-pdf-viewer__toolbar-page-selector {\n          font-size: 16px;\n          padding: 4px 0;\n          text-align: right;\n          width: 33px;\n          margin-right: 4px;\n          height: 20px;\n          outline-width: 1px;\n          outline-color: gray; }\n      .adf-pdf-viewer .textLayer {\n        position: absolute;\n        left: 0;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        overflow: hidden;\n        opacity: 0.2;\n        line-height: 1.0;\n        border: 1px solid gray; }\n        .adf-pdf-viewer .textLayer > div {\n          color: transparent;\n          position: absolute;\n          white-space: pre;\n          cursor: text;\n          -webkit-transform-origin: 0% 0%;\n          transform-origin: 0% 0%; }\n        .adf-pdf-viewer .textLayer .highlight {\n          margin: -1px;\n          padding: 1px;\n          background-color: #b400aa;\n          border-radius: 4px; }\n          .adf-pdf-viewer .textLayer .highlight.begin {\n            border-radius: 4px 0px 0px 4px; }\n          .adf-pdf-viewer .textLayer .highlight.end {\n            border-radius: 0px 4px 4px 0px; }\n          .adf-pdf-viewer .textLayer .highlight.middle {\n            border-radius: 0px; }\n          .adf-pdf-viewer .textLayer .highlight.selected {\n            background-color: darkgreen; }\n        .adf-pdf-viewer .textLayer::-moz-selection {\n          background: blue; }\n        .adf-pdf-viewer .textLayer::selection {\n          background: blue; }\n        .adf-pdf-viewer .textLayer::-moz-selection {\n          background: blue; }\n        .adf-pdf-viewer .textLayer .endOfContent {\n          display: block;\n          position: absolute;\n          left: 0px;\n          top: 100%;\n          right: 0px;\n          bottom: 0px;\n          z-index: -1;\n          cursor: default;\n          user-select: none;\n          -webkit-user-select: none;\n          -ms-user-select: none;\n          -moz-user-select: none; }\n          .adf-pdf-viewer .textLayer .endOfContent.active {\n            top: 0px; }\n\n      .adf-pdf-viewer .annotationLayer section {\n        position: absolute; }\n\n      .adf-pdf-viewer .annotationLayer .linkAnnotation > a {\n        position: absolute;\n        font-size: 1em;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: url(\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\") 0 0 repeat; }\n        .adf-pdf-viewer .annotationLayer .linkAnnotation > a:hover {\n          opacity: 0.2;\n          background: #ff0;\n          -webkit-box-shadow: 0px 2px 10px #ff0;\n                  box-shadow: 0px 2px 10px #ff0; }\n\n      .adf-pdf-viewer .annotationLayer .textAnnotation img {\n        position: absolute;\n        cursor: pointer; }\n\n      .adf-pdf-viewer .annotationLayer .popupWrapper {\n        position: absolute;\n        width: 20em; }\n\n      .adf-pdf-viewer .annotationLayer .popup {\n        position: absolute;\n        z-index: 200;\n        max-width: 20em;\n        background-color: #FFFF99;\n        -webkit-box-shadow: 0px 2px 5px #333;\n                box-shadow: 0px 2px 5px #333;\n        border-radius: 2px;\n        padding: 0.6em;\n        margin-left: 5px;\n        cursor: pointer;\n        word-wrap: break-word; }\n        .adf-pdf-viewer .annotationLayer .popup h1 {\n          font-size: 1em;\n          border-bottom: 1px solid #000000;\n          padding-bottom: 0.2em; }\n        .adf-pdf-viewer .annotationLayer .popup p {\n          padding-top: 0.2em; }\n\n      .adf-pdf-viewer .annotationLayer .highlightAnnotation,\n      .adf-pdf-viewer .annotationLayer .underlineAnnotation,\n      .adf-pdf-viewer .annotationLayer .squigglyAnnotation,\n      .adf-pdf-viewer .annotationLayer .strikeoutAnnotation,\n      .adf-pdf-viewer .annotationLayer .fileAttachmentAnnotation {\n        cursor: pointer; }\n\n      .adf-pdf-viewer .pdfViewer canvasWrapper {\n        overflow: hidden; }\n\n      .adf-pdf-viewer .pdfViewer .page {\n        direction: ltr;\n        width: 816px;\n        height: 1056px;\n        margin: 1px auto -8px auto;\n        position: relative;\n        overflow: visible;\n        border: 9px solid transparent;\n        background-clip: content-box;\n        background-color: white; }\n        .adf-pdf-viewer .pdfViewer .page canvas {\n          margin: 0;\n          display: block; }\n        .adf-pdf-viewer .pdfViewer .page .loadingIcon {\n          position: absolute;\n          display: block;\n          left: 0;\n          top: 0;\n          right: 0;\n          bottom: 0; }\n\n      .adf-pdf-viewer .pdfViewer.removePageBorders .page {\n        margin: 0px auto 10px auto;\n        border: none; }\n\n      .adf-pdf-viewer .pdfViewer .loadingIcon {\n        width: 100px;\n        height: 100px;\n        left: 50% !important;\n        top: 50% !important;\n        margin-top: -50px;\n        margin-left: -50px;\n        font-size: 5px;\n        text-indent: -9999em;\n        border-top: 1.1em solid rgba(3, 0, 2, 0.2);\n        border-right: 1.1em solid rgba(3, 0, 2, 0.2);\n        border-bottom: 1.1em solid rgba(3, 0, 2, 0.2);\n        border-left: 1.1em solid #030002;\n        -webkit-transform: translateZ(0);\n        transform: translateZ(0);\n        -webkit-animation: load8 1.1s infinite linear;\n        animation: load8 1.1s infinite linear;\n        border-radius: 50%; }\n        .adf-pdf-viewer .pdfViewer .loadingIcon:after {\n          border-radius: 50%; }\n\n      .adf-pdf-viewer * {\n        padding: 0;\n        margin: 0; }\n\n      .adf-pdf-viewer .hidden, .adf-pdf-viewer [hidden] {\n        display: none !important; }\n\n      @-webkit-keyframes load8 {\n        0% {\n          -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n        100% {\n          -webkit-transform: rotate(360deg);\n          transform: rotate(360deg); } }\n\n      @keyframes load8 {\n        0% {\n          -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n        100% {\n          -webkit-transform: rotate(360deg);\n          transform: rotate(360deg); } }\n\n      .viewer-pdf-container {\n        overflow: auto;\n        -webkit-overflow-scrolling: touch;\n        position: absolute;\n        top: 0;\n        right: 0;\n        bottom: 0;\n        left: 0;\n        outline: none; }\n\n      html[dir='ltr'] .viewer-pdf-container {\n        -webkit-box-shadow: inset 1px 0 0 rgba(255, 255, 255, 0.05);\n                box-shadow: inset 1px 0 0 rgba(255, 255, 255, 0.05); }\n\n      html[dir='rtl'] .viewer-pdf-container {\n        -webkit-box-shadow: inset -1px 0 0 rgba(255, 255, 255, 0.05);\n                box-shadow: inset -1px 0 0 rgba(255, 255, 255, 0.05); }\n    "],providers:[In],host:{"class":"adf-pdf-viewer"},encapsulation:i.ViewEncapsulation.None}]}],En.ctorParameters=function(){return[{type:In},{type:je}]},En.propDecorators={urlFile:[{type:i.Input}],blobFile:[{type:i.Input}],nameFile:[{type:i.Input}],showToolbar:[{type:i.Input}],allowThumbnails:[{type:i.Input}],handleKeyboardEvent:[{type:i.HostListener,args:["document:keydown",["$event"]]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Sn=function(){function e(e){this.http=e}return e.prototype.ngOnChanges=function(e){var t=e.blobFile;if(t&&t.currentValue)return this.readBlob(t.currentValue);var n=e.urlFile;if(n&&n.currentValue)return this.getUrlContent(n.currentValue);if(!this.urlFile&&!this.blobFile)throw new Error("Attribute urlFile or blobFile is required")},e.prototype.getUrlContent=function(e){var t=this;return new Promise(function(n,i){t.http.get(e,{responseType:"text"}).subscribe(function(e){t.content=e,n()},function(e){i(e)})})},e.prototype.readBlob=function(e){var t=this;return new Promise(function(n,i){var r=new FileReader;r.onload=function(){t.content=r.result,n()},r.onerror=function(e){i(e)},r.readAsText(e)})},e}();Sn.decorators=[{type:i.Component,args:[{selector:"adf-txt-viewer",template:'\n      <pre class="adf-txt-viewer-content">\n          {{content}}\n      </pre>\n    ',styles:["\n      .adf-txt-viewer {\n        background-color: white;\n        width: 100vw;\n        overflow: hidden;\n        overflow-y: scroll;\n        margin-bottom: 42px; }\n    "],host:{"class":"adf-txt-viewer"},encapsulation:i.ViewEncapsulation.None}]}],Sn.ctorParameters=function(){return[{type:n.HttpClient}]},Sn.propDecorators={urlFile:[{type:i.Input}],blobFile:[{type:i.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Cn=function(){return function(){}}();Cn.decorators=[{type:i.Component,args:[{selector:"adf-viewer-unknown-format",template:'\n      <div class="adf-viewer__unknown-format-view">\n          <div>\n              <mat-icon class="icon">wifi_tethering</mat-icon>\n              <div class="label">{{ \'ADF_VIEWER.UNKNOWN_FORMAT\' | translate }}</div>\n          </div>\n      </div>\n    ',styles:["\n      .adf-viewer__unknown-format-view {\n        height: 90vh;\n        text-align: center;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        -webkit-box-flex: 1;\n            -ms-flex: 1;\n                flex: 1;\n        -webkit-box-orient: vertical;\n        -webkit-box-direction: normal;\n            -ms-flex-direction: column;\n                flex-direction: column;\n        -webkit-box-pack: center;\n            -ms-flex-pack: center;\n                justify-content: center; }\n    "]}]}],Cn.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Tn=function(){return function(){}}();Tn.decorators=[{type:i.Component,args:[{selector:"adf-viewer-more-actions",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush,host:{"class":"adf-viewer-more-actions"},template:"<ng-content></ng-content>"}]}],Tn.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xn=function(){return function(){}}();xn.decorators=[{type:i.Component,args:[{selector:"adf-viewer-open-with",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush,host:{"class":"adf-viewer-open-with"},template:"<ng-content></ng-content>"}]}],xn.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var On=function(){return function(){}}();On.decorators=[{type:i.Component,args:[{selector:"adf-viewer-sidebar",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush,host:{"class":"adf-viewer-sidebar"},template:"<ng-content></ng-content>"}]}],On.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Pn=function(){return function(){}}();Pn.decorators=[{type:i.Component,args:[{selector:"adf-viewer-toolbar",encapsulation:i.ViewEncapsulation.None,changeDetection:i.ChangeDetectionStrategy.OnPush,host:{"class":"adf-viewer-toolbar"},template:"<ng-content></ng-content>"}]}],Pn.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Fn=function(){function e(e){this.apiService=e}return e.prototype.isRenditionAvailable=function(e,t){var n=this;return x.Observable.create(function(i){n.getRendition(e,t).subscribe(function(e){var t=!0;"NOT_CREATED"===e.entry.status.toString()&&(t=!1),i.next(t),i.complete()},function(){i.next(!1),i.complete()})})},e.prototype.isConversionPossible=function(e,t){var n=this;return x.Observable.create(function(i){n.getRendition(e,t).subscribe(function(){i.next(!0),i.complete()},function(){i.next(!1),i.complete()})})},e.prototype.getRenditionUrl=function(e,t){return this.apiService.contentApi.getRenditionUrl(e,"pdf")},e.prototype.getRendition=function(e,t){return x.Observable.fromPromise(this.apiService.renditionsApi.getRendition(e,t))},e.prototype.getRenditionsListByNodeId=function(e){return x.Observable.fromPromise(this.apiService.renditionsApi.getRenditions(e))},e.prototype.createRendition=function(e,t){return x.Observable.fromPromise(this.apiService.renditionsApi.createRendition(e,{id:t}))},e.prototype.convert=function(e,t,n){var i=this;return void 0===n&&(n=1e3),this.createRendition(e,t).concatMap(function(){return i.pollRendition(e,t,n)})},e.prototype.pollRendition=function(e,t,n){var i=this;return void 0===n&&(n=1e3),x.Observable.interval(n).switchMap(function(){return i.getRendition(e,t)}).takeWhile(function(e){return"CREATED"!==e.entry.status.toString()})},e}();Fn.decorators=[{type:i.Injectable}],Fn.ctorParameters=function(){return[{type:re}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var kn=function(){function e(e,t,n,r){this.apiService=e,this.logService=t,this.location=n,this.renditionService=r,this.urlFile="",this.fileNodeId=null,this.overlayMode=!1,this.showViewer=!0,this.showToolbar=!0,this.allowGoBack=!0,this.allowDownload=!0,this.allowPrint=!1,this.allowShare=!1,this.allowSidebar=!1,this.showSidebar=!1,this.sidebarPosition="right",this.sidebarTemplate=null,this.goBack=new i.EventEmitter,this.download=new i.EventEmitter,this.print=new i.EventEmitter,this.share=new i.EventEmitter,this.showViewerChange=new i.EventEmitter,this.extensionChange=new i.EventEmitter,this.viewerType="unknown",this.downloadUrl=null,this.fileName="document",this.isLoading=!1,this.extensionTemplates=[],this.externalExtensions=[],this.sidebarTemplateContext={node:null},this.extensions={image:["png","jpg","jpeg","gif","bpm"],media:["wav","mp4","mp3","webm","ogg"],text:["txt","xml","js","html","json"],pdf:["pdf"]},this.mimeTypes=[{mimeType:"application/x-javascript",type:"text"},{mimeType:"application/pdf",type:"pdf"}]}return e.prototype.ngOnChanges=function(e){var t=this;if(this.showViewer){if(!this.urlFile&&!this.blobFile&&!this.fileNodeId)throw new Error("Attribute urlFile or fileNodeId or blobFile is required");return new Promise(function(e,n){if(t.blobFile)t.displayName=t.getDisplayName("Unknown"),t.isLoading=!0,t.mimeType=t.blobFile.type,t.viewerType=t.getViewerTypeByMimeType(t.mimeType),t.allowDownload=!1,t.extensionChange.emit(t.mimeType),t.isLoading=!1,t.scrollTop(),e();else if(t.urlFile){t.isLoading=!0;var i=t.getFilenameFromUrl(t.urlFile);t.displayName=t.getDisplayName(i),t.extension=t.getFileExtension(i),t.urlFileContent=t.urlFile,t.downloadUrl=t.urlFile,t.fileName=t.displayName,t.viewerType=t.getViewerTypeByExtension(t.extension),"unknown"===t.viewerType&&(t.viewerType=t.getViewerTypeByMimeType(t.mimeType)),t.extensionChange.emit(t.extension),t.isLoading=!1,t.scrollTop(),e()}else t.fileNodeId&&(t.isLoading=!0,t.apiService.getInstance().nodes.getNodeInfo(t.fileNodeId).then(function(n){t.mimeType=n.content.mimeType,t.displayName=t.getDisplayName(n.name),t.urlFileContent=t.apiService.getInstance().content.getContentUrl(n.id),t.extension=t.getFileExtension(n.name),t.fileName=n.name,t.downloadUrl=t.apiService.getInstance().content.getContentUrl(n.id,!0),t.viewerType=t.getViewerTypeByExtension(t.extension),"unknown"===t.viewerType&&(t.viewerType=t.getViewerTypeByMimeType(t.mimeType)),"unknown"===t.viewerType?t.displayAsPdf(n.id):t.isLoading=!1,t.extensionChange.emit(t.extension),t.sidebarTemplateContext.node=n,t.scrollTop(),e()},function(e){t.isLoading=!1,n(e),t.logService.error("This node does not exist")}))})}},e.prototype.getDisplayName=function(e){return this.displayName||e},e.prototype.scrollTop=function(){window.scrollTo(0,1)},e.prototype.getViewerTypeByMimeType=function(e){if(e){if((e=e.toLowerCase()).startsWith("image/"))return"image";if(e.startsWith("text/"))return"text";if(e.startsWith("video/"))return"media";if(e.startsWith("audio/"))return"media";var t=this.mimeTypes.find(function(t){return t.mimeType===e});if(t)return t.type}return"unknown"},e.prototype.getViewerTypeByExtension=function(e){return e&&(e=e.toLowerCase()),this.isCustomViewerExtension(e)?"custom":this.extensions.image.indexOf(e)>=0?"image":this.extensions.media.indexOf(e)>=0?"media":this.extensions.text.indexOf(e)>=0?"text":this.extensions.pdf.indexOf(e)>=0?"pdf":"unknown"},e.prototype.onBackButtonClick=function(){if(this.overlayMode)this.close();else{var e=new ct;this.goBack.next(e),e.defaultPrevented||this.location.back()}},e.prototype.close=function(){this.otherMenu&&(this.otherMenu.hidden=!1),this.showViewer=!1,this.showViewerChange.emit(this.showViewer)},e.prototype.getFilenameFromUrl=function(e){var t=e.indexOf("#"),n=e.indexOf("?"),i=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",i)+1,i)},e.prototype.getFileExtension=function(e){return e.split(".").pop().toLowerCase()},e.prototype.isCustomViewerExtension=function(e){var t=this.externalExtensions||[];return!!(e&&t.length>0)&&(e=e.toLowerCase(),t.indexOf(e)>=0)},e.prototype.handleKeyboardEvent=function(e){27===e.keyCode&&this.overlayMode&&this.close()},e.prototype.downloadContent=function(){if(this.allowDownload&&this.downloadUrl&&this.fileName){var e=new ct;if(this.download.next(e),!e.defaultPrevented){var t=document.createElement("a");t.style.display="none",t.download=this.fileName,t.href=this.downloadUrl,document.body.appendChild(t),t.click(),document.body.removeChild(t)}}},e.prototype.printContent=function(){if(this.allowPrint){var e=new ct;this.print.next(e)}},e.prototype.shareContent=function(){if(this.allowShare){var e=new ct;this.share.next(e)}},e.prototype.displayAsPdf=function(e){var t=this;this.isLoading=!0,this.renditionService.getRendition(e,"pdf").subscribe(function(n){var i=n.entry.status.toString();"CREATED"===i?(t.isLoading=!1,t.showPdfRendition(e)):"NOT_CREATED"===i?t.renditionService.convert(e,"pdf").subscribe({complete:function(){t.isLoading=!1,t.showPdfRendition(e)},error:function(e){t.isLoading=!1}}):t.isLoading=!1},function(e){t.isLoading=!1})},e.prototype.showPdfRendition=function(e){e&&(this.viewerType="pdf",this.urlFileContent=this.renditionService.getRenditionUrl(e,"pdf"))},e}();kn.decorators=[{type:i.Component,args:[{selector:"adf-viewer",template:'\n      <div *ngIf="showViewer"\n          class="adf-viewer-container"\n          [class.adf-viewer-overlay-container]="overlayMode"\n          [class.adf-viewer-inline-container]="!overlayMode">\n\n          <div class="adf-viewer-content" fxLayout="column">\n              <ng-content select="adf-viewer-toolbar"></ng-content>\n              <ng-container *ngIf="showToolbar && !toolbar">\n                  <adf-toolbar color="default" class="adf-viewer-toolbar">\n\n                      <adf-toolbar-title>\n                          <button *ngIf="allowGoBack"\n                              class="adf-viewer-close-button"\n                              data-automation-id="toolbar-back"\n                              mat-icon-button\n                              matTooltip="{{ \'ADF_VIEWER.ACTIONS.BACK\' | translate }}"\n                              (click)="onBackButtonClick()">\n                              <mat-icon>arrow_back</mat-icon>\n                          </button>\n                          <img class="adf-viewer__mimeicon" [src]="mimeType | adfMimeTypeIcon">\n                          <span id="adf-viewer-display-name">{{ displayName }}</span>\n                      </adf-toolbar-title>\n\n                      <ng-container *ngIf="mnuOpenWith">\n                          <button\n                              mat-button\n                              [matMenuTriggerFor]="mnuOpenWith"\n                              data-automation-id="toolbar-open-with">\n                              <span>{{ \'ADF_VIEWER.ACTIONS.OPEN_WITH\' | translate }}</span>\n                              <mat-icon>arrow_drop_down</mat-icon>\n                          </button>\n                          <mat-menu #mnuOpenWith="matMenu" [overlapTrigger]="false">\n                              <ng-content select="adf-viewer-open-with"></ng-content>\n                          </mat-menu>\n                      </ng-container>\n\n                      <adf-toolbar-divider></adf-toolbar-divider>\n\n                      <button\n                          *ngIf="allowDownload"\n                          mat-icon-button\n                          matTooltip="{{ \'ADF_VIEWER.ACTIONS.DOWNLOAD\' | translate }}"\n                          data-automation-id="toolbar-download"\n                          (click)="downloadContent()">\n                          <mat-icon>file_download</mat-icon>\n                      </button>\n\n                      <button\n                          *ngIf="allowPrint"\n                          mat-icon-button\n                          matTooltip="{{ \'ADF_VIEWER.ACTIONS.PRINT\' | translate }}"\n                          data-automation-id="toolbar-print"\n                          (click)="printContent()">\n                          <mat-icon>print</mat-icon>\n                      </button>\n\n                      <button\n                          *ngIf="allowShare"\n                          mat-icon-button\n                          matTooltip="{{ \'ADF_VIEWER.ACTIONS.SHARE\' | translate }}"\n                          data-automation-id="toolbar-share"\n                          (click)="shareContent()">\n                          <mat-icon>share</mat-icon>\n                      </button>\n\n                      <ng-container *ngIf="mnuMoreActions">\n                          <button\n                              mat-icon-button\n                              [matMenuTriggerFor]="mnuMoreActions"\n                              matTooltip="{{ \'ADF_VIEWER.ACTIONS.MORE_ACTIONS\' | translate }}"\n                              data-automation-id="toolbar-more-actions">\n                              <mat-icon>more_vert</mat-icon>\n                          </button>\n                          <mat-menu #mnuMoreActions="matMenu" [overlapTrigger]="false">\n                              <ng-content select="adf-viewer-more-actions"></ng-content>\n                          </mat-menu>\n                      </ng-container>\n\n                      <ng-container *ngIf="allowSidebar">\n                          <adf-toolbar-divider></adf-toolbar-divider>\n\n                          <button\n                              mat-icon-button\n                              matTooltip="{{ \'ADF_VIEWER.ACTIONS.INFO\' | translate }}"\n                              data-automation-id="toolbar-sidebar"\n                              [color]="showSidebar ? \'accent\' : \'default\'"\n                              (click)="showSidebar = !showSidebar">\n                              <mat-icon>info_outline</mat-icon>\n                          </button>\n                      </ng-container>\n\n                  </adf-toolbar>\n              </ng-container>\n\n              <ng-container *ngIf="isLoading">\n                  <div class="adf-viewer__loading-screen" fxFlex="1 1 auto">\n                      <h2>{{ \'ADF_VIEWER.LOADING\' | translate }}</h2>\n                      <div>\n                          <mat-spinner></mat-spinner>\n                      </div>\n                  </div>\n              </ng-container>\n\n              <div *ngIf="!isLoading" fxLayout="row" fxFlex="1 1 auto">\n\n                  <ng-container *ngIf="showSidebar">\n                      <div class="adf-viewer__sidebar" fxFlexOrder="{{sidebarPosition === \'left\'? 1: 2 }}">\n                          <ng-container *ngIf="sidebarTemplate">\n                              <ng-container *ngTemplateOutlet="sidebarTemplate;context:sidebarTemplateContext"></ng-container>\n                          </ng-container>\n                          <ng-content *ngIf="!sidebarTemplate" select="adf-viewer-sidebar"></ng-content>\n                      </div>\n                  </ng-container>\n\n                  <div fxFlexOrder="{{sidebarPosition !== \'left\'? 1: 2}}" fxFlex="1 1 auto">\n                      <div class="adf-viewer-layout-content">\n                          <div class="adf-viewer-content-container" [ngSwitch]="viewerType">\n\n                              <ng-container *ngSwitchCase="\'pdf\'">\n                                  <adf-pdf-viewer [blobFile]="blobFile" [urlFile]="urlFileContent" [nameFile]="displayName"></adf-pdf-viewer>\n                              </ng-container>\n\n                              <ng-container *ngSwitchCase="\'image\'">\n                                  <adf-img-viewer [urlFile]="urlFileContent" [nameFile]="displayName" [blobFile]="blobFile"></adf-img-viewer>\n                              </ng-container>\n\n                              <ng-container *ngSwitchCase="\'media\'">\n                                  <adf-media-player [urlFile]="urlFileContent" [mimeType]="mimeType" [blobFile]="blobFile" [nameFile]="displayName"></adf-media-player>\n                              </ng-container>\n\n                              <ng-container *ngSwitchCase="\'text\'">\n                                  <adf-txt-viewer [urlFile]="urlFileContent" [blobFile]="blobFile"></adf-txt-viewer>\n                              </ng-container>\n\n                              <ng-container *ngSwitchCase="\'custom\'">\n                                  <span *ngFor="let extensionTemplate of extensionTemplates">\n                                      <ng-template *ngIf="extensionTemplate.isVisible" [ngTemplateOutlet]="extensionTemplate.template" [ngTemplateOutletContext]="{ urlFileContent: urlFileContent, extension:extension }">\n                                      </ng-template>\n                                  </span>\n                              </ng-container>\n\n                              <ng-container *ngSwitchDefault>\n                                  <adf-viewer-unknown-format></adf-viewer-unknown-format>\n                              </ng-container>\n\n                          </div>\n                      </div>\n                  </div>\n              </div>\n          </div>\n      </div>\n    ',styles:["\n\n    "],host:{"class":"adf-viewer"},encapsulation:i.ViewEncapsulation.None}]}],kn.ctorParameters=function(){return[{type:re},{type:je},{type:t.Location},{type:Fn}]},kn.propDecorators={toolbar:[{type:i.ContentChild,args:[Pn]}],sidebar:[{type:i.ContentChild,args:[On]}],mnuOpenWith:[{type:i.ContentChild,args:[xn]}],mnuMoreActions:[{type:i.ContentChild,args:[Tn]}],urlFile:[{type:i.Input}],blobFile:[{type:i.Input}],fileNodeId:[{type:i.Input}],overlayMode:[{type:i.Input}],showViewer:[{type:i.Input}],showToolbar:[{type:i.Input}],displayName:[{type:i.Input}],allowGoBack:[{type:i.Input}],allowDownload:[{type:i.Input}],allowPrint:[{type:i.Input}],allowShare:[{type:i.Input}],allowSidebar:[{type:i.Input}],showSidebar:[{type:i.Input}],sidebarPosition:[{type:i.Input}],sidebarTemplate:[{type:i.Input}],goBack:[{type:i.Output}],download:[{type:i.Output}],print:[{type:i.Output}],share:[{type:i.Output}],showViewerChange:[{type:i.Output}],extensionChange:[{type:i.Output}],handleKeyboardEvent:[{type:i.HostListener,args:["document:keydown",["$event"]]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Rn=function(){function e(e){this.viewerComponent=e}return e.prototype.ngAfterContentInit=function(){var e=this;this.templateModel={template:this.template,isVisible:!1},this.viewerComponent.extensionTemplates.push(this.templateModel),this.viewerComponent.extensionChange.subscribe(function(t){e.templateModel.isVisible=e.isVisible(t)}),this.supportedExtensions instanceof Array&&this.supportedExtensions.forEach(function(t){e.viewerComponent.externalExtensions.push(t)})},e.prototype.isVisible=function(e){var t;return this.supportedExtensions&&this.supportedExtensions instanceof Array&&(t=this.supportedExtensions.find(function(t){return t.toLowerCase()===e})),!!t},e}();Rn.decorators=[{type:i.Directive,args:[{selector:"adf-viewer-extension"}]}],Rn.ctorParameters=function(){return[{type:kn}]},Rn.propDecorators={template:[{type:i.ContentChild,args:[i.TemplateRef]}],urlFileContent:[{type:i.Input}],extension:[{type:i.Input}],supportedExtensions:[{type:i.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var An=function(){return function(){}}();An.decorators=[{type:i.NgModule,args:[{imports:[t.CommonModule,le,a.TranslateModule,dn,Je,v.FlexLayoutModule],declarations:[kn,bn,Sn,wn,En,Rn,Cn,Pn,On,xn,Tn],exports:[kn,bn,Sn,wn,En,Rn,Cn,Pn,On,xn,Tn]}]}],An.ctorParameters=function(){return[]};var Dn=function(){function e(e,t,n,i,r){this.reusable=!1,this.newVersion=!1,this.formImageBase64="",this.formRepresentation={id:e,name:t,description:"",version:1,lastUpdatedBy:1,lastUpdatedByFullName:n,lastUpdated:i,stencilSetId:0,referenceId:null,formDefinition:{fields:[{name:"Label",type:"container",fieldType:"ContainerRepresentation",numberOfColumns:2,required:!1,readOnly:!1,sizeX:2,sizeY:1,row:-1,col:-1,fields:{1:this.metadataToFields(r)}}],gridsterForm:!1,javascriptEvents:[],metadata:{},outcomes:[],className:"",style:"",tabs:[],variables:[]}}}return e.prototype.metadataToFields=function(e){var t=[];return e&&e.forEach(function(e){if(e){var n={type:"text",id:e.name,name:e.name,required:!1,readOnly:!1,sizeX:1,sizeY:1,row:-1,col:-1,colspan:1,params:{existingColspan:1,maxColspan:2},layout:{colspan:1,row:-1,column:-1}};t.push(n)}}),t},e}(),_n=function(){function e(){}return e.isReadOnlyType=function(t){return e.READONLY_TYPES.indexOf(t)>-1},e.isContainerType=function(t){return t===e.CONTAINER||t===e.GROUP},e}();_n.CONTAINER="container",_n.GROUP="group",_n.DYNAMIC_TABLE="dynamic-table",_n.TEXT="text",_n.MULTILINE_TEXT="multi-line-text",_n.DROPDOWN="dropdown",_n.HYPERLINK="hyperlink",_n.RADIO_BUTTONS="radio-buttons",_n.DISPLAY_VALUE="readonly",_n.READONLY_TEXT="readonly-text",_n.UPLOAD="upload",_n.TYPEAHEAD="typeahead",_n.FUNCTIONAL_GROUP="functional-group",_n.PEOPLE="people",_n.BOOLEAN="boolean",_n.NUMBER="integer",_n.DATE="date",_n.AMOUNT="amount",_n.DOCUMENT="document",_n.READONLY_TYPES=[_n.HYPERLINK,_n.DISPLAY_VALUE,_n.READONLY_TEXT];/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ln=function(){return function(e,t){this.form=e,this.json=t,t&&(this.fieldType=t.fieldType,this.id=t.id,this.name=t.name,this.type=t.type,this.tab=t.tab)}}(),Vn=function(){function e(){this.size=12,this.fields=[],this.colspan=1,this.rowspan=1}return e.prototype.hasFields=function(){return this.fields&&this.fields.length>0},e}(),Mn=function(){function e(e){this.message="",this.attributes=null,this.message=e&&e.message?e.message:"",this.attributes=new Map}return e.prototype.isActive=function(){return!!this.message},e.prototype.getAttributesAsJsonObj=function(){var e={};if(this.attributes.size>0){var t=Object.create(null);this.attributes.forEach(function(e,n){t[n]=e}),e=JSON.stringify(t)}return e},e}(),Nn=function(){function e(){this.supportedTypes=[_n.TEXT,_n.MULTILINE_TEXT,_n.NUMBER,_n.TYPEAHEAD,_n.DROPDOWN,_n.PEOPLE,_n.FUNCTIONAL_GROUP,_n.RADIO_BUTTONS,_n.UPLOAD,_n.AMOUNT,_n.DYNAMIC_TABLE,_n.DATE]}return e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1&&e.required},e.prototype.validate=function(e){if(this.isSupported(e)){if(e.type===_n.DROPDOWN&&e.hasEmptyValue&&e.emptyOption&&e.value===e.emptyOption.id)return!1;if(e.type===_n.RADIO_BUTTONS){return!!e.options.find(function(t){return t.id===e.value})}if(e.type===_n.UPLOAD)return e.value&&e.value.length>0;if(e.type===_n.DYNAMIC_TABLE)return e.value&&e.value instanceof Array&&e.value.length>0;if(null===e.value||e.value===undefined||""===e.value)return!1}return!0},e}(),Un=function(){function e(){this.supportedTypes=[_n.NUMBER,_n.AMOUNT]}return e.isNumber=function(e){return null!==e&&e!==undefined&&""!==e&&!isNaN(+e)},e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1},e.prototype.validate=function(e){if(this.isSupported(e)){if(null===e.value||e.value===undefined||""===e.value)return!0;var t=""+e.value,n=new RegExp(/^-?\d+$/);return e.enableFractions&&(n=new RegExp(/^-?[0-9]+(\.[0-9]{1,2})?$/)),t.match(n)?!0:(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_NUMBER",!1)}return!0},e}(),jn=function(){function e(){this.supportedTypes=[_n.DATE]}return e.isValidDate=function(e,t){if(void 0===t&&(t="D-M-YYYY"),e){return b(e,t,!0).isValid()}return!1},e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1},e.prototype.validate=function(t){return!this.isSupported(t)||!t.value||(!!e.isValidDate(t.value,t.dateDisplayFormat)||(t.validationSummary.message=t.dateDisplayFormat,!1))},e}(),Bn=function(){function e(){this.MIN_DATE_FORMAT="DD-MM-YYYY",this.supportedTypes=[_n.DATE]}return e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1&&!!e.minValue},e.prototype.validate=function(e){if(this.isSupported(e)&&e.value){var t=e.dateDisplayFormat;if(!jn.isValidDate(e.value,t))return e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_DATE",!1;var n=void 0;n="string"==typeof e.value?b(e.value.split("T")[0],t):e.value;var i=b(e.minValue,this.MIN_DATE_FORMAT);if(n.isBefore(i))return e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_LESS_THAN",e.validationSummary.attributes.set("minValue",e.minValue.toLocaleString()),!1}return!0},e}(),qn=function(){function e(){this.MAX_DATE_FORMAT="DD-MM-YYYY",this.supportedTypes=[_n.DATE]}return e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1&&!!e.maxValue},e.prototype.validate=function(e){if(this.isSupported(e)&&e.value){var t=e.dateDisplayFormat;if(!jn.isValidDate(e.value,t))return e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_DATE",!1;var n=void 0;n="string"==typeof e.value?b(e.value.split("T")[0],t):e.value;var i=b(e.maxValue,this.MAX_DATE_FORMAT);if(n.isAfter(i))return e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_GREATER_THAN",e.validationSummary.attributes.set("maxValue",e.maxValue.toLocaleString()),!1}return!0},e}(),zn=function(){function e(){this.supportedTypes=[_n.TEXT,_n.MULTILINE_TEXT]}return e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1&&e.minLength>0},e.prototype.validate=function(e){return!this.isSupported(e)||!e.value||(e.value.length>=e.minLength||(e.validationSummary.message="FORM.FIELD.VALIDATOR.AT_LEAST_LONG",e.validationSummary.attributes.set("minLength",e.minLength.toLocaleString()),!1))},e}(),Yn=function(){function e(){this.supportedTypes=[_n.TEXT,_n.MULTILINE_TEXT]}return e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1&&e.maxLength>0},e.prototype.validate=function(e){return!this.isSupported(e)||!e.value||(e.value.length<=e.maxLength||(e.validationSummary.message="FORM.FIELD.VALIDATOR.NO_LONGER_THAN",e.validationSummary.attributes.set("maxLength",e.maxLength.toLocaleString()),!1))},e}(),Hn=function(){function e(){this.supportedTypes=[_n.NUMBER,_n.AMOUNT]}return e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1&&Un.isNumber(e.minValue)},e.prototype.validate=function(e){if(this.isSupported(e)&&e.value){return+e.value>=+e.minValue||(e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_LESS_THAN",e.validationSummary.attributes.set("minValue",e.minValue.toLocaleString()),!1)}return!0},e}(),Gn=function(){function e(){this.supportedTypes=[_n.NUMBER,_n.AMOUNT]}return e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1&&Un.isNumber(e.maxValue)},e.prototype.validate=function(e){if(this.isSupported(e)&&e.value){return+e.value<=+e.maxValue||(e.validationSummary.message="FORM.FIELD.VALIDATOR.NOT_GREATER_THAN",e.validationSummary.attributes.set("maxValue",e.maxValue.toLocaleString()),!1)}return!0},e}(),Wn=function(){function e(){this.supportedTypes=[_n.TEXT,_n.MULTILINE_TEXT]}return e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1&&!!e.regexPattern},e.prototype.validate=function(e){return!this.isSupported(e)||!e.value||(!!(e.value.length>0&&e.value.match(new RegExp("^"+e.regexPattern+"$")))||(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_VALUE",!1))},e}(),$n=function(){function e(){this.supportedTypes=[_n.TYPEAHEAD]}return e.prototype.isSupported=function(e){return e&&this.supportedTypes.indexOf(e.type)>-1},e.prototype.hasValidNameOrValidId=function(e){return this.hasValidName(e)||this.hasValidId(e)},e.prototype.hasValidName=function(e){return!!e.options.find(function(t){return t.name&&t.name.toLocaleLowerCase()===e.value.toLocaleLowerCase()})},e.prototype.hasValidId=function(e){return!!e.options[e.value-1]},e.prototype.hasStringValue=function(e){return e.value&&"string"==typeof e.value},e.prototype.hasOptions=function(e){return e.options&&e.options.length>0},e.prototype.validate=function(e){return!(this.isSupported(e)&&this.hasStringValue(e)&&this.hasOptions(e)&&!this.hasValidNameOrValidId(e))||(e.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_VALUE",!1)},e}(),Xn=[new Nn,new Un,new zn,new Yn,new Hn,new Gn,new Wn,new jn,new Bn,new qn,new $n],Kn=function(e){function t(t,n){var i=e.call(this,t,n)||this;if(i._readOnly=!1,i._isValid=!0,i._required=!1,i.defaultDateFormat="D-M-YYYY",i.rowspan=1,i.colspan=1,i.placeholder=null,i.minLength=0,i.maxLength=0,i.options=[],i.params={},i.isVisible=!0,i.visibilityCondition=null,i.enableFractions=!1,i.currency=null,i.dateDisplayFormat=i.dateDisplayFormat||i.defaultDateFormat,i.numberOfColumns=1,i.fields=[],i.columns=[],n){if(i.fieldType=n.fieldType,i.id=n.id,i.name=n.name,i.type=n.type,i._required=n.required,i._readOnly=n.readOnly||"readonly"===n.type,i.overrideId=n.overrideId,i.tab=n.tab,i.restUrl=n.restUrl,i.restResponsePath=n.restResponsePath,i.restIdProperty=n.restIdProperty,i.restLabelProperty=n.restLabelProperty,i.colspan=n.colspan,i.minLength=n.minLength||0,i.maxLength=n.maxLength||0,i.minValue=n.minValue,i.maxValue=n.maxValue,i.regexPattern=n.regexPattern,i.options=n.options||[],i.hasEmptyValue=n.hasEmptyValue,i.className=n.className,i.optionType=n.optionType,i.params=n.params||{},i.hyperlinkUrl=n.hyperlinkUrl,i.displayText=n.displayText,i.visibilityCondition=n.visibilityCondition,i.enableFractions=n.enableFractions,i.currency=n.currency,i.dateDisplayFormat=n.dateDisplayFormat||i.defaultDateFormat,i._value=i.parseValue(n),i.validationSummary=new Mn,n.placeholder&&""!==n.placeholder&&"null"!==n.placeholder&&(i.placeholder=n.placeholder),_n.isReadOnlyType(n.type)&&n.params&&n.params.field)if(t.processVariables){var r=i.getProcessVariableValue(n.params.field,t);r&&(i.value=r)}else if(n.params.field.responseVariable){var o=i.getVariablesValue(n.params.field.name,t);o&&(i.value=o)}_n.isContainerType(n.type)&&i.containerFactory(n,t)}return i.hasEmptyValue&&i.options&&i.options.length>0&&(i.emptyOption=i.options[0]),i.updateForm(),i}return ee(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,this.validate(),this.updateForm()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readOnly",{get:function(){return!(!this.form||!this.form.readOnly)||this._readOnly},set:function(e){this._readOnly=e,this.updateForm()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"required",{get:function(){return this._required},set:function(e){this._required=e,this.updateForm()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isValid",{get:function(){return this._isValid},enumerable:!0,configurable:!0}),t.prototype.markAsInvalid=function(){this._isValid=!1},t.prototype.validate=function(){this.validationSummary=new Mn;for(var e=0,t=this.form.fieldValidators||[];e<t.length;e++){if(!t[e].validate(this))return this._isValid=!1,this._isValid}return this._isValid=!0,this._isValid},t.prototype.isTypeaHeadFieldType=function(e){return"typeahead"===e},t.prototype.getFieldNameWithLabel=function(e){return e+="_LABEL"},t.prototype.getProcessVariableValue=function(e,t){var n=e.name;return this.isTypeaHeadFieldType(e.type)&&(n=this.getFieldNameWithLabel(e.id)),this.findProcessVariableValue(n,t)},t.prototype.getVariablesValue=function(e,t){var n=t.json.variables.find(function(t){return t.name===e});return n?"boolean"===n.type?JSON.parse(n.value):n.value:null},t.prototype.findProcessVariableValue=function(e,t){if(t.processVariables){var n=t.processVariables.find(function(t){return t.name===e});if(n)return"boolean"===n.type?JSON.parse(n.value):n.value}return undefined},t.prototype.containerFactory=function(e,n){var i=this;if(this.numberOfColumns=e.numberOfColumns||1,this.fields=e.fields,this.rowspan=1,this.colspan=1,e.fields)for(var r in e.fields)if(e.fields.hasOwnProperty(r)){var o=new Vn,a=(e.fields[r]||[]).map(function(e){return new t(n,e)});o.fields=a,o.rowspan=e.fields[r].length,o.fields.forEach(function(e){i.colspan=e.colspan>i.colspan?e.colspan:i.colspan}),this.rowspan=this.rowspan<o.rowspan?o.rowspan:this.rowspan,this.columns.push(o)}},t.prototype.parseValue=function(e){var t=e.value;if(e.type===_n.DROPDOWN&&e.hasEmptyValue&&e.options){if((e.options||[]).length>0){var n=e.options[0];""!==t&&t!==n.id&&t!==n.name||(t=n.id)}}if(e.type===_n.RADIO_BUTTONS){var i=this.options.filter(function(e){return e.id===t||e.name===t});i.length>0&&(t=i[0].id)}if(this.isDateField(e)&&t){var r=void 0;(r=Un.isNumber(t)?b(t):b(t.split("T")[0],"YYYY-M-D"))&&r.isValid()&&(t=r.format(this.dateDisplayFormat))}return t},t.prototype.updateForm=function(){var e=this;if(this.form){switch(this.type){case _n.DROPDOWN:if("empty"===this.value||""===this.value)this.form.values[this.id]={};else{var t=this.options.filter(function(t){return t.id===e.value});t.length>0&&(this.form.values[this.id]=t[0])}break;case _n.RADIO_BUTTONS:var n=this.options.filter(function(t){return t.id===e.value});n.length>0&&(this.form.values[this.id]=n[0]);break;case _n.UPLOAD:this.value&&this.value.length>0?this.form.values[this.id]=this.value.map(function(e){return e.id}).join(","):this.form.values[this.id]=null;break;case _n.TYPEAHEAD:var i=this.options.filter(function(t){return t.id===e.value});i.length>0?this.form.values[this.id]=i[0]:this.options.length>0&&(this.form.values[this.id]=null);break;case _n.DATE:var r=b(this.value,this.dateDisplayFormat,!0);r&&r.isValid()?this.form.values[this.id]=r.format("YYYY-MM-DD")+"T00:00:00.000Z":(this.form.values[this.id]=null,this._value=this.value);break;case _n.NUMBER:this.form.values[this.id]=parseInt(this.value,10);break;case _n.AMOUNT:this.form.values[this.id]=this.enableFractions?parseFloat(this.value):parseInt(this.value,10);break;default:_n.isReadOnlyType(this.type)||this.isInvalidFieldType(this.type)||(this.form.values[this.id]=this.value)}this.form.onFormFieldChanged(this)}},t.prototype.isInvalidFieldType=function(e){return"container"===e},t.prototype.getOptionName=function(){var e=this,t=this.options.find(function(t){return t.id===e.value});return t?t.name:null},t.prototype.hasOptions=function(){return this.options&&this.options.length>0},t.prototype.isDateField=function(e){return e.params&&e.params.field&&e.params.field.type===_n.DATE||e.type===_n.DATE},t}(Ln),Jn=function(){function e(e){this.isDefaultPrevented=!1,this.form=e}return Object.defineProperty(e.prototype,"defaultPrevented",{get:function(){return this.isDefaultPrevented},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){this.isDefaultPrevented=!0},e}(),Qn=function(e){function t(t,n){var i=e.call(this,t)||this;return i.error=n,i}return ee(t,e),t}(Jn),Zn=function(e){function t(t,n){var i=e.call(this,t)||this;return i.field=n,i}return ee(t,e),t}(Jn),ei=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.isValid=!0,i}return ee(t,e),t}(Zn),ti=function(e){function t(t){var n=e.call(this,t)||this;return n.isValid=!0,n}return ee(t,e),t}(Jn),ni=function(e){function t(t,n,i,r){var o=e.call(this,t,n)||this;return o.row=i,o.summary=r,o.isValid=!0,o}return ee(t,e),t}(Zn),ii=function(e){function t(t){var n=e.call(this,t.form,t.json)||this;return t&&(n.field=t),n}return ee(t,e),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.field.isVisible},enumerable:!0,configurable:!0}),t}(Ln),ri=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.isSystem=!1,i.isSelected=!1,n&&(i.isSystem=!!n.isSystem,i.isSelected=!(!t||n.name!==t.selectedOutcome)),i}return ee(t,e),t}(Ln);ri.SAVE_ACTION="Save",ri.COMPLETE_ACTION="Complete",ri.START_PROCESS_ACTION="Start Process";/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var oi=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.isVisible=!0,i.fields=[],n&&(i.title=n.title,i.visibilityCondition=n.visibilityCondition),i}return ee(t,e),t.prototype.hasContent=function(){return this.fields&&this.fields.length>0},t}(Ln),ai=function(){function e(t,n,i,r){void 0===i&&(i=!1);var o=this;if(this.formService=r,this.taskName=e.UNSET_TASK_NAME,this._isValid=!0,this.readOnly=!1,this.tabs=[],this.fields=[],this.outcomes=[],this.customFieldTemplates={},this.fieldValidators=Xn.slice(),this.values={},this.readOnly=i,t){this.json=t,this.id=t.id,this.name=t.name,this.taskId=t.taskId,this.taskName=t.taskName||t.name||e.UNSET_TASK_NAME,this.processDefinitionId=t.processDefinitionId,this.customFieldTemplates=t.customFieldTemplates||{},this.selectedOutcome=t.selectedOutcome||{},this.className=t.className||"";var a={};this.processVariables=t.processVariables,this.tabs=(t.tabs||[]).map(function(e){var t=new oi(o,e);return a[t.id]=t,t}),this.fields=this.parseRootFields(t),n&&this.loadData(n);for(var s=0;s<this.fields.length;s++){var l=this.fields[s];if(l.tab){var u=a[l.tab];u&&u.fields.push(l)}}if(t.fields){var c=new ri(this,{id:e.SAVE_OUTCOME,name:"Save",isSystem:!0}),p=new ri(this,{id:e.COMPLETE_OUTCOME,name:"Complete",isSystem:!0}),d=new ri(this,{id:e.START_PROCESS_OUTCOME,name:"Start Process",isSystem:!0}),f=(t.outcomes||[]).map(function(e){return new ri(o,e)});this.outcomes=[c].concat(f.length>0?f:[p,d])}}this.validateForm()}return Object.defineProperty(e.prototype,"isValid",{get:function(){return this._isValid},enumerable:!0,configurable:!0}),e.prototype.hasTabs=function(){return this.tabs&&this.tabs.length>0},e.prototype.hasFields=function(){return this.fields&&this.fields.length>0},e.prototype.hasOutcomes=function(){return this.outcomes&&this.outcomes.length>0},e.prototype.onFormFieldChanged=function(e){this.validateField(e),this.formService&&this.formService.formFieldValueChanged.next(new Zn(this,e))},e.prototype.getFieldById=function(e){return this.getFormFields().find(function(t){return t.id===e})},e.prototype.getFormFields=function(){for(var e=[],t=0;t<this.fields.length;t++){var n=this.fields[t];if(n instanceof ii){var i=n;e.push(i.field),i.field.columns.forEach(function(t){e.push.apply(e,t.fields)})}}return e},e.prototype.markAsInvalid=function(){this._isValid=!1},e.prototype.validateForm=function(){var e=new ti(this);if(this.formService&&this.formService.validateForm.next(e),this._isValid=e.isValid,!e.defaultPrevented&&e.isValid)for(var t=this.getFormFields(),n=0;n<t.length;n++)if(!t[n].validate())return void(this._isValid=!1)},e.prototype.validateField=function(e){if(e){var t=new ei(this,e);this.formService&&this.formService.validateFormField.next(t),t.isValid?t.defaultPrevented||(e.validate()?this.validateForm():this._isValid=!1):this._isValid=!1}},e.prototype.parseRootFields=function(e){var t=[];e.fields?t=e.fields:e.formDefinition&&e.formDefinition.fields&&(t=e.formDefinition.fields);for(var n=[],i=0,r=t;i<r.length;i++){var o=r[i];if(o.type===_n.DISPLAY_VALUE){if(o.params){o.params.field.type===_n.DYNAMIC_TABLE&&n.push(new ii(new Kn(this,o)))}}else n.push(new ii(new Kn(this,o)))}return n},e.prototype.loadData=function(e){for(var t=0,n=this.getFormFields();t<n.length;t++){var i=n[t];e[i.id]&&(i.json.value=e[i.id],i.value=i.parseValue(i.json),i.type!==_n.DROPDOWN&&i.type!==_n.RADIO_BUTTONS||(i.value=e[i.id].id))}},e}();ai.UNSET_TASK_NAME="Nameless task",ai.SAVE_OUTCOME="$save",ai.COMPLETE_OUTCOME="$complete",ai.START_PROCESS_OUTCOME="$startProcess";/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var si=function(){function e(e){this._defaultPrevented=!1,this._outcome=e}return Object.defineProperty(e.prototype,"outcome",{get:function(){return this._outcome},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultPrevented",{get:function(){return this._defaultPrevented},enumerable:!0,configurable:!0}),e.prototype.preventDefault=function(){this._defaultPrevented=!0},e}(),li=function(){function e(e){this.contentAvailable=e&&e.contentAvailable,this.created=e&&e.created,this.createdBy=e&&e.createdBy||{},this.id=e&&e.id,this.link=e&&e.link,this.mimeType=e&&e.mimeType,this.name=e&&e.name,this.previewStatus=e&&e.previewStatus,this.relatedContent=e&&e.relatedContent,this.simpleType=e&&e.simpleType,this.thumbnailStatus=e&&e.thumbnailStatus}return e.prototype.hasPreviewStatus=function(){return"supported"===this.previewStatus},e.prototype.isTypeImage=function(){return"image"===this.simpleType},e.prototype.isTypePdf=function(){return"pdf"===this.simpleType},e.prototype.isTypeDoc=function(){return"word"===this.simpleType||"content"===this.simpleType},e.prototype.isThumbnailReady=function(){return"created"===this.thumbnailStatus},e.prototype.isThumbnailSupported=function(){return this.isTypeImage()||(this.isTypePdf()||this.isTypeDoc())&&this.isThumbnailReady()},e}(),ui=function(){function e(e,t){this.apiService=e,this.logService=t}return e.prototype.createEcmTypeForActivitiForm=function(e,t){var n=this;return x.Observable.create(function(i){n.searchActivitiEcmModel().subscribe(function(r){r?n.saveFomType(e,t).subscribe(function(e){i.next(e),i.complete()}):n.createActivitiEcmModel(e,t).subscribe(function(e){i.next(e),i.complete()})},function(e){return n.handleError(e)})})},e.prototype.searchActivitiEcmModel=function(){return this.getEcmModels().map(function(t){return t.list.entries.find(function(t){return t.entry.name===e.MODEL_NAME})})},e.prototype.createActivitiEcmModel=function(t,n){var i=this;return x.Observable.create(function(r){i.createEcmModel(e.MODEL_NAME,e.MODEL_NAMESPACE).subscribe(function(o){i.logService.info("model created",o),i.activeEcmModel(e.MODEL_NAME).subscribe(function(e){i.logService.info("model active",e),i.createEcmTypeWithProperties(t,n).subscribe(function(e){r.next(e),r.complete()})},function(e){return i.handleError(e)})},function(e){return i.handleError(e)})})},e.prototype.saveFomType=function(t,n){var i=this;return x.Observable.create(function(r){i.searchEcmType(t,e.MODEL_NAME).subscribe(function(e){i.logService.info("custom types",e),e?(r.next(e),r.complete()):i.createEcmTypeWithProperties(t,n).subscribe(function(e){r.next(e),r.complete()})},function(e){return i.handleError(e)})})},e.prototype.createEcmTypeWithProperties=function(t,n){var i=this;return x.Observable.create(function(r){i.createEcmType(t,e.MODEL_NAME,e.TYPE_MODEL).subscribe(function(o){i.logService.info("type Created",o),i.addPropertyToAType(e.MODEL_NAME,t,n).subscribe(function(e){i.logService.info("property Added",e),r.next(o),r.complete()},function(e){return i.handleError(e)})},function(e){return i.handleError(e)})})},e.prototype.searchEcmType=function(e,t){return this.getEcmType(t).map(function(t){return t.list.entries.find(function(t){return t.entry.prefixedName===e||t.entry.title===e})})},e.prototype.activeEcmModel=function(e){var t=this;return x.Observable.fromPromise(this.apiService.getInstance().core.customModelApi.activateCustomModel(e)).map(this.toJson)["catch"](function(e){return t.handleError(e)})},e.prototype.createEcmModel=function(e,t){var n=this;return x.Observable.fromPromise(this.apiService.getInstance().core.customModelApi.createCustomModel("DRAFT","",e,e,t)).map(this.toJson)["catch"](function(e){return n.handleError(e)})},e.prototype.getEcmModels=function(){var e=this;return x.Observable.fromPromise(this.apiService.getInstance().core.customModelApi.getAllCustomModel()).map(this.toJson)["catch"](function(t){return e.handleError(t)})},e.prototype.getEcmType=function(e){var t=this;return x.Observable.fromPromise(this.apiService.getInstance().core.customModelApi.getAllCustomType(e)).map(this.toJson)["catch"](function(e){return t.handleError(e)})},e.prototype.createEcmType=function(e,t,n){var i=this,r=this.cleanNameType(e);return x.Observable.fromPromise(this.apiService.getInstance().core.customModelApi.createCustomType(t,r,n,e,"")).map(this.toJson)["catch"](function(e){return i.handleError(e)})},e.prototype.addPropertyToAType=function(e,t,n){var i=this,r=this.cleanNameType(t),o=[];if(n&&n.values)for(var a in n.values)a&&o.push({name:a,title:a,description:a,dataType:"d:text",multiValued:!1,mandatory:!1,mandatoryEnforced:!1});return x.Observable.fromPromise(this.apiService.getInstance().core.customModelApi.addPropertyToType(e,r,o)).map(this.toJson)["catch"](function(e){return i.handleError(e)})},e.prototype.cleanNameType=function(e){var t=e;return-1!==e.indexOf(":")&&(t=e.split(":")[1]),t.replace(/[^a-zA-Z ]/g,"")},e.prototype.toJson=function(e){return e?e||{}:{}},e.prototype.handleError=function(e){this.logService.error(e)},e}();ui.MODEL_NAMESPACE="activitiForms",ui.MODEL_NAME="activitiFormsModel",ui.TYPE_MODEL="cm:folder",ui.decorators=[{type:i.Injectable}],ui.ctorParameters=function(){return[{type:re},{type:je}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ci=function(){function e(e,t,n){this.ecmModelService=e,this.apiService=t,this.logService=n,this.formLoaded=new w.Subject,this.formDataRefreshed=new w.Subject,this.formFieldValueChanged=new w.Subject,this.formEvents=new w.Subject,this.taskCompleted=new w.Subject,this.taskCompletedError=new w.Subject,this.taskSaved=new w.Subject,this.taskSavedError=new w.Subject,this.formContentClicked=new w.Subject,this.validateForm=new w.Subject,this.validateFormField=new w.Subject,this.validateDynamicTableRow=new w.Subject,this.executeOutcome=new w.Subject}return Object.defineProperty(e.prototype,"taskApi",{get:function(){return this.apiService.getInstance().activiti.taskApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modelsApi",{get:function(){return this.apiService.getInstance().activiti.modelsApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"editorApi",{get:function(){return this.apiService.getInstance().activiti.editorApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"processApi",{get:function(){return this.apiService.getInstance().activiti.processApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"processInstanceVariablesApi",{get:function(){return this.apiService.getInstance().activiti.processInstanceVariablesApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"usersWorkflowApi",{get:function(){return this.apiService.getInstance().activiti.usersWorkflowApi},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"groupsApi",{get:function(){return this.apiService.getInstance().activiti.groupsApi},enumerable:!0,configurable:!0}),e.prototype.parseForm=function(e,t,n){if(void 0===n&&(n=!1),e){var i=new ai(e,t,n,this);return e.fields||(i.outcomes=[new ri(i,{id:"$custom",name:ri.SAVE_ACTION,isSystem:!0})]),i}return null},e.prototype.createFormFromANode=function(e){var t=this;return x.Observable.create(function(n){t.createForm(e).subscribe(function(i){t.ecmModelService.searchEcmType(e,ui.MODEL_NAME).subscribe(function(e){var r=new Dn(i.id,i.name,i.lastUpdatedByFullName,i.lastUpdated,e.entry.properties);t.addFieldsToAForm(i.id,r).subscribe(function(e){n.next(e),n.complete()},function(e){return t.handleError(e)})},function(e){return t.handleError(e)})},function(e){return t.handleError(e)})})},e.prototype.createForm=function(e){var t={name:e,description:"",modelType:2,stencilSet:0};return x.Observable.fromPromise(this.modelsApi.createModel(t))},e.prototype.saveForm=function(e,t){return x.Observable.fromPromise(this.editorApi.saveForm(e,t))},e.prototype.addFieldsToAForm=function(e,t){return this.logService.log("addFieldsToAForm is deprecated in 1.7.0, use saveForm API instead"),x.Observable.fromPromise(this.editorApi.saveForm(e,t))},e.prototype.searchFrom=function(e){var t=this;return x.Observable.fromPromise(this.modelsApi.getModels({modelType:2})).map(function(t){return t.data.find(function(t){return t.name===e})})["catch"](function(e){return t.handleError(e)})},e.prototype.getForms=function(){var e=this;return x.Observable.fromPromise(this.modelsApi.getModels({modelType:2})).map(this.toJsonArray)["catch"](function(t){return e.handleError(t)})},e.prototype.getProcessDefinitions=function(){var e=this;return x.Observable.fromPromise(this.processApi.getProcessDefinitions({})).map(this.toJsonArray)["catch"](function(t){return e.handleError(t)})},e.prototype.getProcessVarablesById=function(e){var t=this;return x.Observable.fromPromise(this.processInstanceVariablesApi.getProcessInstanceVariables(e)).map(this.toJson)["catch"](function(e){return t.handleError(e)})},e.prototype.getTasks=function(){var e=this;return x.Observable.fromPromise(this.taskApi.listTasks({})).map(this.toJsonArray)["catch"](function(t){return e.handleError(t)})},e.prototype.getTask=function(e){var t=this;return x.Observable.fromPromise(this.taskApi.getTask(e)).map(this.toJson)["catch"](function(e){return t.handleError(e)})},e.prototype.saveTaskForm=function(e,t){var n=this,i=JSON.stringify({values:t});return x.Observable.fromPromise(this.taskApi.saveTaskForm(e,i))["catch"](function(e){return n.handleError(e)})},e.prototype.completeTaskForm=function(e,t,n){var i=this,r={values:t};n&&(r.outcome=n);var o=JSON.stringify(r);return x.Observable.fromPromise(this.taskApi.completeTaskForm(e,o))["catch"](function(e){return i.handleError(e)})},e.prototype.getTaskForm=function(e){var t=this;return x.Observable.fromPromise(this.taskApi.getTaskForm(e)).map(this.toJson)["catch"](function(e){return t.handleError(e)})},e.prototype.getFormDefinitionById=function(e){var t=this;return x.Observable.fromPromise(this.editorApi.getForm(e)).map(this.toJson)["catch"](function(e){return t.handleError(e)})},e.prototype.getFormDefinitionByName=function(e){var t=this,n={filter:"myReusableForms",filterText:e,modelType:2};return x.Observable.fromPromise(this.modelsApi.getModels(n)).map(this.getFormId)["catch"](function(e){return t.handleError(e)})},e.prototype.getStartFormInstance=function(e){var t=this;return x.Observable.fromPromise(this.processApi.getProcessInstanceStartForm(e)).map(this.toJson)["catch"](function(e){return t.handleError(e)})},e.prototype.getProcessIntance=function(e){var t=this;return x.Observable.fromPromise(this.processApi.getProcessInstance(e)).map(this.toJson)["catch"](function(e){return t.handleError(e)})},e.prototype.getStartFormDefinition=function(e){var t=this;return x.Observable.fromPromise(this.processApi.getProcessDefinitionStartForm(e)).map(this.toJson)["catch"](function(e){return t.handleError(e)})},e.prototype.getRestFieldValues=function(e,t){var n=this;return x.Observable.fromPromise(this.taskApi.getRestFieldValues(e,t))["catch"](function(e){return n.handleError(e)})},e.prototype.getRestFieldValuesByProcessId=function(e,t){var n=this;return x.Observable.fromPromise(this.processApi.getRestFieldValues(e,t))["catch"](function(e){return n.handleError(e)})},e.prototype.getRestFieldValuesColumnByProcessId=function(e,t,n){var i=this;return x.Observable.fromPromise(this.processApi.getRestTableFieldValues(e,t,n))["catch"](function(e){return i.handleError(e)})},e.prototype.getRestFieldValuesColumn=function(e,t,n){var i=this;return x.Observable.fromPromise(this.taskApi.getRestFieldValuesColumn(e,t,n))["catch"](function(e){return i.handleError(e)})},e.prototype.getUserProfileImageApi=function(e){return this.apiService.getInstance().activiti.userApi.getUserProfilePictureUrl(e)},e.prototype.getWorkflowUsers=function(e,t){var n=this,i={filter:e};return t&&(i.groupId=t),x.Observable.fromPromise(this.usersWorkflowApi.getUsers(i)).switchMap(function(e){return e.data||[]}).map(function(e){return e.userImage=n.getUserProfileImageApi(e.id),x.Observable.of(e)}).combineAll().defaultIfEmpty([])["catch"](function(e){return n.handleError(e)})},e.prototype.getWorkflowGroups=function(e,t){var n=this,i={filter:e};return t&&(i.groupId=t),x.Observable.fromPromise(this.groupsApi.getGroups(i)).map(function(e){return e.data||[]})["catch"](function(e){return n.handleError(e)})},e.prototype.getFormId=function(e){var t=null;return e&&e.data&&e.data.length>0&&(t=e.data[0].id),t},e.prototype.toJson=function(e){return e?e||{}:{}},e.prototype.toJsonArray=function(e){return e?e.data||[]:[]},e.prototype.handleError=function(t){var n=e.UNKNOWN_ERROR_MESSAGE;return t&&(n=t.message?t.message:t.status?t.status+" - "+t.statusText:e.GENERIC_ERROR_MESSAGE),this.logService.error(n),x.Observable["throw"](n)},e}();ci.UNKNOWN_ERROR_MESSAGE="Unknown error",ci.GENERIC_ERROR_MESSAGE="Server error",ci.decorators=[{type:i.Injectable}],ci.ctorParameters=function(){return[{type:ui},{type:re},{type:je}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var pi={"(click)":"event($event)","(blur)":"event($event)","(change)":"event($event)","(focus)":"event($event)","(focusin)":"event($event)","(focusout)":"event($event)","(input)":"event($event)","(invalid)":"event($event)","(select)":"event($event)"},di=function(){function e(e){this.formService=e,this.readOnly=!1,this.fieldChanged=new i.EventEmitter}return e.prototype.hasField=function(){return!!this.field},e.prototype.isRequired=function(){return!(!this.field||!this.field.required)||null},e.prototype.isValid=function(){return!!this.field.validationSummary},e.prototype.hasValue=function(){return this.field&&null!==this.field.value&&this.field.value!==undefined},e.prototype.isInvalidFieldRequired=function(){return!this.field.isValid&&!this.field.validationSummary&&this.isRequired()},e.prototype.ngAfterViewInit=function(){this.fieldChanged.emit(this.field)},e.prototype.checkVisibility=function(e){this.fieldChanged.emit(e)},e.prototype.onFieldChanged=function(e){this.fieldChanged.emit(e)},e.prototype.getHyperlinkUrl=function(t){var n=e.DEFAULT_HYPERLINK_URL;return t&&t.hyperlinkUrl&&(n=t.hyperlinkUrl,/^https?:\/\//i.test(n)||(n=""+e.DEFAULT_HYPERLINK_SCHEME+n)),n},e.prototype.getHyperlinkText=function(e){return e?e.displayText||e.hyperlinkUrl:null},e.prototype.event=function(e){this.formService.formEvents.next(e)},e}();di.DEFAULT_HYPERLINK_URL="#",di.DEFAULT_HYPERLINK_SCHEME="http://",di.decorators=[{type:i.Component,args:[{selector:"base-widget",template:"",host:pi,encapsulation:i.ViewEncapsulation.None}]}],di.ctorParameters=function(){return[{type:ci}]},di.propDecorators={readOnly:[{type:i.Input}],field:[{type:i.Input}],fieldChanged:[{type:i.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fi=function(e){function t(t){var n=e.call(this,t)||this;return n.columns=[],n.isExpanded=!0,n.rowspan=1,n.colspan=1,n.field&&(n.columns=n.field.columns||[],n.isExpanded=!n.isCollapsedByDefault(),n.colspan=t.colspan,n.rowspan=t.rowspan),n}return ee(t,e),t.prototype.isGroup=function(){return this.type===_n.GROUP},t.prototype.isCollapsible=function(){var e=!1;return this.isGroup()&&this.field.params.allowCollapse&&(e=this.field.params.allowCollapse),e},t.prototype.isCollapsedByDefault=function(){var e=!1;return this.isCollapsible()&&this.field.params.collapseByDefault&&(e=this.field.params.collapseByDefault),e},t}(ii),mi=function(e){function t(t){var n=e.call(this,t)||this;return n.formService=t,n}return ee(t,e),t.prototype.onExpanderClicked=function(){this.content&&this.content.isCollapsible()&&(this.content.isExpanded=!this.content.isExpanded)},t.prototype.ngOnInit=function(){this.field&&(this.content=new fi(this.field))},Object.defineProperty(t.prototype,"fields",{get:function(){for(var e=[],t=!0,n=0;t;){t=!1;for(var i=0;i<this.content.columns.length;i++){var r=this.content.columns[i].fields[n];r&&(t=!0),e.push(r)}n++}return e},enumerable:!0,configurable:!0}),t.prototype.getColumnWith=function(e){var t=e?e.colspan:1;return 100/this.content.json.numberOfColumns*t+"%"},t}(di);mi.decorators=[{type:i.Component,args:[{selector:"container-widget",template:'\n      <div [hidden]="!(content?.isGroup() && content?.isVisible)" class="container-widget__header">\n          <h4 class="container-widget__header-text" id="container-header"\n              [class.collapsible]="content?.isCollapsible()">\n              <button *ngIf="content?.isCollapsible()"\n                      mat-icon-button\n                      class="mdl-button--icon"\n                      (click)="onExpanderClicked()">\n                  <mat-icon>{{ content?.isExpanded ? \'expand_less\' : \'expand_more\' }}</mat-icon>\n              </button>\n              <span (click)="onExpanderClicked()" id="container-header-label">{{content.name}}</span>\n          </h4>\n      </div>\n\n      <section class="grid-list" [ngClass]="{\'hidden\':!(content?.isVisible && content?.isExpanded)}">\n          <div class="grid-list-item" *ngFor="let field of fields" [style.width]="getColumnWith(field)">\n              <form-field *ngIf="field" [field]="field"></form-field>\n          </div>\n      </section>\n    ',styles:["\n\n    "],host:pi,encapsulation:i.ViewEncapsulation.None}]}],mi.ctorParameters=function(){return[{type:ci}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var hi=function(){function e(){this.tabs=[],this.formTabChanged=new i.EventEmitter,this.visibleTabs=[]}return e.prototype.hasTabs=function(){return this.tabs&&this.tabs.length>0},e.prototype.ngAfterContentChecked=function(){this.filterVisibleTabs()},e.prototype.filterVisibleTabs=function(){this.visibleTabs=this.tabs.filter(function(e){return e.isVisible})},e.prototype.tabChanged=function(e){this.formTabChanged.emit(e)},e}();hi.decorators=[{type:i.Component,args:[{selector:"tabs-widget",template:'\n      <div *ngIf="hasTabs()" class="alfresco-tabs-widget">\n          <mat-tab-group>\n              <mat-tab *ngFor="let tab of visibleTabs" [label]="tab.title">\n                  <div *ngFor="let field of tab.fields">\n                      <form-field [field]="field.field"></form-field>\n                   </div>\n              </mat-tab>\n          </mat-tab-group>\n      </div>\n    ',encapsulation:i.ViewEncapsulation.None}]}],hi.ctorParameters=function(){return[]},hi.propDecorators={tabs:[{type:i.Input}],formTabChanged:[{type:i.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var gi=function(e){function t(t){var n=e.call(this,t)||this;return n.formService=t,n}return ee(t,e),t}(di);gi.decorators=[{type:i.Component,args:[{selector:"unknown-widget",template:'\n            <mat-list class="adf-unknown-widget">\n                <mat-list-item>\n                     <mat-icon class="mat-24">error_outline</mat-icon>\n                     <span class="adf-unknown-text">Unknown type: {{field.type}}</span>\n                </mat-list-item>\n            </mat-list>\n\n    ',styles:["\n      .adf-unknown-text {\n        margin-left: 10px;\n        color: red; }\n\n      .adf-unknown-widget {\n        margin: 42px; }\n    "],host:pi,encapsulation:i.ViewEncapsulation.None}]}],gi.ctorParameters=function(){return[{type:ci}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var yi=function(e){function t(n){var i=e.call(this,n)||this;return i.formService=n,i.currency=t.DEFAULT_CURRENCY,i}return ee(t,e),t.prototype.ngOnInit=function(){this.field&&this.field.currency&&(this.currency=this.field.currency)},t}(di);yi.DEFAULT_CURRENCY="$",yi.decorators=[{type:i.Component,args:[{selector:"amount-widget",template:'\n      <div class="adf-amount-widget__container adf-amount-widget {{field.className}}" [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly">\n          <mat-form-field floatPlaceholder="never" class="adf-amount-widget__input">\n              <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n              <span matPrefix class="adf-amount-widget__prefix-spacing"> {{currency }}</span>\n              <input matInput\n                      class="adf-amount-widget"\n                      type="text"\n                      [id]="field.id"\n                      [required]="isRequired()"\n                      [value]="field.value"\n                      [(ngModel)]="field.value"\n                      (ngModelChange)="checkVisibility(field)"\n                      [disabled]="field.readOnly"\n                      placeholder="{{field.placeholder}}">\n          </mat-form-field>\n          <error-widget [error]="field.validationSummary" ></error-widget>\n          <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n      </div>\n    ',styles:["\n      .adf-amount-widget {\n        width: 100%;\n        vertical-align: baseline !important; }\n        .adf-amount-widget .mat-input-element {\n          margin-left: 11px; }\n        .adf-amount-widget .mat-input-prefix {\n          position: absolute;\n          margin-top: 42px; }\n        .adf-amount-widget .mat-input-placeholder {\n          margin-top: 5px; }\n\n      .adf-amount-widget__container {\n        max-width: 100%; }\n        .adf-amount-widget__container .mat-input-placeholder-wrapper {\n          top: -6px !important; }\n        .adf-amount-widget__container .mat-input-placeholder-wrapper {\n          top: 0 !important;\n          left: 13px; }\n\n      .adf-amount-widget__input .mat-focused {\n        -webkit-transition: none;\n        transition: none; }\n\n      .adf-amount-widget__prefix-spacing {\n        padding-right: 5px; }\n    "],host:pi,encapsulation:i.ViewEncapsulation.None}]}],yi.ctorParameters=function(){return[{type:ci}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vi=function(){function e(e,t){this.apiService=e,this.logService=t}return e.prototype.getAlfrescoNodes=function(e,t){var n=this,i=this.apiService.getInstance(),r=e.replace("alfresco-","");return x.Observable.fromPromise(i.activiti.alfrescoApi.getContentInFolder(r,t)).map(this.toJsonArray)["catch"](function(e){return n.handleError(e)})},e.prototype.linkAlfrescoNode=function(e,t,n){var i=this,r=this.apiService.getInstance();return x.Observable.fromPromise(r.activiti.contentApi.createTemporaryRelatedContent({link:!0,name:t.title,simpleType:t.simpleType,source:e,sourceId:t.id+"@"+n})).map(this.toJson)["catch"](function(e){return i.handleError(e)})},e.prototype.toJson=function(e){return e?e||{}:{}},e.prototype.toJsonArray=function(e){return e?e.data||[]:[]},e.prototype.handleError=function(t){var n=e.UNKNOWN_ERROR_MESSAGE;return t&&(n=t.message?t.message:t.status?t.status+" - "+t.statusText:e.GENERIC_ERROR_MESSAGE),this.logService.error(n),x.Observable["throw"](n)},e}();vi.UNKNOWN_ERROR_MESSAGE="Unknown error",vi.GENERIC_ERROR_MESSAGE="Server error",vi.decorators=[{type:i.Injectable}],vi.ctorParameters=function(){return[{type:re},{type:je}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var bi=function(e){function t(t,n){var r=e.call(this,t)||this;return r.formService=t,r.contentService=n,r.fieldChanged=new i.EventEmitter,r.error=new i.EventEmitter,r}return ee(t,e),t.prototype.ngOnInit=function(){if(this.field){var e=this.field.params;e&&e.fileSource&&e.fileSource.selectedFolder&&(this.selectedFolderSiteId=e.fileSource.selectedFolder.siteId,this.selectedFolderSiteName=e.fileSource.selectedFolder.site,this.setupFileBrowser(),this.getExternalContentNodes())}},t.prototype.setupFileBrowser=function(){if(this.field){var e=this.field.params;this.selectedFolderPathId=e.fileSource.selectedFolder.pathId,this.selectedFolderAccountId=e.fileSource.selectedFolder.accountId}},t.prototype.getLinkedFileName=function(){var e=this.fileName;return this.selectedFile&&this.selectedFile.title&&(e=this.selectedFile.title),this.field&&this.field.value&&this.field.value.length>0&&this.field.value[0].name&&(e=this.field.value[0].name),e},t.prototype.getExternalContentNodes=function(){var e=this;this.contentService.getAlfrescoNodes(this.selectedFolderAccountId,this.selectedFolderPathId).subscribe(function(t){return e.selectedFolderNodes=t},function(t){e.error.emit(t)})},t.prototype.selectFile=function(e,t){var n=this;this.contentService.linkAlfrescoNode(this.selectedFolderAccountId,e,this.selectedFolderSiteId).subscribe(function(t){n.selectedFile=e,n.field.value=[t],n.field.json.value=[t],n.closeDialog(),n.fieldChanged.emit(n.field)})},t.prototype.selectFolder=function(e,t){this.selectedFolderPathId=e.id,this.getExternalContentNodes()},t.prototype.showDialog=function(){return this.setupFileBrowser(),this.getExternalContentNodes(),!!this.dialog},t.prototype.closeDialog=function(){this.dialog&&this.dialog.nativeElement.close()},t.prototype.cancel=function(){this.closeDialog()},t.prototype.reset=function(){this.field.value=null,this.field.json.value=null},t.prototype.hasFile=function(){return this.field&&this.field.value},t}(di);bi.decorators=[{type:i.Component,args:[{selector:"attach-widget",template:'\n      <div class="attach-widget {{field.className}}">\n          <label [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n          <div>\n              <span *ngIf="hasFile()" class="attach-widget__file mdl-chip"><span class="mdl-chip__text">{{getLinkedFileName()}}</span></span>\n              <button #browseFile [disabled]="field.readOnly" (click)="showDialog();" class="mdl-button mdl-jsm-button mdl-js-ripple-effect attach-widget__browser">\n                  <mat-icon>image</mat-icon>\n                  Browse {{selectedFolderSiteName}}\n              </button>\n              <button *ngIf="hasFile" [disabled]="field.readOnly" (click)="reset(file);" class="mdl-button mdl-js-button mdl-js-ripple-effect attach-widget__reset">Clear</button>\n          </div>\n      </div>\n\n      <dialog class="mdl-dialog" #dialog>\n          <h4 class="mdl-dialog__title">Select content</h4>\n          <div class="mdl-dialog__content">\n              <ul class=\'mdl-list\'>\n                  <li class="mdl-list__item" *ngFor="let node of selectedFolderNodes">\n                  <span class="mdl-list__item-primary-content" *ngIf="node.folder">\n                  <mat-icon class="mdl-list__item-icon">folder</mat-icon>\n                  <a (click)="selectFolder(node, $event)">{{node.title}}</a>\n                  </span>\n                  <span class="mdl-list__item-primary-content" *ngIf="!node.folder">\n                  <mat-icon class="mdl-list__item-icon">description</mat-icon>\n                  <a (click)="selectFile(node, $event)">{{node.title}}</a>\n                  </span>\n                  </li>\n              </ul>\n          </div>\n          <div class="mdl-dialog__actions">\n              <button type="button" (click)="cancel()" class="mdl-button close">Cancel</button>\n          </div>\n      </dialog>\n    ',styles:["\n      .attach-widget {\n          width:100%\n      }\n\n      .attach-widget__icon {\n          float: left;\n      }\n\n      .attach-widget__file {\n          margin-top: 4px;\n      }\n\n      .attach-widget__reset {\n          margin-top: 4px;\n      }\n    "],host:pi,encapsulation:i.ViewEncapsulation.None}]}],bi.ctorParameters=function(){return[{type:ci},{type:vi}]},bi.propDecorators={fieldChanged:[{type:i.Output}],error:[{type:i.Output}],dialog:[{type:i.ViewChild,args:["dialog"]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var wi=function(){function e(e,t){this.apiService=e,this.logService=t}return e.prototype.refreshVisibility=function(e){var t=this;e&&e.tabs&&e.tabs.length>0&&e.tabs.map(function(e){return t.refreshEntityVisibility(e)}),e&&e.getFormFields().map(function(e){return t.refreshEntityVisibility(e)})},e.prototype.refreshEntityVisibility=function(e){var t=this.evaluateVisibility(e.form,e.visibilityCondition);e.isVisible=t},e.prototype.evaluateVisibility=function(e,t){var n=t&&(t.leftFormFieldId||t.leftRestResponseId);return!n||"null"===n||this.isFieldVisible(e,t)},e.prototype.isFieldVisible=function(e,t){var n=this.getLeftValue(e,t),i=this.getRightValue(e,t),r=this.evaluateCondition(n,i,t.operator);return t.nextCondition?this.evaluateLogicalOperation(t.nextConditionOperator,r,this.isFieldVisible(e,t.nextCondition)):r},e.prototype.getLeftValue=function(e,t){return t.leftRestResponseId&&"null"!==t.leftRestResponseId?this.getVariableValue(e,t.leftRestResponseId,this.processVarList):this.getFormValue(e,t.leftFormFieldId)||this.getVariableValue(e,t.leftFormFieldId,this.processVarList)},e.prototype.getRightValue=function(e,t){return t.rightRestResponseId?this.getVariableValue(e,t.rightRestResponseId,this.processVarList):t.rightFormFieldId?this.getFormValue(e,t.rightFormFieldId):b(t.rightValue,"YYYY-MM-DD",!0).isValid()?t.rightValue+"T00:00:00.000Z":t.rightValue},e.prototype.getFormValue=function(e,t){var n=this.getFieldValue(e.values,t);return n||(n=this.searchValueInForm(e,t)),n},e.prototype.getFieldValue=function(e,t){var n,i;return t&&t.indexOf("_LABEL")>0?e[n=t.substring(0,t.length-6)]&&(i=e[n].name):i=e[t]&&e[t].id?e[t].id:e[t],i},e.prototype.searchValueInForm=function(e,t){var n=this,i="";return e.getFormFields().forEach(function(e){n.isSearchedField(e,t)&&((i=n.getObjectValue(e))||(i=e.value&&e.value.id?e.value.id:e.value))}),i},e.prototype.getObjectValue=function(e){var t="";if(e.value&&e.value.name)t=e.value.name;else if(e.options){var n=e.options.find(function(t){return t.id===e.value});t=n?n.name:e.value}return t},e.prototype.isSearchedField=function(e,t){var n=this.removeLabel(e,t);return!!e.id&&e.id.toUpperCase()===n.toUpperCase()},e.prototype.removeLabel=function(e,t){var n=t||"";return"RestFieldRepresentation"===e.fieldType&&t.indexOf("_LABEL")>0&&(n=t.substring(0,t.length-6)),n},e.prototype.getVariableValue=function(e,t,n){return this.getFormVariableValue(e,t)||this.getProcessVariableValue(t,n)},e.prototype.getFormVariableValue=function(e,t){if(e.json.variables){var n=e.json.variables.find(function(e){return e.name===t});return n?n.value:n}},e.prototype.getProcessVariableValue=function(e,t){if(this.processVarList){var n=this.processVarList.find(function(t){return t.id===e});return n?n.value:n}},e.prototype.evaluateLogicalOperation=function(e,t,n){switch(e){case"and":return t&&n;case"or":return t||n;case"and-not":return t&&!n;case"or-not":return t||!n;default:this.logService.error("NO valid operation! wrong op request : "+e)}},e.prototype.evaluateCondition=function(e,t,n){switch(n){case"==":return e+""==t+"";case"<":return e<t;case"!=":return e+""!=t+"";case">":return e>t;case">=":return e>=t;case"<=":return e<=t;case"empty":return!e||""===e;case"!empty":return!!e&&""!==e;default:this.logService.error("NO valid operation!")}},e.prototype.cleanProcessVariable=function(){this.processVarList=[]},e.prototype.getTaskProcessVariable=function(e){var t=this;return x.Observable.fromPromise(this.apiService.getInstance().activiti.taskFormsApi.getTaskFormVariables(e)).map(function(e){var n=t.toJson(e);return t.processVarList=n,n})["catch"](function(e){return t.handleError(e)})},e.prototype.toJson=function(e){return e||{}},e.prototype.handleError=function(e){return this.logService.error("Error while performing a call"),x.Observable["throw"]("Error while performing a call - Server error")},e}();wi.decorators=[{type:i.Injectable}],wi.ctorParameters=function(){return[{type:re},{type:je}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ii=function(e){function t(t,n){var i=e.call(this,n)||this;return i.visibilityService=t,i.formService=n,i}return ee(t,e),t.prototype.onChange=function(){this.visibilityService.refreshVisibility(this.field.form)},t}(di);Ii.decorators=[{type:i.Component,args:[{selector:"checkbox-widget",template:'\n      <div [ngClass]="field.className">\n          <mat-checkbox\n              [id]="field.id"\n              color="primary"\n              [required]="field.required"\n              [disabled]="field.readOnly || readOnly"\n              [(ngModel)]="field.value"\n              (change)="onChange()">\n              {{field.name}}\n              <span *ngIf="field.required">*</span>\n          </mat-checkbox>\n      </div>\n    ',host:pi,encapsulation:i.ViewEncapsulation.None}]}],Ii.ctorParameters=function(){return[{type:wi},{type:ci}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ei=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.formService=t,r.dateAdapter=n,r.preferences=i,r}return ee(t,e),t.prototype.ngOnInit=function(){var e=this;this.preferences.locale$.subscribe(function(t){e.dateAdapter.setLocale(t)});this.dateAdapter.overrideDisplyaFormat=this.field.dateDisplayFormat,this.field&&(this.field.minValue&&(this.minDate=b(this.field.minValue,"DD/MM/YYYY")),this.field.maxValue&&(this.maxDate=b(this.field.maxValue,"DD/MM/YYYY"))),this.displayDate=b(this.field.value,this.field.dateDisplayFormat)},t.prototype.onDateChanged=function(e){e&&e.value?this.field.value=e.value.format(this.field.dateDisplayFormat):this.field.value=e||null,this.checkVisibility(this.field)},t}(di);Ei.decorators=[{type:i.Component,args:[{selector:"date-widget",providers:[{provide:y.DateAdapter,useClass:me},{provide:y.MAT_DATE_FORMATS,useValue:he}],template:'\n      <div class="{{field.className}}" *ngIf="field?.isVisible" id="data-widget" [class.adf-invalid]="!field.isValid || field.validationSummary.message">\n          <mat-form-field class="adf-date-widget">\n              <label class="adf-label" [attr.for]="field.id">{{field.name}} ({{field.dateDisplayFormat}})<span *ngIf="isRequired()">*</span></label>\n              <input matInput\n                     [id]="field.id"\n                     [matDatepicker]="datePicker"\n                     [(ngModel)]="displayDate"\n                     [required]="isRequired()"\n                     [disabled]="field.readOnly"\n                     [min]="minDate"\n                     [max]="maxDate"\n                     (focusout)="onDateChanged($event.srcElement.value)"\n                     (dateChange)="onDateChanged($event)"\n                     placeholder="{{field.placeholder}}">\n              <mat-datepicker-toggle  matSuffix [for]="datePicker" [disabled]="field.readOnly" ></mat-datepicker-toggle>\n          </mat-form-field>\n          <error-widget [error]="field.validationSummary"></error-widget>\n          <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n          <mat-datepicker #datePicker [touchUi]="true" [startAt]="startAt" ></mat-datepicker>\n      </div>\n    ',styles:["\n      .adf-date-widget .mat-input-suffix {\n        text-align: right;\n        position: absolute;\n        margin-top: 30px;\n        width: 100%; }\n\n      .adf-date-widget-date-widget-button {\n        position: relative;\n        float: right; }\n\n      .adf-date-widget-date-input {\n        padding-top: 5px;\n        padding-bottom: 5px; }\n\n      .adf-date-widget-grid-date-widget {\n        -webkit-box-align: center;\n            -ms-flex-align: center;\n                align-items: center;\n        padding: 0; }\n\n      .adf-date-widget-date-widget-button__cell {\n        margin-top: 0;\n        margin-bottom: 0; }\n    "],host:pi,encapsulation:i.ViewEncapsulation.None}]}],Ei.ctorParameters=function(){return[{type:ci},{type:y.DateAdapter},{type:oe}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Si=function(e){function t(t){var n=e.call(this,t)||this;return n.formService=t,n}return ee(t,e),t}(di);Si.decorators=[{type:i.Component,args:[{selector:"display-text-widget",template:'\n      <div class="adf-display-text-widget {{field.className}}">{{field.value}}</div>\n    ',styles:["\n      .adf-display-text-widget {\n        white-space: pre-wrap; }\n    "],host:pi,encapsulation:i.ViewEncapsulation.None}]}],Si.ctorParameters=function(){return[{type:ci}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ci=function(e){function t(t){var n=e.call(this,t)||this;return n.formService=t,n.fileId=null,n.hasFile=!1,n}return ee(t,e),t.prototype.ngOnInit=function(){if(this.field){var e=this.field.value;e?(this.fileId=e.id,this.hasFile=!0):(this.fileId=null,this.hasFile=!1)}},t}(di);Ci.decorators=[{type:i.Component,args:[{selector:"adf-form-document-widget",template:'\n      <div class="adf-form-document-widget {{field.className}}">\n          <ng-container *ngIf="hasFile">\n              <adf-content [id]="fileId" [showDocumentContent]="true"></adf-content>\n          </ng-container>\n      </div>\n    ',host:pi,encapsulation:i.ViewEncapsulation.None}]}],Ci.ctorParameters=function(){return[{type:ci}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ti=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.formService=t,r.visibilityService=n,r.logService=i,r}return ee(t,e),t.prototype.ngOnInit=function(){this.field&&this.field.restUrl&&(this.field.form.taskId?this.getValuesByTaskId():this.getValuesByProcessDefinitionId())},t.prototype.getValuesByTaskId=function(){var e=this;this.formService.getRestFieldValues(this.field.form.taskId,this.field.id).subscribe(function(t){var n=[];e.field.emptyOption&&n.push(e.field.emptyOption),e.field.options=n.concat(t||[]),e.field.updateForm()},function(t){return e.handleError(t)})},t.prototype.getValuesByProcessDefinitionId=function(){var e=this;this.formService.getRestFieldValuesByProcessId(this.field.form.processDefinitionId,this.field.id).subscribe(function(t){var n=[];e.field.emptyOption&&n.push(e.field.emptyOption),e.field.options=n.concat(t||[]),e.field.updateForm()},function(t){return e.handleError(t)})},t.prototype.getOptionValue=function(e,t){return"empty"===e.id||e.name!==t?e.id:e.name},t.prototype.checkVisibility=function(){this.visibilityService.refreshVisibility(this.field.form)},t.prototype.handleError=function(e){this.logService.error(e)},t.prototype.isReadOnlyType=function(){return"readonly"===this.field.type},t}(di);Ti.decorators=[{type:i.Component,args:[{selector:"dropdown-widget",template:'\n      <div class="adf-dropdown-widget {{field.className}}"\n           [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly" *ngIf="field?.isVisible">\n          <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n          <mat-form-field>\n              <mat-select class="adf-select"\n                          [id]="field.id"\n                          [(ngModel)]="field.value"\n                          [disabled]="field.readOnly"\n                          (ngModelChange)="checkVisibility(field)">\n                  <mat-option *ngFor="let opt of field.options"\n                              [value]="getOptionValue(opt, field.value)"\n                              [id]="opt.id">{{opt.name}}\n                  </mat-option>\n                  <mat-option id="readonlyOption" *ngIf="isReadOnlyType()" [value]="field.value">{{field.value}}</mat-option>\n              </mat-select>\n          </mat-form-field>\n          <error-widget [error]="field.validationSummary"></error-widget>\n          <error-widget class="adf-dropdown-required-message" *ngIf="isInvalidFieldRequired()"\n                        required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n      </div>\n    ',styles:["\n      .adf-dropdown-widget {\n        width: 100%;\n        margin-top: 13px; }\n        .adf-dropdown-widget .adf-select {\n          padding-top: 0 !important;\n          width: 100%; }\n        .adf-dropdown-widget .mat-select-value-text {\n          font-size: 14px; }\n        .adf-dropdown-widget-select {\n          width: 100%; }\n        .adf-dropdown-widget-dropdown-required-message .adf-error-text-container {\n          margin-top: 1px !important; }\n    "],host:pi,encapsulation:i.ViewEncapsulation.None}]}],Ti.ctorParameters=function(){return[{type:ci},{type:wi},{type:je}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xi=function(){function e(){this.supportedTypes=["Date"]}return e.prototype.isSupported=function(e){return e&&e.editable&&this.supportedTypes.indexOf(e.type)>-1},e.prototype.validate=function(e,t,n){if(this.isSupported(t)){var i=e.value[t.id];if(!b(i,"D-M-YYYY").isValid())return n&&(n.isValid=!1,n.message="Invalid '"+t.name+"' format."),!1}return!0},e}(),Oi=function(e){function t(t){var n=e.call(this,t)||this;return n.isValid=t.isValid,n}return ee(t,e),t}(Mn),Pi=function(){function e(){this.supportedTypes=["Number","Amount"]}return e.prototype.isSupported=function(e){return e&&e.required&&this.supportedTypes.indexOf(e.type)>-1},e.prototype.isNumber=function(e){return null!==e&&e!==undefined&&""!==e&&!isNaN(+e)},e.prototype.validate=function(e,t,n){if(this.isSupported(t)){var i=e.value[t.id];return!(null!==i&&i!==undefined&&""!==i&&!this.isNumber(i))||(n&&(n.isValid=!1,n.message="Field '"+t.name+"' must be a number."),!1)}return!0},e}(),Fi=function(){function e(){this.supportedTypes=["String","Number","Amount","Date","Dropdown"]}return e.prototype.isSupported=function(e){return e&&e.required&&this.supportedTypes.indexOf(e.type)>-1},e.prototype.validate=function(e,t,n){if(this.isSupported(t)){var i=e.value[t.id];if(t.required&&(null===i||i===undefined||""===i))return n&&(n.isValid=!1,n.message="Field '"+t.name+"' is required."),!1}return!0},e}(),ki=function(e){function t(t,n){var i=e.call(this,t.form,t.json)||this;if(i.formService=n,i.columns=[],i.visibleColumns=[],i.rows=[],i._validators=[],i.field=t,t.json){var r=i.getColumns(t);r&&(i.columns=r,i.visibleColumns=i.columns.filter(function(e){return e.visible})),t.json.value&&(i.rows=t.json.value.map(function(e){return{selected:!1,value:e}}))}return i._validators=[new Fi,new xi,new Pi],i}return ee(t,e),Object.defineProperty(t.prototype,"selectedRow",{get:function(){return this._selectedRow},set:function(e){if(this._selectedRow&&this._selectedRow===e)return this._selectedRow.selected=!1,void(this._selectedRow=null);this.rows.forEach(function(e){return e.selected=!1}),this._selectedRow=e,e&&(this._selectedRow.selected=!0)},enumerable:!0,configurable:!0}),t.prototype.getColumns=function(e){if(e&&e.json){var t=e.json.columnDefinitions;if(!t&&e.json.params&&e.json.params.field&&(t=e.json.params.field.columnDefinitions),t)return t.map(function(e){return e})}return null},t.prototype.flushValue=function(){this.field&&(this.field.value=this.rows.map(function(e){return e.value}),this.field.updateForm())},t.prototype.moveRow=function(e,t){var n=this.rows.indexOf(e);if(n>-1){var i=n+t;i<0?i=0:i>=this.rows.length&&(i=this.rows.length);var r=this.rows.slice();r.splice(n,1),r.splice(i,0,e),this.rows=r,this.flushValue()}},t.prototype.deleteRow=function(e){if(e){this.selectedRow===e&&(this.selectedRow=null);var t=this.rows.indexOf(e);t>-1&&(this.rows.splice(t,1),this.flushValue())}},t.prototype.addRow=function(e){e&&this.rows.push(e)},t.prototype.validateRow=function(e){var t=new Oi({isValid:!0,message:null}),n=new ni(this.form,this.field,e,t);if(this.formService.validateDynamicTableRow.next(n),n.defaultPrevented||!t.isValid)return t;if(e)for(var i=0,r=this.columns;i<r.length;i++)for(var o=r[i],a=0,s=this._validators;a<s.length;a++){if(!s[a].validate(e,o,t))return t}return t},t.prototype.getCellValue=function(e,t){var n=e.value[t.id];return"Dropdown"===t.type&&n?n.name:"Boolean"===t.type?!!n:"Date"===t.type&&n?b(n.split("T")[0],"YYYY-MM-DD").format("DD-MM-YYYY"):n||""},t.prototype.getDisplayText=function(e){var t=e.name;if("Amount"===e.type){var n=e.amountCurrency||"$";t=e.name+" ("+n+")"}return t},t}(Ln),Ri=function(e){function t(t,n,i,r,o){var a=e.call(this,t)||this;return a.formService=t,a.elementRef=n,a.visibilityService=i,a.logService=r,a.cd=o,a.ERROR_MODEL_NOT_FOUND="Table model not found",a.editMode=!1,a.editRow=null,a.selectArrayCode=[32,0,13],a}return ee(t,e),t.prototype.ngOnInit=function(){this.field&&(this.content=new ki(this.field,this.formService),this.visibilityService.refreshVisibility(this.field.form))},t.prototype.forceFocusOnAddButton=function(){if(this.content){this.cd.detectChanges();var e=this.elementRef.nativeElement.querySelector("#"+this.content.id+"-add-row");this.isDynamicTableReady(e)&&e.focus()}},t.prototype.isDynamicTableReady=function(e){return this.field&&!this.editMode&&e},t.prototype.isValid=function(){var e=!0;return this.content&&this.content.field&&(e=this.content.field.isValid),e},t.prototype.onRowClicked=function(e){this.content&&(this.content.selectedRow=e)},t.prototype.onKeyPressed=function(e,t){this.content&&this.isEnterOrSpacePressed(e.keyCode)&&(this.content.selectedRow=t)},t.prototype.isEnterOrSpacePressed=function(e){return-1!==this.selectArrayCode.indexOf(e)},t.prototype.hasSelection=function(){return!(!this.content||!this.content.selectedRow)},t.prototype.moveSelectionUp=function(){return!(!this.content||this.readOnly)&&(this.content.moveRow(this.content.selectedRow,-1),!0)},t.prototype.moveSelectionDown=function(){return!(!this.content||this.readOnly)&&(this.content.moveRow(this.content.selectedRow,1),!0)},t.prototype.deleteSelection=function(){return!(!this.content||this.readOnly)&&(this.content.deleteRow(this.content.selectedRow),!0)},t.prototype.addNewRow=function(){return!(!this.content||this.readOnly)&&(this.editRow={isNew:!0,selected:!1,value:{}},this.editMode=!0,!0)},t.prototype.editSelection=function(){return!(!this.content||this.readOnly)&&(this.editRow=this.copyRow(this.content.selectedRow),this.editMode=!0,!0)},t.prototype.getCellValue=function(e,t){if(this.content){var n=this.content.getCellValue(e,t);return"Amount"===t.type?(t.amountCurrency||"$")+" "+(n||0):n}return null},t.prototype.onSaveChanges=function(){if(this.content){if(this.editRow.isNew){var e=this.copyRow(this.editRow);this.content.selectedRow=null,this.content.addRow(e),this.editRow.isNew=!1}else this.content.selectedRow.value=this.copyObject(this.editRow.value);this.content.flushValue()}else this.logService.error(this.ERROR_MODEL_NOT_FOUND);this.editMode=!1,this.forceFocusOnAddButton()},t.prototype.onCancelChanges=function(){this.editMode=!1,this.editRow=null,this.forceFocusOnAddButton()},t.prototype.copyRow=function(e){return{value:this.copyObject(e.value)}},t.prototype.copyObject=function(e){var t=this,n=e;return"object"==typeof e&&null!==e&&e!==undefined&&(n=Object.assign({},e),Object.keys(e).forEach(function(i){"object"==typeof e[i]&&(n[i]=t.copyObject(e[i]))})),n},t}(di);Ri.decorators=[{type:i.Component,args:[{selector:"dynamic-table-widget",template:'\n      <div class="{{field.className}}"\n          [class.adf-invalid]="!isValid()" *ngIf="field?.isVisible">\n          <div class="adf-label">{{content.name}}<span *ngIf="isRequired()">*</span></div>\n\n          <div *ngIf="!editMode">\n              <div class="adf-table-container">\n                  <table class="full-width adf-dynamic-table" id="dynamic-table-{{content.id}}">\n                      <thead>\n                          <tr>\n                              <th *ngFor="let column of content.visibleColumns">\n                                  {{column.name}}\n                              </th>\n                          </tr>\n                      </thead>\n                      <tbody>\n                          <tr *ngFor="let row of content.rows; let idx = index" tabindex="0" id="{{content.id}}-row-{{idx}}"\n                              [class.adf-dynamic-table-widget__row-selected]="row.selected" (keyup)="onKeyPressed($event, row)">\n                              <td *ngFor="let column of content.visibleColumns"\n                                  (click)="onRowClicked(row)">\n                                  {{ getCellValue(row, column) }}\n                              </td>\n                          </tr>\n                      </tbody>\n                  </table>\n              </div>\n\n              <div *ngIf="!readOnly">\n                  <button mat-button\n                          [disabled]="!hasSelection()"\n                          (click)="moveSelectionUp()">\n                      <mat-icon>arrow_upward</mat-icon>\n                  </button>\n                  <button mat-button\n                          [disabled]="!hasSelection()"\n                          (click)="moveSelectionDown()">\n                      <mat-icon>arrow_downward</mat-icon>\n                  </button>\n                  <button mat-button\n                          [disabled]="field.readOnly"\n                          id="{{content.id}}-add-row"\n                          (click)="addNewRow()">\n                      <mat-icon>add_circle_outline</mat-icon>\n                  </button>\n                  <button mat-button\n                          [disabled]="!hasSelection()"\n                          (click)="deleteSelection()">\n                      <mat-icon>remove_circle_outline</mat-icon>\n                  </button>\n                  <button mat-button\n                          [disabled]="!hasSelection()"\n                          (click)="editSelection()">\n                      <mat-icon>edit</mat-icon>\n                  </button>\n              </div>\n           </div>\n\n           <row-editor *ngIf="editMode"\n              [table]="content"\n              [row]="editRow"\n              [column]="column"\n              (save)="onSaveChanges()"\n              (cancel)="onCancelChanges()">\n           </row-editor>\n          <error-widget [error]="field.validationSummary" ></error-widget>\n          <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n      </div>\n    ',styles:["\n\n    "],host:pi,encapsulation:i.ViewEncapsulation.None}]}],Ri.ctorParameters=function(){return[{type:ci},{type:i.ElementRef},{type:wi},{type:je},{type:i.ChangeDetectorRef}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ai=function(){function e(){}return e.prototype.onValueChanged=function(e,t,n){var i=n.checked;e.value[t.id]=i},e}();Ai.decorators=[{type:i.Component,args:[{selector:"adf-boolean-editor",template:'\n       <label [attr.for]="column.id">\n          <mat-checkbox\n              color="primary"\n              [id]="column.id"\n              [checked]="table.getCellValue(row, column)"\n              [required]="column.required"\n              [disabled]="!column.editable"\n              (change)="onValueChanged(row, column, $event)">\n          <span class="adf-checkbox-label">{{column.name}}</span>\n          </mat-checkbox>\n      </label>\n    ',styles:["\n      .adf-checkbox-label {\n        position: relative;\n        cursor: pointer;\n        font-size: 16px;\n        line-height: 24px;\n        margin: 0; }\n    "]}]}],Ai.ctorParameters=function(){return[]},Ai.propDecorators={table:[{type:i.Input}],row:[{type:i.Input}],column:[{type:i.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Di=function(){function e(e,t){this.dateAdapter=e,this.preferences=t,this.DATE_FORMAT="DD-MM-YYYY"}return e.prototype.ngOnInit=function(){var e=this;this.preferences.locale$.subscribe(function(t){e.dateAdapter.setLocale(t)});this.dateAdapter.overrideDisplyaFormat=this.DATE_FORMAT,this.value=b(this.table.getCellValue(this.row,this.column),this.DATE_FORMAT)},e.prototype.onDateChanged=function(e){if(e){var t=b(e,this.DATE_FORMAT,!0);t.isValid()?(this.row.value[this.column.id]=t.format("YYYY-MM-DD")+"T00:00:00.000Z",this.table.flushValue()):this.row.value[this.column.id]=""}},e}();Di.decorators=[{type:i.Component,args:[{selector:"adf-date-editor",template:'\n      <div>\n          <mat-form-field class="adf-date-editor">\n              <label [attr.for]="column.id">{{column.name}} (d-M-yyyy)</label>\n              <input matInput\n                  id="dateInput"\n                  type="text"\n                  [matDatepicker]="datePicker"\n                  [value]="value"\n                  [id]="column.id"\n                  [required]="column.required"\n                  [disabled]="!column.editable"\n                 (focusout)="onDateChanged($event.srcElement.value)">\n              <mat-datepicker-toggle  *ngIf="column.editable" matSuffix [for]="datePicker" class="adf-date-editor-button" ></mat-datepicker-toggle>\n          </mat-form-field>\n          <mat-datepicker #datePicker (dateChange)="onDateChanged($event)" [touchUi]="true"></mat-datepicker>\n      </div>\n    ',providers:[{provide:y.DateAdapter,useClass:me},{provide:y.MAT_DATE_FORMATS,useValue:he}],styles:["\n      .adf-date-editor {\n        width: 100%; }\n\n      .adf-date-editor-button {\n        position: relative;\n        top: 25px; }\n    "]}]}],Di.ctorParameters=function(){return[{type:y.DateAdapter},{type:oe}]},Di.propDecorators={table:[{type:i.Input}],row:[{type:i.Input}],column:[{type:i.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _i=function(){function e(e,t){this.formService=e,this.logService=t,this.value=null,this.options=[]}return e.prototype.ngOnInit=function(){var e=this.table.field;e&&("rest"===this.column.optionType?this.table.form&&this.table.form.taskId?this.getValuesByTaskId(e):this.getValuesByProcessDefinitionId(e):(this.options=this.column.options||[],this.value=this.table.getCellValue(this.row,this.column)))},e.prototype.getValuesByTaskId=function(e){var t=this;this.formService.getRestFieldValuesColumn(e.form.taskId,e.id,this.column.id).subscribe(function(e){t.column.options=e||[],t.options=t.column.options,t.value=t.table.getCellValue(t.row,t.column)},function(e){return t.handleError(e)})},e.prototype.getValuesByProcessDefinitionId=function(e){var t=this;this.formService.getRestFieldValuesColumnByProcessId(e.form.processDefinitionId,e.id,this.column.id).subscribe(function(e){t.column.options=e||[],t.options=t.column.options,t.value=t.table.getCellValue(t.row,t.column)},function(e){return t.handleError(e)})},e.prototype.onValueChanged=function(e,t,n){var i=n.value;i=t.options.find(function(e){return e.name===i}),e.value[t.id]=i},e.prototype.handleError=function(e){this.logService.error(e)},e}();_i.decorators=[{type:i.Component,args:[{selector:"adf-dropdown-editor",template:'\n      <div class="dropdown-editor">\n          <label [attr.for]="column.id">{{column.name}}</label>\n          <mat-form-field>\n              <mat-select\n                  floatPlaceholder="never"\n                  class="adf-dropdown-editor-select"\n                  [id]="column.id"\n                  [(ngModel)]="value"\n                  [required]="column.required"\n                  [disabled]="!column.editable"\n                  (change)="onValueChanged(row, column, $event)">\n                  <mat-option></mat-option>\n                  <mat-option *ngFor="let opt of options" [value]="opt.name" [id]="opt.id">{{opt.name}}</mat-option>\n              </mat-select>\n          </mat-form-field>\n      </div>\n    ',styles:["\n      .adf-dropdown-editor-select {\n        width: 100%; }\n    "]}]}],_i.ctorParameters=function(){return[{type:ci},{type:je}]},_i.propDecorators={table:[{type:i.Input}],row:[{type:i.Input}],column:[{type:i.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Li=function(){function e(){this.save=new i.EventEmitter,this.cancel=new i.EventEmitter,this.validationSummary=new Oi({isValid:!0,message:""})}return e.prototype.onCancelChanges=function(){this.cancel.emit({table:this.table,row:this.row,column:this.column})},e.prototype.onSaveChanges=function(){this.validate(),this.isValid()&&this.save.emit({table:this.table,row:this.row,column:this.column})},e.prototype.isValid=function(){return this.validationSummary&&this.validationSummary.isValid},e.prototype.validate=function(){this.validationSummary=this.table.validateRow(this.row)},e}();Li.decorators=[{type:i.Component,args:[{selector:"row-editor",template:'\n      <div class="row-editor mdl-shadow--2dp"\n          [class.row-editor__invalid]="!validationSummary.isValid">\n          <div class="mdl-grid" *ngFor="let column of table.columns">\n              <div class="mdl-cell mdl-cell--6-col" [ngSwitch]="column.type">\n                  <div *ngSwitchCase="\'Dropdown\'">\n                      <adf-dropdown-editor\n                          [table]="table"\n                          [row]="row"\n                          [column]="column">\n                      </adf-dropdown-editor>\n                      </div>\n                      <div *ngSwitchCase="\'Date\'">\n                          <adf-date-editor\n                          [table]="table"\n                          [row]="row"\n                          [column]="column">\n                      </adf-date-editor>\n                      </div>\n\n                      <div *ngSwitchCase="\'Boolean\'">\n                      <adf-boolean-editor\n                          [table]="table"\n                          [row]="row"\n                          [column]="column">\n                      </adf-boolean-editor>\n                      </div>\n                      <div *ngSwitchDefault>\n                      <adf-text-editor\n                          [table]="table"\n                          [row]="row"\n                          [column]="column">\n                      </adf-text-editor>\n                  </div>\n              </div>\n          </div>\n          <error-widget [error]="validationSummary"></error-widget>\n          <div>\n              <button mat-button (click)="onCancelChanges()">Cancel</button>\n              <button mat-button (click)="onSaveChanges()">Save</button>\n          </div>\n      </div>\n    ',styles:["\n      .row-editor {\n          padding: 8px;\n      }\n\n      .row-editor__validation-summary {\n          visibility: hidden;\n      }\n\n      .row-editor__invalid .row-editor__validation-summary {\n          padding-left: 16px;\n          padding-right: 16px;\n          padding-top: 8px;\n          padding-bottom: 8px;\n          color: #d50000;\n          visibility: visible;\n      }\n    "]}]}],Li.ctorParameters=function(){return[]},Li.propDecorators={table:[{type:i.Input}],row:[{type:i.Input}],column:[{type:i.Input}],save:[{type:i.Output}],cancel:[{type:i.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Vi=function(){function e(){}return e.prototype.ngOnInit=function(){this.displayName=this.table.getDisplayText(this.column)},e.prototype.onValueChanged=function(e,t,n){var i=n.target.value;e.value[t.id]=i},e}();Vi.decorators=[{type:i.Component,args:[{selector:"adf-text-editor",template:'\n      <div class="adf-text-editor">\n          <mat-form-field>\n          <label [attr.for]="column.id">{{displayName}}</label>\n          <input matInput\n              type="text"\n              [value]="table.getCellValue(row, column)"\n              (keyup)="onValueChanged(row, column, $event)"\n              [required]="column.required"\n              [disabled]="!column.editable"\n              [id]="column.id">\n          </mat-form-field>\n      </div>\n    ',styles:["\n      .adf-text-editor {\n        width: 100%; }\n    "]}]}],Vi.ctorParameters=function(){return[]},Vi.propDecorators={table:[{type:i.Input}],row:[{type:i.Input}],column:[{type:i.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Mi=function(e){function t(t){var n=e.call(this,t)||this;return n.formService=t,n.translateParameters=null,n._subscriptAnimationState="",n}return ee(t,e),t.prototype.ngOnChanges=function(e){e.required&&(this.required=e.required.currentValue,this._subscriptAnimationState="enter"),e.error&&e.error.currentValue&&e.error.currentValue.isActive()&&(this.error=e.error.currentValue,this.translateParameters=this.error.getAttributesAsJsonObj(),this._subscriptAnimationState="enter")},t}(di);Mi.decorators=[{type:i.Component,args:[{selector:"error-widget",template:'\n      <div class="adf-error-text-container">\n          <div *ngIf="error?.isActive()" [@transitionMessages]="_subscriptAnimationState">\n              <div class="adf-error-text">{{error.message | translate:translateParameters}}</div>\n              <mat-icon class="adf-error-icon">warning</mat-icon>\n          </div>\n          <div *ngIf="required" [@transitionMessages]="_subscriptAnimationState">\n                  <div class="adf-error-text">{{required}}</div>\n          </div>\n      </div>\n    ',styles:["\n      .adf-error-text {\n        width: 85%; }\n    "],animations:[H.trigger("transitionMessages",[H.state("enter",H.style({opacity:1,transform:"translateY(0%)"})),H.transition("void => enter",[H.style({opacity:0,transform:"translateY(-100%)"}),H.animate("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])],host:pi,encapsulation:i.ViewEncapsulation.None}]}],Mi.ctorParameters=function(){return[{type:ci}]},Mi.propDecorators={error:[{type:i.Input}],required:[{type:i.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ni=function(e){function t(t,n){var i=e.call(this,t)||this;return i.formService=t,i.elementRef=n,i.groups=[],i.minTermLength=1,i}return ee(t,e),t.prototype.ngOnInit=function(){var e=this;if(this.field){var t=this.field.value;t&&(this.value=t.name);var n=this.field.params;if(n&&n.restrictWithGroup){var i=n.restrictWithGroup;this.groupId=i.id}this.value&&this.formService.getWorkflowGroups(this.value,this.groupId).subscribe(function(t){return e.groups=t||[]})}},t.prototype.onKeyUp=function(e){var t=this;this.value&&this.value.length>=this.minTermLength&&this.oldValue!==this.value&&e.keyCode!==G.ESCAPE&&e.keyCode!==G.ENTER&&(this.oldValue=this.value,this.formService.getWorkflowGroups(this.value,this.groupId).subscribe(function(e){t.groups=e||[]}))},t.prototype.flushValue=function(){var e=this,t=this.groups.find(function(t){return t.name.toLocaleLowerCase()===e.value.toLocaleLowerCase()});t?(this.field.value=t,this.value=t.name):(this.field.value=null,this.value=null),this.field.updateForm()},t.prototype.onItemClick=function(e,t){e&&(this.field.value=e,this.value=e.name),t&&t.preventDefault()},t.prototype.onItemSelect=function(e){e&&(this.field.value=e,this.value=e.name)},t}(di);Ni.decorators=[{type:i.Component,args:[{selector:"functional-group-widget",template:'\n      <div class="adf-group-widget {{field.className}}"\n           [class.is-dirty]="value"\n           [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly" id="functional-group-div" *ngIf="field.isVisible">\n          <mat-form-field>\n              <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n              <input matInput\n                     class="adf-input"\n                     type="text"\n                     [id]="field.id"\n                     [(ngModel)]="value"\n                     (keyup)="onKeyUp($event)"\n                     [disabled]="field.readOnly"\n                     placeholder="{{field.placeholder}}"\n                     [matAutocomplete]="auto">\n              <mat-autocomplete #auto="matAutocomplete" (optionSelected)="onItemSelect($event.option.value)">\n                  <mat-option *ngFor="let item of groups"\n                             [id]="field.id +\'-\'+item.id"\n                             (click)="onItemClick(item, $event)"  [value]="item">\n                      <span>{{item.name}}</span>\n                  </mat-option>\n              </mat-autocomplete>\n\n          </mat-form-field>\n          <error-widget [error]="field.validationSummary"></error-widget>\n          <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n      </div>\n    ',styles:["\n      .adf-group-widget {\n        width: 100%; }\n    "],host:pi,encapsulation:i.ViewEncapsulation.None}]}],Ni.ctorParameters=function(){return[{type:ci},{type:i.ElementRef}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ui=function(e){function t(t){var n=e.call(this,t)||this;return n.formService=t,n.linkUrl=di.DEFAULT_HYPERLINK_URL,n.linkText=null,n}return ee(t,e),t.prototype.ngOnInit=function(){this.field&&(this.linkUrl=this.getHyperlinkUrl(this.field),this.linkText=this.getHyperlinkText(this.field))},t}(di);Ui.decorators=[{type:i.Component,args:[{selector:"hyperlink-widget",template:'\n      <div class="adf-hyperlink-widget {{field.className}}">\n          <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n          <div>\n              <a [href]="linkUrl" target="_blank" rel="nofollow">{{linkText}}</a>\n          </div>\n      </div>\n    ',styles:["\n\n    "],host:pi,encapsulation:i.ViewEncapsulation.None}]}],Ui.ctorParameters=function(){return[{type:ci}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ji=function(e){function t(t){var n=e.call(this,t)||this;return n.formService=t,n}return ee(t,e),t}(di);ji.decorators=[{type:i.Component,args:[{selector:"multiline-text-widget",template:'\n      <div class="adf-multiline-text-widget {{field.className}}"\n           [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly">\n          <mat-form-field floatPlaceholder="never">\n              <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n              <textarea matInput class="adf-input"\n                        matTextareaAutosize\n                        type="text"\n                        rows="3"\n                        [id]="field.id"\n                        [required]="isRequired()"\n                        [(ngModel)]="field.value"\n                        (ngModelChange)="checkVisibility(field)"\n                        [disabled]="field.readOnly || readOnly"\n                        placeholder="{{field.placeholder}}">\n              </textarea>\n          </mat-form-field>\n          <div *ngIf="field.maxLength > 0" class="adf-multiline-word-counter">\n              <span>{{field?.value?.length || 0}}/{{field.maxLength}}</span>\n          </div>\n          <error-widget [error]="field.validationSummary"></error-widget>\n          <error-widget class="adf-multiline-required-message" *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n      </div>\n    ',styles:["\n      .adf-multiline-text-widget {\n        width: 100%; }\n\n      .adf-multiline-word-counter {\n        float: right;\n        margin-top: -20px !important;\n        min-height: 24px;\n        min-width: 1px;\n        font-size: 12px;\n        line-height: 14px;\n        overflow: hidden;\n        -webkit-transition: all 0.3s cubic-bezier(0.55, 0, 0.55, 0.2);\n        transition: all 0.3s cubic-bezier(0.55, 0, 0.55, 0.2);\n        opacity: 1;\n        padding-top: 5px;\n        text-align: right;\n        padding-right: 2px;\n        padding-left: 0; }\n\n      .adf-multiline-required-message {\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex; }\n    "],host:pi,encapsulation:i.ViewEncapsulation.None}]}],ji.ctorParameters=function(){return[{type:ci}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Bi=function(e){function t(t){var n=e.call(this,t)||this;return n.formService=t,n}return ee(t,e),t}(di);Bi.decorators=[{type:i.Component,args:[{selector:"number-widget",template:'\n      <div class="adf-textfield adf-number-widget {{field.className}}"\n           [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly">\n          <mat-form-field>\n              <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n              <input matInput\n                     class="adf-input"\n                     type="text"\n                     pattern="-?[0-9]*(\\.[0-9]+)?"\n                     [id]="field.id"\n                     [required]="isRequired()"\n                     [value]="field.value"\n                     [(ngModel)]="field.value"\n                     (ngModelChange)="checkVisibility(field)"\n                     [disabled]="field.readOnly"\n                     placeholder="{{field.placeholder}}">\n          </mat-form-field>\n          <error-widget [error]="field.validationSummary" ></error-widget>\n          <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n      </div>\n    ',styles:["\n      .adf-number-widget {\n        width: 100%; }\n    "],host:pi,encapsulation:i.ViewEncapsulation.None}]}],Bi.ctorParameters=function(){return[{type:ci}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var qi=function(){function e(e,t){this.alfrescoJsApi=e,this.logService=t}return e.prototype.getWorkflowUsers=function(e,t){var n=this,i={excludeTaskId:e,filter:t};return x.Observable.fromPromise(this.getWorkflowUserApi(i)).map(function(e){return e.data||[]})["catch"](function(e){return n.handleError(e)})},e.prototype.getUserImage=function(e){return this.getUserProfileImageApi(e.id)},e.prototype.involveUserWithTask=function(e,t){var n=this,i={userId:t};return x.Observable.fromPromise(this.involveUserToTaskApi(e,i))["catch"](function(e){return n.handleError(e)})},e.prototype.removeInvolvedUser=function(e,t){var n=this,i={userId:t};return x.Observable.fromPromise(this.removeInvolvedUserFromTaskApi(e,i))["catch"](function(e){return n.handleError(e)})},e.prototype.getWorkflowUserApi=function(e){return this.alfrescoJsApi.getInstance().activiti.usersWorkflowApi.getUsers(e)},e.prototype.involveUserToTaskApi=function(e,t){return this.alfrescoJsApi.getInstance().activiti.taskActionsApi.involveUser(e,t)},e.prototype.removeInvolvedUserFromTaskApi=function(e,t){return this.alfrescoJsApi.getInstance().activiti.taskActionsApi.removeInvolvedUser(e,t)},e.prototype.getUserProfileImageApi=function(e){return this.alfrescoJsApi.getInstance().activiti.userApi.getUserProfilePictureUrl(e)},e.prototype.handleError=function(e){return this.logService.error(e),x.Observable["throw"](e||"Server error")},e}();qi.decorators=[{type:i.Injectable}],qi.ctorParameters=function(){return[{type:re},{type:je}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var zi=function(e){function t(t,n){var i=e.call(this,t)||this;return i.formService=t,i.peopleProcessService=n,i.minTermLength=1,i.users=[],i}return ee(t,e),t.prototype.ngOnInit=function(){if(this.field){var e=this.field.params;if(e&&e.restrictWithGroup){var t=e.restrictWithGroup;this.groupId=t.id}}},t.prototype.onKeyUp=function(e){var t=this.input.nativeElement.value;t&&t.length>=this.minTermLength&&this.oldValue!==t?e.keyCode!==G.ESCAPE&&e.keyCode!==G.ENTER&&t.length>=this.minTermLength&&(this.oldValue=t,this.searchUsers(t)):this.validateValue(t)},t.prototype.searchUsers=function(e){var t=this;this.formService.getWorkflowUsers(e,this.groupId).subscribe(function(n){t.users=n||[],t.validateValue(e)})},t.prototype.validateValue=function(e){this.isValidUser(e)?this.field.validationSummary.message="":e?(this.field.validationSummary.message="FORM.FIELD.VALIDATOR.INVALID_VALUE",this.field.markAsInvalid(),this.field.form.markAsInvalid()):(this.field.value=null,this.users=[])},t.prototype.isValidUser=function(e){var t=this,n=!1;if(e){this.users.find(function(n){return t.getDisplayName(n).toLocaleLowerCase()===e.toLocaleLowerCase()})&&(n=!0)}return n},t.prototype.getDisplayName=function(e){if(e){return((e.firstName||"")+" "+(e.lastName||"")).trim()}return""},t.prototype.onItemSelect=function(e){e&&(this.field.value=e)},t}(di);zi.decorators=[{type:i.Component,args:[{selector:"people-widget",template:'\n      <div class="adf-people-widget {{field.className}}"\n           [class.is-dirty]="value"\n           [class.adf-invalid]="!field.isValid"\n           [class.adf-readonly]="field.readOnly"\n           id="people-widget-content"\n           *ngIf="field.isVisible">\n          <mat-form-field>\n              <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n              <input #inputValue\n                     matInput\n                     class="adf-input"\n                     type="text"\n                     [id]="field.id"\n                     [value]="getDisplayName(field.value)"\n                     (keyup)="onKeyUp($event)"\n                     [disabled]="field.readOnly"\n                     placeholder="{{field.placeholder}}"\n                     [matAutocomplete]="auto">\n              <mat-autocomplete #auto="matAutocomplete" (optionSelected)="onItemSelect($event.option.value)"  [displayWith]="getDisplayName">\n                  <mat-option *ngFor="let user of users; let i = index" [value]="user">\n                      <div class="adf-people-widget-row" id="adf-people-widget-user-{{i}}">\n                          <div [outerHTML]="user | usernameInitials:\'adf-people-widget-pic\'"></div>\n                          <div *ngIf="user.pictureId" class="adf-people-widget-image-row">\n                              <img id="adf-people-widget-pic-{{i}}" class="adf-people-widget-image"\n                                   [src]="peopleProcessService.getUserImage(user)"/>\n                          </div>\n                          <span class="adf-people-label-name">{{getDisplayName(user)}}</span>\n                      </div>\n                  </mat-option>\n              </mat-autocomplete>\n          </mat-form-field>\n          <error-widget [error]="field.validationSummary"></error-widget>\n          <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n      </div>\n    ',styles:["\n\n    "],host:pi,encapsulation:i.ViewEncapsulation.None}]}],zi.ctorParameters=function(){return[{type:ci},{type:qi}]},zi.propDecorators={input:[{type:i.ViewChild,args:["inputValue"]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Yi=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.formService=t,r.visibilityService=n,r.logService=i,r}return ee(t,e),t.prototype.ngOnInit=function(){this.field&&this.field.restUrl&&(this.field.form.taskId?this.getOptionsByTaskId():this.getOptionsByProcessDefinitionId())},t.prototype.getOptionsByTaskId=function(){var e=this;this.formService.getRestFieldValues(this.field.form.taskId,this.field.id).subscribe(function(t){e.field.options=t||[],e.field.updateForm()},function(t){return e.handleError(t)})},t.prototype.getOptionsByProcessDefinitionId=function(){var e=this;this.formService.getRestFieldValuesByProcessId(this.field.form.processDefinitionId,this.field.id).subscribe(function(t){e.field.options=t||[],e.field.updateForm()},function(t){return e.handleError(t)})},t.prototype.onOptionClick=function(e){this.field.value=e,this.checkVisibility()},t.prototype.checkVisibility=function(){this.visibilityService.refreshVisibility(this.field.form)},t.prototype.handleError=function(e){this.logService.error(e)},t}(di);Yi.decorators=[{type:i.Component,args:[{selector:"radio-buttons-widget",template:'\n      <div class="adf-radio-buttons-widget {{field.className}}"\n           [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly" [id]="field.id" *ngIf="field?.isVisible">\n          <div class="adf-radio-button-container">\n              <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n              <mat-radio-group class="adf-radio-group" [(ngModel)]="field.value">\n                  <mat-radio-button\n                      [id]="field.id + \'-\' + opt.id"\n                      [name]="field.id"\n                      [value]="opt.id"\n                      [disabled]="field.readOnly"\n                      [checked]="field.value === opt.id"\n                      (change)="onOptionClick(opt.id)"\n                      color="primary"\n                      class="adf-radio-button" *ngFor="let opt of field.options" >\n                      {{opt.name}}\n                  </mat-radio-button>\n              </mat-radio-group>\n          </div>\n          <error-widget [error]="field.validationSummary" ></error-widget>\n          <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n      </div>\n    ',styles:["\n      .adf-radio-button-container {\n        margin-bottom: 15px; }\n\n      .adf-radio-group {\n        display: -webkit-inline-box;\n        display: -ms-inline-flexbox;\n        display: inline-flex;\n        -webkit-box-orient: vertical;\n        -webkit-box-direction: normal;\n            -ms-flex-direction: column;\n                flex-direction: column; }\n\n      .adf-radio-button {\n        margin: 5px; }\n    "],host:pi,encapsulation:i.ViewEncapsulation.None}]}],Yi.ctorParameters=function(){return[{type:ci},{type:wi},{type:je}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Hi={provide:r.NG_VALUE_ACCESSOR,useExisting:i.forwardRef(function(){return Gi}),multi:!0},Gi=function(){function e(e,t){this.el=e,this.render=t,this.translationMask={0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}},this.byPassKeys=[9,16,17,18,36,37,38,39,40,91],this.invalidCharacters=[],this._onChange=function(e){},this._onTouched=function(){}}return e.prototype.onTextInput=function(e){this.inputMask&&this.inputMask.mask?this.maskValue(this.el.nativeElement.value,this.el.nativeElement.selectionStart,this.inputMask.mask,this.inputMask.isReversed,e.keyCode):this._onChange(this.el.nativeElement.value)},e.prototype.ngOnChanges=function(e){e.inputMask&&e.inputMask.currentValue.mask&&(this.inputMask=e.inputMask.currentValue)},e.prototype.writeValue=function(e){this.el.nativeElement.value=e},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.maskValue=function(e,t,n,i,r){if(-1===this.byPassKeys.indexOf(r)){var o=this.getMasked(!1,e,n,i),a=this.calculateCaretPosition(t,e,r);this.render.setElementAttribute(this.el.nativeElement,"value",o),this.el.nativeElement.value=o,this.setValue(o),this._onChange(o),this.setCaretPosition(a)}},e.prototype.setCaretPosition=function(e){this.el.nativeElement.moveStart=e,this.el.nativeElement.moveEnd=e},e.prototype.calculateCaretPosition=function(e,t,n){var i=t.length,r=this.getValue()||"",o=r.length;return 8===n&&r!==t?e-=t.slice(0,e).length-r.slice(0,e).length:r!==t&&(e>=o?e=i:e+=t.slice(0,e).length-r.slice(0,e).length),e},e.prototype.getMasked=function(e,t,n,i){void 0===i&&(i=!1);var r,o,a,s=[],l=t,u=0,c=n.length,p=0,d=l.length,f=1,m="push",h=-1;for(i?(m="unshift",f=-1,r=0,u=c-1,p=d-1):r=c-1,a=this.isToCheck(i,u,c,p,d);a;){var g=n.charAt(u),y=l.charAt(p),v=this.translationMask[g];v?(y.match(v.pattern)?(s[m](y),v.recursive&&(-1===h?h=u:u===r&&(u=h-f),r===h&&(u-=f)),u+=f):y===o?o=undefined:v.optional?(u+=f,p-=f):this.invalidCharacters.push({index:p,digit:y,translated:v.pattern}),p+=f):(e||s[m](g),y===g?p+=f:o=g,u+=f),a=this.isToCheck(i,u,c,p,d)}var b=n.charAt(r);return c!==d+1||this.translationMask[b]||s.push(b),s.join("")},e.prototype.isToCheck=function(e,t,n,i,r){return e?t>-1&&i>-1:t<n&&i<r},e.prototype.setValue=function(e){this.value=e},e.prototype.getValue=function(){return this.value},e}();Gi.decorators=[{type:i.Directive,args:[{selector:"[textMask]",providers:[Hi]}]}],Gi.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer}]},Gi.propDecorators={inputMask:[{type:i.Input,args:["textMask"]}],onTextInput:[{type:i.HostListener,args:["input",["$event"]]},{type:i.HostListener,args:["keyup",["$event"]]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Wi=function(e){function t(t){var n=e.call(this,t)||this;return n.formService=t,n}return ee(t,e),t.prototype.ngOnInit=function(){this.field.params&&this.field.params.inputMask&&(this.mask=this.field.params.inputMask,this.isMaskReversed=!!this.field.params.inputMaskReversed&&this.field.params.inputMaskReversed)},t}(di);Wi.decorators=[{type:i.Component,args:[{selector:"text-widget",template:'\n      <div class="adf-textfield adf-text-widget {{field.className}}"\n           [class.adf-invalid]="!field.isValid" [class.adf-readonly]="field.readOnly">\n          <mat-form-field>\n              <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n              <input matInput\n                     class="adf-input"\n                     type="text"\n                     [id]="field.id"\n                     [required]="isRequired()"\n                     [value]="field.value"\n                     [(ngModel)]="field.value"\n                     (ngModelChange)="onFieldChanged(field)"\n                     [disabled]="field.readOnly || readOnly"\n                     [textMask]="{mask: mask, isReversed: isMaskReversed}"\n                     placeholder="{{field.placeholder}}">\n          </mat-form-field>\n          <error-widget [error]="field.validationSummary"></error-widget>\n          <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n      </div>\n    ',styles:["\n      .adf-text-widget {\n        width: 100%; }\n    "],host:pi,encapsulation:i.ViewEncapsulation.None}]}],Wi.ctorParameters=function(){return[{type:ci}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var $i=function(e){function t(t,n,i){var r=e.call(this,t)||this;return r.formService=t,r.visibilityService=n,r.logService=i,r.minTermLength=1,r.options=[],r}return ee(t,e),t.prototype.ngOnInit=function(){this.field.form.taskId?this.getValuesByTaskId():this.field.form.processDefinitionId&&this.getValuesByProcessDefinitionId(),this.isReadOnlyType()&&(this.value=this.field.value)},t.prototype.getValuesByTaskId=function(){var e=this;this.formService.getRestFieldValues(this.field.form.taskId,this.field.id).subscribe(function(t){var n=t||[];e.field.options=n;var i=e.field.value;if(i){var r=n.find(function(e){return e.id===i});r&&(e.value=r.name)}e.field.updateForm(),e.visibilityService.refreshEntityVisibility(e.field)},function(t){return e.handleError(t)})},t.prototype.getValuesByProcessDefinitionId=function(){var e=this;this.formService.getRestFieldValuesByProcessId(this.field.form.processDefinitionId,this.field.id).subscribe(function(t){var n=t||[];e.field.options=n;var i=e.field.value;if(i){var r=n.find(function(e){return e.id===i});r&&(e.value=r.name)}e.field.updateForm(),e.visibilityService.refreshEntityVisibility(e.field)},function(t){return e.handleError(t)})},t.prototype.getOptions=function(){var e=this.value.trim().toLocaleLowerCase();return this.field.options.filter(function(t){return t.name.toLocaleLowerCase().indexOf(e)>-1})},t.prototype.isValidOptionName=function(e){return!!this.field.options.find(function(t){return t.name&&t.name.toLocaleLowerCase()===e.toLocaleLowerCase()})},t.prototype.onKeyUp=function(e){this.value&&this.value.trim().length>=this.minTermLength&&this.oldValue!==this.value&&e.keyCode!==G.ESCAPE&&e.keyCode!==G.ENTER&&this.value.length>=this.minTermLength&&(this.options=this.getOptions(),this.oldValue=this.value,this.isValidOptionName(this.value)&&(this.field.value=this.options[0].id)),this.isValueDefined()&&0===this.value.trim().length&&(this.oldValue=this.value,this.options=[])},t.prototype.onItemSelect=function(e){e&&(this.field.value=e.id,this.value=e.name,this.checkVisibility())},t.prototype.validate=function(){this.field.value=this.value},t.prototype.isValueDefined=function(){return null!==this.value&&this.value!==undefined},t.prototype.handleError=function(e){this.logService.error(e)},t.prototype.checkVisibility=function(){this.visibilityService.refreshVisibility(this.field.form)},t.prototype.isReadOnlyType=function(){return"readonly"===this.field.type},t}(di);$i.decorators=[{type:i.Component,args:[{selector:"typeahead-widget",template:'\n      <div class="adf-typeahead-widget-container">\n          <div class="adf-typeahead-widget {{field.className}}"\n              [class.is-dirty]="value"\n              [class.adf-invalid]="!field.isValid"\n              [class.adf-readonly]="field.readOnly"\n              id="typehead-div" *ngIf="field.isVisible">\n              <mat-form-field>\n                  <label class="adf-label" [attr.for]="field.id">{{field.name}}</label>\n                  <input matInput class="adf-input"\n                         type="text"\n                         [id]="field.id"\n                         [(ngModel)]="value"\n                         (ngModelChange)="validate()"\n                         (keyup)="onKeyUp($event)"\n                         [disabled]="field.readOnly"\n                         placeholder="{{field.placeholder}}"\n                         [matAutocomplete]="auto">\n                  <mat-autocomplete #auto="matAutocomplete" (optionSelected)="onItemSelect($event.option.value)">\n                      <mat-option *ngFor="let item of options" [value]="item">\n                          <span [id]="field.name+\'_option_\'+item.id">{{item.name}}</span>\n                      </mat-option>\n                  </mat-autocomplete>\n              </mat-form-field>\n\n              <error-widget [error]="field.validationSummary"></error-widget>\n              <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n          </div>\n      </div>\n    ',styles:["\n      .adf-typeahead-widget-container {\n        position: relative;\n        display: block; }\n\n      .adf-typeahead-widget {\n        width: 100%; }\n    "],host:pi,encapsulation:i.ViewEncapsulation.None}]}],$i.ctorParameters=function(){return[{type:ci},{type:wi},{type:je}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Xi=function(){function e(e,t){this.apiService=e,this.logService=t}return Object.defineProperty(e.prototype,"contentApi",{get:function(){return this.apiService.getInstance().activiti.contentApi},enumerable:!0,configurable:!0}),e.prototype.createTemporaryRawRelatedContent=function(e){var t=this;return x.Observable.fromPromise(this.contentApi.createTemporaryRawRelatedContent(e))["catch"](function(e){return t.handleError(e)})},e.prototype.getFileContent=function(e){var t=this;return x.Observable.fromPromise(this.contentApi.getContent(e))["catch"](function(e){return t.handleError(e)})},e.prototype.getFileRawContent=function(e){var t=this;return x.Observable.fromPromise(this.contentApi.getRawContent(e))["catch"](function(e){return t.handleError(e)})},e.prototype.getContentPreview=function(e){var t=this;return new x.Observable(function(n){t.contentApi.getContentPreview(e).then(function(e){n.next(e),n.complete()},function(){t.contentApi.getRawContent(e).then(function(e){n.next(e),n.complete()},function(e){n.error(e),n.complete()})})})},e.prototype.getFileRawContentUrl=function(e){return this.contentApi.getRawContentUrl(e)},e.prototype.getContentThumbnail=function(e){var t=this;return x.Observable.fromPromise(this.contentApi.getContentThumbnail(e))["catch"](function(e){return t.handleError(e)})},e.prototype.getTaskRelatedContent=function(e){var t=this;return x.Observable.fromPromise(this.contentApi.getRelatedContentForTask(e))["catch"](function(e){return t.handleError(e)})},e.prototype.getProcessRelatedContent=function(e){var t=this;return x.Observable.fromPromise(this.contentApi.getRelatedContentForProcessInstance(e))["catch"](function(e){return t.handleError(e)})},e.prototype.deleteRelatedContent=function(e){var t=this;return x.Observable.fromPromise(this.contentApi.deleteContent(e))["catch"](function(e){return t.handleError(e)})},e.prototype.createProcessRelatedContent=function(e,t,n){var i=this;return x.Observable.fromPromise(this.contentApi.createRelatedContentOnProcessInstance(e,t,n))["catch"](function(e){return i.handleError(e)})},e.prototype.createTaskRelatedContent=function(e,t,n){var i=this;return x.Observable.fromPromise(this.contentApi.createRelatedContentOnTask(e,t,n))["catch"](function(e){return i.handleError(e)})},e.prototype.toJson=function(e){return e?e||{}:{}},e.prototype.toJsonArray=function(e){return e?e.data||[]:[]},e.prototype.handleError=function(t){var n=e.UNKNOWN_ERROR_MESSAGE;return t&&(n=t.message?t.message:t.status?t.status+" - "+t.statusText:e.GENERIC_ERROR_MESSAGE),this.logService.error(n),x.Observable["throw"](n)},e}();Xi.UNKNOWN_ERROR_MESSAGE="Unknown error",Xi.GENERIC_ERROR_MESSAGE="Server error",Xi.decorators=[{type:i.Injectable}],Xi.ctorParameters=function(){return[{type:re},{type:je}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ki=function(e){function t(t,n,i,r){var o=e.call(this,t)||this;return o.formService=t,o.logService=n,o.thumbnailService=i,o.processContentService=r,o.multipleOption="",o}return ee(t,e),t.prototype.ngOnInit=function(){this.field&&this.field.value&&this.field.value.length>0&&(this.hasFile=!0),this.getMultipleFileParam()},t.prototype.removeFile=function(e){this.field&&this.removeElementFromList(e)},t.prototype.onFileChanged=function(e){var t=this,n=e.target.files,i=[];this.field.json.value&&(i=this.field.json.value.slice()),n&&n.length>0&&(x.Observable.from(n).mergeMap(function(e){return t.uploadRawContent(e)}).subscribe(function(e){i.push(e)},function(e){t.logService.error("Error uploading file. See console output for more details.")},function(){t.field.value=i,t.field.json.value=i}),this.hasFile=!0)},t.prototype.uploadRawContent=function(e){var t=this;return this.processContentService.createTemporaryRawRelatedContent(e).map(function(e){return t.logService.info(e),e})},t.prototype.getMultipleFileParam=function(){this.field&&this.field.params&&this.field.params.multiple&&(this.multipleOption=this.field.params.multiple?"multiple":"")},t.prototype.removeElementFromList=function(e){var t=this.field.value.indexOf(e);-1!==t&&(this.field.value.splice(t,1),this.field.json.value=this.field.value,this.field.updateForm()),this.hasFile=this.field.value.length>0,this.resetFormValueWithNoFiles()},t.prototype.resetFormValueWithNoFiles=function(){0===this.field.value.length&&(this.field.value=[],this.field.json.value=[])},t.prototype.getIcon=function(e){return this.thumbnailService.getMimeTypeIcon(e)},t.prototype.fileClicked=function(e){var t=this,n=new li(e),i=this.processContentService.getContentPreview(n.id);(n.isTypeImage()||n.isTypePdf())&&(i=this.processContentService.getFileRawContent(n.id)),i.subscribe(function(e){n.contentBlob=e,t.formService.formContentClicked.next(n)},function(e){t.logService.error("Unable to send event for file "+n.name)})},t}(di);Ki.decorators=[{type:i.Component,args:[{selector:"upload-widget",template:'\n      <div class="adf-upload-widget {{field.className}}"\n           [class.adf-invalid]="!field.isValid"\n           [class.adf-readonly]="field.readOnly">\n          <label class="adf-label" [attr.for]="field.id">{{field.name}}<span *ngIf="isRequired()">*</span></label>\n          <div class="adf-upload-widget-container">\n              <div>\n                  <mat-list *ngIf="hasFile">\n                      <mat-list-item class="adf-upload-files-row" *ngFor="let file of field.value">\n                          <img mat-list-icon class="adf-upload-widget__icon"\n                               [id]="\'file-\'+file.id+\'-icon\'"\n                               [src]="getIcon(file.mimeType)"\n                               [alt]="mimeTypeIcon"\n                               (click)="fileClicked(file)"\n                               (keyup.enter)="fileClicked(file)"\n                               role="button"\n                               tabindex="0"/>\n                          <span matLine id="{{\'file-\'+file.id}}" (click)="fileClicked(file)" (keyup.enter)="fileClicked(file)"\n                                role="button" tabindex="0" class="adf-file">{{file.name}}</span>\n                          <button *ngIf="!field.readOnly" mat-icon-button [id]="\'file-\'+file.id+\'-remove\'"\n                                  (click)="removeFile(file);" (keyup.enter)="removeFile(file);">\n                              <mat-icon class="mat-24">highlight_off</mat-icon>\n                          </button>\n                      </mat-list-item>\n                  </mat-list>\n              </div>\n\n              <div class="button-row" *ngIf="(!hasFile || multipleOption) && !field.readOnly">\n                  <a mat-raised-button color="primary">\n                      {{ \'FORM.FIELD.UPLOAD\' | translate }}<mat-icon>file_upload</mat-icon>\n                      <input #uploadFiles\n                             [multiple]="multipleOption"\n                             type="file"\n                             [id]="field.id"\n                             (change)="onFileChanged($event)"/>\n                  </a>\n              </div>\n          </div>\n          <error-widget [error]="field.validationSummary"></error-widget>\n          <error-widget *ngIf="isInvalidFieldRequired()" required="{{ \'FORM.FIELD.REQUIRED\' | translate }}"></error-widget>\n      </div>\n    ',styles:["\n      .adf-upload-widget-container {\n        margin-bottom: 15px; }\n        .adf-upload-widget-container input {\n          cursor: pointer;\n          height: 100%;\n          right: 0;\n          opacity: 0;\n          position: absolute;\n          top: 0;\n          width: 300px;\n          z-index: 4; }\n\n      .adf-upload-widget {\n        width: 100%;\n        word-break: break-all;\n        padding: 0.4375em 0;\n        border-top: 0.84375em solid transparent; }\n\n      .adf-upload-widget__icon {\n        padding: 6px;\n        float: left;\n        cursor: pointer; }\n\n      .adf-upload-widget__reset {\n        margin-top: -2px; }\n\n      .adf-upload-files-row .mat-line {\n        margin-bottom: 0px; }\n    "],host:pi,encapsulation:i.ViewEncapsulation.None}]}],Ki.ctorParameters=function(){return[{type:ci},{type:je},{type:Ye},{type:Xi}]},Ki.propDecorators={fileInput:[{type:i.ViewChild,args:["uploadFiles"]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ji=[gi,hi,mi,Wi,Bi,Ii,ji,Ti,Ui,Yi,Si,Ki,bi,$i,Ni,zi,Ei,yi,Ri,Di,_i,Ai,Vi,Li,Mi,Ci],Qi=[Gi],Zi=function(){return function(){}}();Zi.decorators=[{type:i.Directive,args:[{selector:"[form-custom-button]"}]}],Zi.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var er=function(e){function t(){var t=e.call(this)||this;return t.defaultValue=gi,t.types={text:we.fromType(Wi),string:we.fromType(Wi),integer:we.fromType(Bi),"multi-line-text":we.fromType(ji),"boolean":we.fromType(Ii),dropdown:we.fromType(Ti),date:we.fromType(Ei),amount:we.fromType(yi),"radio-buttons":we.fromType(Yi),hyperlink:we.fromType(Ui),"readonly-text":we.fromType(Si),typeahead:we.fromType($i),people:we.fromType(zi),"functional-group":we.fromType(Ni),"dynamic-table":we.fromType(Ri),container:we.fromType(mi),group:we.fromType(mi),document:we.fromType(Ci)},t.types.upload=function(e){if(e){var t=e.params;return t&&t.link?bi:Ki}return gi},t}return ee(t,e),t}(Ie);er.decorators=[{type:i.Injectable}],er.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var tr=function(){function e(e,t,n,i){this.formRenderingService=e,this.componentFactoryResolver=t,this.visibilityService=n,this.compiler=i,this.field=null,this.focus=!1}return e.prototype.ngOnInit=function(){var e=this,t=this.getField();if(t){var n=this.field.form.customFieldTemplates[t.type];if(n&&this.hasController(t.type)){r=this.getComponentFactorySync(t.type,n);this.componentRef=this.container.createComponent(r);(o=this.componentRef.instance)&&(o.field=t)}else{var i=this.formRenderingService.resolveComponentType(t);if(i){var r=this.componentFactoryResolver.resolveComponentFactory(i);this.componentRef=this.container.createComponent(r);var o=this.componentRef.instance;o.field=this.field,o.fieldChanged.subscribe(function(t){t&&e.field.form&&e.visibilityService.refreshVisibility(e.field.form)})}}}},e.prototype.ngOnDestroy=function(){this.componentRef&&(this.componentRef.destroy(),this.componentRef=null)},e.prototype.getField=function(){if(this.field&&this.field.params){var e=this.field.params.field;if(e&&e.type)return e}return this.field},e.prototype.hasController=function(e){return adf&&adf.components&&adf.components[e]},e.prototype.getComponentFactorySync=function(e,t){var n=adf.components[e];if(n.factory)return n.factory;var i={selector:"runtime-component-"+e,template:t},r=this.createComponentFactorySync(this.compiler,i,n["class"]);return n.factory=r,r},e.prototype.createComponentFactorySync=function(e,t,n){var r=n||function(){return function(){}}(),o=i.Component(t)(r),a=function(){return function(){}}();a.decorators=[{type:i.NgModule,args:[{imports:[],declarations:[o]}]}],a.ctorParameters=function(){return[]};return e.compileModuleAndAllComponentsSync(a).componentFactories.find(function(e){return e.componentType===o})},e.prototype.focusToggle=function(){this.focus=!this.focus},e}();tr.decorators=[{type:i.Component,args:[{selector:"adf-form-field, form-field",template:'\n        <div [hidden]="!field?.isVisible"\n            [class.adf-focus]="focus"\n            (focusin)="focusToggle()"\n            (focusout)="focusToggle()">\n            <div #container></div>\n        </div>\n    ',encapsulation:i.ViewEncapsulation.None}]}],tr.ctorParameters=function(){return[{type:er},{type:i.ComponentFactoryResolver},{type:wi},{type:i.Compiler}]},tr.propDecorators={container:[{type:i.ViewChild,args:["container",{read:i.ViewContainerRef}]}],field:[{type:i.Input}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var nr=function(){function e(e){this.formService=e,this.forms=[]}return e.prototype.ngOnChanges=function(e){this.getForms()},e.prototype.isEmpty=function(){return this.forms&&0===this.forms.length},e.prototype.getForms=function(){var e=this;this.formService.getForms().subscribe(function(t){(n=e.forms).push.apply(n,t);var n})},e}();nr.decorators=[{type:i.Component,args:[{selector:"adf-form-list",template:'\n      <adf-datatable *ngIf="!isEmpty()"\n          [rows]="forms">\n          <data-columns>\n              <data-column key="name" type="text" title="Name" class="ellipsis-cell" [sortable]="true"></data-column>\n              <data-column key="lastUpdatedByFullName" type="text" title="User" class="ellipsis-cell" [sortable]="true"></data-column>\n              <data-column key="lastUpdated" type="date" format="shortDate" title="Date"></data-column>\n          </data-columns>\n      </adf-datatable>\n    ',styles:["\n\n    "],encapsulation:i.ViewEncapsulation.None}]}],nr.ctorParameters=function(){return[{type:ci}]},nr.propDecorators={forms:[{type:i.Input}]};var ir=function(){return function(e,t){this.metadata=e,this.nodeType=t}}(),rr=function(){function e(e){this.apiService=e}return e.prototype.getNodeMetadata=function(e){return x.Observable.fromPromise(this.apiService.getInstance().nodes.getNodeInfo(e)).map(this.cleanMetadataFromSemicolon)},e.prototype.createNodeMetadata=function(e,t,n,i,r){var o={};for(var a in n)n[a]&&(o[t+":"+a]=n[a]);return this.createNode(r||this.generateUuid(),e,o,i)},e.prototype.createNode=function(e,t,n,i){var r={name:e,nodeType:t,properties:n,relativePath:i},o=this.apiService.getInstance();return x.Observable.fromPromise(o.nodes.addNode("-root-",r,{}))},e.prototype.generateUuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},e.prototype.cleanMetadataFromSemicolon=function(e){var t={};if(e&&e.properties)for(var n in e.properties)n&&(-1!==n.indexOf(":")?t[n.split(":")[1]]=e.properties[n]:t[n]=e.properties[n]);return new ir(t,e.nodeType)},e}();rr.decorators=[{type:i.Injectable}],rr.ctorParameters=function(){return[{type:re}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var or=function(){function e(e,t,n,r){this.formService=e,this.visibilityService=t,this.ecmModelService=n,this.nodeService=r,this.saveMetadata=!1,this.showTitle=!0,this.showCompleteButton=!0,this.disableCompleteButton=!1,this.disableStartProcessButton=!1,this.showSaveButton=!0,this.showDebugButton=!1,this.readOnly=!1,this.showRefreshButton=!0,this.showValidationIcon=!0,this.fieldValidators=[],this.formSaved=new i.EventEmitter,this.formCompleted=new i.EventEmitter,this.formContentClicked=new i.EventEmitter,this.formLoaded=new i.EventEmitter,this.formDataRefreshed=new i.EventEmitter,this.executeOutcome=new i.EventEmitter,this.onError=new i.EventEmitter,this.debugMode=!1}return e.prototype.hasForm=function(){return!!this.form},e.prototype.isTitleEnabled=function(){return!!(this.showTitle&&this.form&&this.form.taskName)},e.prototype.isOutcomeButtonEnabled=function(e){return!this.form.readOnly&&(!!e&&(e.name===ri.SAVE_ACTION||(e.name===ri.COMPLETE_ACTION?!this.disableCompleteButton&&this.form.isValid:e.name===ri.START_PROCESS_ACTION?!this.disableStartProcessButton&&this.form.isValid:this.form.isValid)))},e.prototype.isOutcomeButtonVisible=function(e,t){return!(!e||!e.name)&&(e.name===ri.COMPLETE_ACTION?this.showCompleteButton:t?e.isSelected:e.name===ri.SAVE_ACTION?this.showSaveButton:e.name!==ri.START_PROCESS_ACTION)},e.prototype.ngOnInit=function(){var e=this;this.formService.formContentClicked.subscribe(function(t){e.formContentClicked.emit(t)})},e.prototype.ngOnChanges=function(e){var t=e.taskId;if(t&&t.currentValue)this.getFormByTaskId(t.currentValue);else{var n=e.formId;if(n&&n.currentValue)this.getFormDefinitionByFormId(n.currentValue);else{var i=e.formName;if(i&&i.currentValue)this.getFormDefinitionByFormName(i.currentValue);else{var r=e.nodeId;if(r&&r.currentValue)this.loadFormForEcmNode(r.currentValue);else{var o=e.data;o&&o.currentValue&&this.refreshFormData()}}}}},e.prototype.onOutcomeClicked=function(t){if(!this.readOnly&&t&&this.form){if(!this.onExecuteOutcome(t))return!1;if(t.isSystem){if(t.id===e.SAVE_OUTCOME_ID)return this.saveTaskForm(),!0;if(t.id===e.COMPLETE_OUTCOME_ID)return this.completeTaskForm(),!0;if(t.id===e.START_PROCESS_OUTCOME_ID)return this.completeTaskForm(),!0;if(t.id===e.CUSTOM_OUTCOME_ID)return this.onTaskSaved(this.form),this.storeFormAsMetadata(),!0}else if(t.name)return this.onTaskSaved(this.form),this.completeTaskForm(t.name),!0}return!1},e.prototype.onRefreshClicked=function(){this.loadForm()},e.prototype.loadForm=function(){this.taskId?this.getFormByTaskId(this.taskId):this.formId?this.getFormDefinitionByFormId(this.formId):this.formName&&this.getFormDefinitionByFormName(this.formName)},e.prototype.findProcessVariablesByTaskId=function(e){var t=this;return this.formService.getTask(e).switchMap(function(n){return t.isAProcessTask(n)?t.visibilityService.getTaskProcessVariable(e):x.Observable.of({})})},e.prototype.isAProcessTask=function(e){return e.processDefinitionId&&"null"!==e.processDefinitionDeploymentId},e.prototype.getFormByTaskId=function(e){var t=this;return new Promise(function(n,i){t.findProcessVariablesByTaskId(e).subscribe(function(i){t.formService.getTaskForm(e).subscribe(function(e){var i=t.parseForm(e);t.visibilityService.refreshVisibility(i),t.form=i,t.onFormLoaded(t.form),n(t.form)},function(e){t.handleError(e),n(null)})})})},e.prototype.getFormDefinitionByFormId=function(e){var t=this;this.formService.getFormDefinitionById(e).subscribe(function(e){t.formName=e.name,t.form=t.parseForm(e),t.onFormLoaded(t.form)},function(e){t.handleError(e)})},e.prototype.getFormDefinitionByFormName=function(e){var t=this;this.formService.getFormDefinitionByName(e).subscribe(function(e){t.formService.getFormDefinitionById(e).subscribe(function(e){t.form=t.parseForm(e),t.onFormLoaded(t.form)},function(e){t.handleError(e)})},function(e){t.handleError(e)})},e.prototype.saveTaskForm=function(){var e=this;this.form&&this.form.taskId&&this.formService.saveTaskForm(this.form.taskId,this.form.values).subscribe(function(){e.onTaskSaved(e.form),e.storeFormAsMetadata()},function(t){return e.onTaskSavedError(e.form,t)})},e.prototype.completeTaskForm=function(e){var t=this;this.form&&this.form.taskId&&this.formService.completeTaskForm(this.form.taskId,this.form.values,e).subscribe(function(){t.onTaskCompleted(t.form),t.storeFormAsMetadata()},function(e){return t.onTaskCompletedError(t.form,e)})},e.prototype.handleError=function(e){this.onError.emit(e)},e.prototype.parseForm=function(e){if(e){var t=new ai(e,this.data,this.readOnly,this.formService);return e.fields||(t.outcomes=this.getFormDefinitionOutcomes(t)),this.fieldValidators&&this.fieldValidators.length>0&&(t.fieldValidators=this.fieldValidators),t}return null},e.prototype.getFormDefinitionOutcomes=function(e){return[new ri(e,{id:"$custom",name:ri.SAVE_ACTION,isSystem:!0})]},e.prototype.checkVisibility=function(e){e&&e.form&&this.visibilityService.refreshVisibility(e.form)},e.prototype.refreshFormData=function(){this.form=this.parseForm(this.form.json),this.onFormLoaded(this.form),this.onFormDataRefreshed(this.form)},e.prototype.loadFormForEcmNode=function(e){var t=this;this.nodeService.getNodeMetadata(e).subscribe(function(e){t.data=e.metadata,t.loadFormFromActiviti(e.nodeType)},this.handleError)},e.prototype.loadFormFromActiviti=function(e){var t=this;this.formService.searchFrom(e).subscribe(function(n){n?t.loadFormFromFormId(n.id):t.formService.createFormFromANode(e).subscribe(function(e){t.loadFormFromFormId(e.id)})},function(e){t.handleError(e)})},e.prototype.loadFormFromFormId=function(e){this.formId=e,this.loadForm()},e.prototype.storeFormAsMetadata=function(){var e=this;this.saveMetadata&&this.ecmModelService.createEcmTypeForActivitiForm(this.formName,this.form).subscribe(function(t){e.nodeService.createNodeMetadata(t.nodeType||t.entry.prefixedName,ui.MODEL_NAMESPACE,e.form.values,e.path,e.nameNode)},function(t){e.handleError(t)})},e.prototype.onFormLoaded=function(e){this.formLoaded.emit(e),this.formService.formLoaded.next(new Jn(e))},e.prototype.onFormDataRefreshed=function(e){this.formDataRefreshed.emit(e),this.formService.formDataRefreshed.next(new Jn(e))},e.prototype.onTaskSaved=function(e){this.formSaved.emit(e),this.formService.taskSaved.next(new Jn(e))},e.prototype.onTaskSavedError=function(e,t){this.handleError(t),this.formService.taskSavedError.next(new Qn(e,t))},e.prototype.onTaskCompleted=function(e){this.formCompleted.emit(e),this.formService.taskCompleted.next(new Jn(e))},e.prototype.onTaskCompletedError=function(e,t){this.handleError(t),this.formService.taskCompletedError.next(new Qn(e,t))},e.prototype.onExecuteOutcome=function(e){var t=new si(e);return this.formService.executeOutcome.next(t),!t.defaultPrevented&&(this.executeOutcome.emit(t),!t.defaultPrevented)},e}();or.SAVE_OUTCOME_ID="$save",or.COMPLETE_OUTCOME_ID="$complete",or.START_PROCESS_OUTCOME_ID="$startProcess",or.CUSTOM_OUTCOME_ID="$custom",or.decorators=[{type:i.Component,args:[{selector:"adf-form",template:'\n      <div *ngIf="!hasForm()">\n          <ng-content select="[empty-form]">\n          </ng-content>\n      </div>\n      <div *ngIf="hasForm()" class="{{form.className}}">\n          <mat-card>\n              <mat-card-header>\n                  <mat-card-title>\n                      <h4 *ngIf="isTitleEnabled()">\n                          <div *ngIf="showRefreshButton" class="adf-form-reload-button">\n                              <button mat-icon-button (click)="onRefreshClicked()">\n                                  <mat-icon>refresh</mat-icon>\n                              </button>\n                          </div>\n                          <mat-icon>{{ form.isValid ? \'event_available\' : \'event_busy\' }}</mat-icon>\n                          <span>{{form.taskName}}</span>\n\n                      </h4>\n                  </mat-card-title>\n              </mat-card-header>\n              <mat-card-content>\n                  <div *ngIf="form.hasTabs()">\n                      <tabs-widget [tabs]="form.tabs" (formTabChanged)="checkVisibility($event);"></tabs-widget>\n                  </div>\n\n                  <div *ngIf="!form.hasTabs() && form.hasFields()">\n                      <div *ngFor="let field of form.fields">\n                          <form-field [field]="field.field"></form-field>\n                      </div>\n                  </div>\n              </mat-card-content>\n              <mat-card-actions *ngIf="form.hasOutcomes()">\n                  \x3c!--[class.mdl-button--colored]="!outcome.isSystem"--\x3e\n                  <button *ngFor="let outcome of form.outcomes"\n                          mat-button\n                          [disabled]="!isOutcomeButtonEnabled(outcome)"\n                          [class.adf-form-hide-button]="!isOutcomeButtonVisible(outcome, form.readOnly)"\n                          (click)="onOutcomeClicked(outcome, $event)">\n                      {{outcome.name | uppercase}}\n                  </button>\n              </mat-card-actions>\n          </mat-card>\n      </div>\n      \x3c!--\n      For debugging and data visualisation purposes,\n      will be removed during future revisions\n      --\x3e\n      <div *ngIf="showDebugButton" class="adf-form-debug-container">\n          <mat-slide-toggle [(ngModel)]="debugMode">Debug mode</mat-slide-toggle>\n          <div *ngIf="debugMode && hasForm()">\n              <h4>Values</h4>\n              <pre>{{form.values | json}}</pre>\n\n              <h4>Form</h4>\n              <pre>{{form.json | json}}</pre>\n          </div>\n      </div>\n    ',styles:["\n      .adf-form-container {\n        width: 100%;\n        min-height: 100px;\n        overflow: visible; }\n\n      .adf-form-debug-container {\n        padding: 10px; }\n\n      .adf-form-debug-container .debug-toggle-text {\n        padding-left: 15px;\n        cursor: pointer; }\n\n      .adf-form-debug-container .debug-toggle-text:hover {\n        font-weight: bold; }\n\n      .adf-form-reload-button {\n        position: absolute;\n        right: 0;\n        top: 0; }\n\n      .adf-form-hide-button {\n        display: none; }\n\n      .adf-task-title {\n        text-align: center; }\n\n      form-field {\n        width: 100%; }\n        form-field .mat-input-element {\n          font-size: 14px;\n          padding-top: 8px;\n          line-height: normal; }\n    "],encapsulation:i.ViewEncapsulation.None}]}],or.ctorParameters=function(){return[{type:ci},{type:wi},{type:ui},{type:rr}]},or.propDecorators={form:[{type:i.Input}],taskId:[{type:i.Input}],nodeId:[{type:i.Input}],formId:[{type:i.Input}],formName:[{type:i.Input}],saveMetadata:[{type:i.Input}],data:[{type:i.Input}],path:[{type:i.Input}],nameNode:[{type:i.Input}],showTitle:[{type:i.Input}],showCompleteButton:[{type:i.Input}],disableCompleteButton:[{type:i.Input}],disableStartProcessButton:[{type:i.Input}],showSaveButton:[{type:i.Input}],showDebugButton:[{type:i.Input}],readOnly:[{type:i.Input}],showRefreshButton:[{type:i.Input}],showValidationIcon:[{type:i.Input}],fieldValidators:[{type:i.Input}],formSaved:[{type:i.Output}],formCompleted:[{type:i.Output}],formContentClicked:[{type:i.Output}],formLoaded:[{type:i.Output}],formDataRefreshed:[{type:i.Output}],executeOutcome:[{type:i.Output}],onError:[{type:i.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ar=function(e){function t(t,n,r){var o=e.call(this,t,n,null,null)||this;return o.showOutcomeButtons=!0,o.showRefreshButton=!0,o.readOnlyForm=!1,o.outcomeClick=new i.EventEmitter,o.formContentClicked=new i.EventEmitter,o.outcomesContainer=null,o.showTitle=!1,o}return ee(t,e),t.prototype.ngOnInit=function(){var e=this;this.formService.formContentClicked.subscribe(function(t){e.formContentClicked.emit(t)})},t.prototype.ngOnChanges=function(e){var t=e.processDefinitionId;if(t&&t.currentValue)return this.visibilityService.cleanProcessVariable(),void this.getStartFormDefinition(t.currentValue);var n=e.processId;return n&&n.currentValue?(this.visibilityService.cleanProcessVariable(),void this.loadStartForm(n.currentValue)):void 0},t.prototype.loadStartForm=function(e){var t=this;this.formService.getProcessIntance(e).subscribe(function(n){t.formService.getStartFormInstance(e).subscribe(function(e){t.formName=e.name,n.variables&&(e.processVariables=n.variables),t.form=t.parseForm(e),t.form.readOnly=t.readOnlyForm,t.onFormLoaded(t.form)},function(e){return t.handleError(e)})})},t.prototype.getStartFormDefinition=function(e){var t=this;this.formService.getStartFormDefinition(e).subscribe(function(e){t.formName=e.processDefinitionName,t.form=t.parseForm(e),t.form.readOnly=t.readOnlyForm,t.onFormLoaded(t.form)},function(e){return t.handleError(e)})},t.prototype.isOutcomeButtonVisible=function(t,n){return(!t||!t.isSystem||t.name!==ri.SAVE_ACTION&&t.name!==ri.COMPLETE_ACTION)&&(!(!t||t.name!==ri.START_PROCESS_ACTION)||e.prototype.isOutcomeButtonVisible.call(this,t,n))},t.prototype.saveTaskForm=function(){},t.prototype.onRefreshClicked=function(){this.processDefinitionId?(this.visibilityService.cleanProcessVariable(),this.getStartFormDefinition(this.processDefinitionId)):this.processId&&(this.visibilityService.cleanProcessVariable(),this.loadStartForm(this.processId))},t.prototype.completeTaskForm=function(e){this.outcomeClick.emit(e)},t}(or);ar.decorators=[{type:i.Component,args:[{selector:"adf-start-form",template:'\n      <div class="adf-start-form-container" *ngIf="hasForm()">\n          <mat-card>\n              <mat-card-header>\n                  <mat-card-title>\n                      <h2 *ngIf="isTitleEnabled()" class="mdl-card__title-text">{{form.taskName}}</h2>\n                  </mat-card-title>\n              </mat-card-header>\n              <mat-card-content>\n                  <div *ngIf="form.hasTabs()">\n                      <tabs-widget [tabs]="form.tabs" (formTabChanged)="checkVisibility($event);"></tabs-widget>\n                  </div>\n\n                  <div *ngIf="!form.hasTabs() && form.hasFields()">\n                      <div *ngFor="let field of form.fields">\n                          <form-field [field]="field.field"></form-field>\n                      </div>\n                  </div>\n              </mat-card-content>\n              <mat-card-content class="adf-start-form-actions" *ngIf="showOutcomeButtons && form.hasOutcomes()" #outcomesContainer>\n                   <ng-content select="[form-custom-button]"></ng-content>\n                  <button *ngFor="let outcome of form.outcomes"\n                          mat-button\n                          [disabled]="!isOutcomeButtonEnabled(outcome)"\n                          [class.mdl-button--colored]="!outcome.isSystem"\n                          [class.adf-form-hide-button]="!isOutcomeButtonVisible(outcome, form.readOnly)"\n                          (click)="onOutcomeClicked(outcome, $event)">\n                      {{outcome.name}}\n                  </button>\n              </mat-card-content>\n              <mat-card-actions *ngIf="showRefreshButton">\n                  <button mat-button\n                          (click)="onRefreshClicked()">\n                      <mat-icon>refresh</mat-icon>\n                  </button>\n              </mat-card-actions>\n          </mat-card>\n      </div>\n    ',styles:["\n      .adf-form-container {\n        width: 100%;\n        min-height: 100px;\n        overflow: visible; }\n\n      .adf-form-debug-container {\n        padding: 10px; }\n\n      .adf-form-debug-container .debug-toggle-text {\n        padding-left: 15px;\n        cursor: pointer; }\n\n      .adf-form-debug-container .debug-toggle-text:hover {\n        font-weight: bold; }\n\n      .adf-form-reload-button {\n        position: absolute;\n        right: 0;\n        top: 0; }\n\n      .adf-form-hide-button {\n        display: none; }\n\n      .adf-task-title {\n        text-align: center; }\n\n      form-field {\n        width: 100%; }\n        form-field .mat-input-element {\n          font-size: 14px;\n          padding-top: 8px;\n          line-height: normal; }\n    "],encapsulation:i.ViewEncapsulation.None}]}],ar.ctorParameters=function(){return[{type:ci},{type:wi},{type:je}]},ar.propDecorators={processDefinitionId:[{type:i.Input}],processId:[{type:i.Input}],showOutcomeButtons:[{type:i.Input}],showRefreshButton:[{type:i.Input}],readOnlyForm:[{type:i.Input}],outcomeClick:[{type:i.Output}],formContentClicked:[{type:i.Output}],outcomesContainer:[{type:i.ViewChild,args:["outcomesContainer",{}]}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var sr=function(){function e(e,t,n,r){this.formService=e,this.logService=t,this.contentService=n,this.processContentService=r,this.showDocumentContent=!0,this.contentClick=new i.EventEmitter,this.thumbnailLoaded=new i.EventEmitter,this.contentLoaded=new i.EventEmitter,this.error=new i.EventEmitter}return e.prototype.ngOnChanges=function(e){var t=e.id;t&&t.currentValue&&this.loadContent(t.currentValue)},e.prototype.loadContent=function(e){var t=this;this.processContentService.getFileContent(e).subscribe(function(e){t.content=new li(e),t.contentLoaded.emit(t.content),t.loadThumbnailUrl(t.content)},function(e){t.error.emit(e)})},e.prototype.loadThumbnailUrl=function(e){var t=this;if(this.content.isThumbnailSupported()){var n=void 0;(n=this.content.isTypeImage()?this.processContentService.getFileRawContent(e.id):this.processContentService.getContentThumbnail(e.id))&&n.subscribe(function(e){t.content.thumbnailUrl=t.contentService.createTrustedUrl(e),t.thumbnailLoaded.emit(t.content.thumbnailUrl)},function(e){t.error.emit(e)})}},e.prototype.openViewer=function(e){var t=this,n=this.processContentService.getContentPreview(e.id);(e.isTypeImage()||e.isTypePdf())&&(n=this.processContentService.getFileRawContent(e.id)),n.subscribe(function(n){e.contentBlob=n,t.contentClick.emit(e),t.logService.info("Content clicked"+e.id),t.formService.formContentClicked.next(e)},function(e){t.error.emit(e)})},e.prototype.download=function(e){var t=this;this.processContentService.getFileRawContent(e.id).subscribe(function(n){return t.contentService.downloadBlob(n,e.name)},function(e){t.error.emit(e)})},e}();sr.decorators=[{type:i.Component,args:[{selector:"adf-content",template:'\n      <mat-card class="adf-content-container" *ngIf="content">\n          <mat-card-content *ngIf="showDocumentContent">\n              <div *ngIf="content.isThumbnailSupported()" >\n                  <img id="thumbnailPreview" class="adf-img-upload-widget" [src]="content.thumbnailUrl" alt="{{content.name}}">\n              </div>\n              <div *ngIf="!content.isThumbnailSupported()">\n                  <mat-icon>image</mat-icon>\n                  <div id="unsupported-thumbnail" class="adf-content-widget-preview-text">{{ \'FORM.PREVIEW.IMAGE_NOT_AVAILABLE\' | translate }}\n                  </div>\n              </div>\n              <div class="mdl-card__supporting-text upload-widget__content-text">{{content.name}}</div>\n          </mat-card-content>\n\n          <mat-card-actions>\n              <button mat-icon-button id="view" (click)="openViewer(content)">\n                  <mat-icon class="mat-24">zoom_in</mat-icon>\n              </button>\n              <button mat-icon-button id="download" (click)="download(content)">\n                  <mat-icon class="mat-24">file_download</mat-icon>\n              </button>\n          </mat-card-actions>\n      </mat-card>\n    ',styles:["\n      .adf-img-upload-widget {\n        width: 100%;\n        height: 100%;\n        border: 1px solid rgba(117, 117, 117, 0.57);\n        -webkit-box-shadow: 1px 1px 2px #dddddd;\n                box-shadow: 1px 1px 2px #dddddd;\n        background-color: #ffffff; }\n\n      .adf-content-widget-preview-text {\n        word-wrap: break-word;\n        word-break: break-all;\n        text-align: center; }\n    "],encapsulation:i.ViewEncapsulation.None}]}],sr.ctorParameters=function(){return[{type:ci},{type:je},{type:ze},{type:Xi}]},sr.propDecorators={id:[{type:i.Input}],showDocumentContent:[{type:i.Input}],contentClick:[{type:i.Output}],thumbnailLoaded:[{type:i.Output}],contentLoaded:[{type:i.Output}],error:[{type:i.Output}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var lr=function(){return function(){}}();lr.decorators=[{type:i.NgModule,args:[{imports:[t.CommonModule,Nt,z.HttpModule,le,a.TranslateModule,r.FormsModule,r.ReactiveFormsModule,Le,Je],declarations:[sr,tr,or,nr,ar,Zi].concat(Ji,Qi,[di]),entryComponents:Ji.slice(),providers:[vi,ui,er,ci,rr,Xi,wi],exports:[sr,tr,or,nr,ar,Zi].concat(Ji)}]}],lr.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ur=function(){function e(e,t){this.apiService=e,this.logService=t}return e.prototype.getDeployedApplications=function(){var e=this;return x.Observable.fromPromise(this.apiService.getInstance().activiti.appsApi.getAppDefinitions()).map(function(e){return e.data})["catch"](function(t){return e.handleError(t)})},e.prototype.getDeployedApplicationsByName=function(e){var t=this;return x.Observable.fromPromise(this.apiService.getInstance().activiti.appsApi.getAppDefinitions()).map(function(t){return t.data.find(function(t){return t.name===e})})["catch"](function(e){return t.handleError(e)})},e.prototype.getApplicationDetailsById=function(e){var t=this;return x.Observable.fromPromise(this.apiService.getInstance().activiti.appsApi.getAppDefinitions()).map(function(t){return t.data.find(function(t){return t.id===e})})["catch"](function(e){return t.handleError(e)})},e.prototype.handleError=function(e){return this.logService.error(e),x.Observable["throw"](e||"Server error")},e}();ur.decorators=[{type:i.Injectable}],ur.ctorParameters=function(){return[{type:re},{type:je}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var cr=function(){function e(e,t){this.authService=e,this.router=t}return e.prototype.canActivate=function(e,t){return this.checkLogin(t.url)},e.prototype.canActivateChild=function(e,t){return this.canActivate(e,t)},e.prototype.checkLogin=function(e){return!!this.authService.isBpmLoggedIn()||(this.authService.setRedirectUrl(e),this.router.navigate(["/login"]),!1)},e}();cr.decorators=[{type:i.Injectable}],cr.ctorParameters=function(){return[{type:qe},{type:C.Router}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var pr=function(){function e(e,t,n){this.authService=e,this.apiService=t,this.router=n}return Object.defineProperty(e.prototype,"authApi",{get:function(){return this.apiService.getInstance().ecmAuth},enumerable:!0,configurable:!0}),e.prototype.isLoggedIn=function(){return this.authApi.isLoggedIn()?this.authApi.validateTicket().then(function(){return!0},function(){return!1})["catch"](function(){return!1}):Promise.resolve(!1)},e.prototype.canActivateChild=function(e,t){return this.canActivate(e,t)},e.prototype.canActivate=function(e,t){var n=this;return this.isLoggedIn().then(function(e){return e||(n.authService.setRedirectUrl(t.url),n.router.navigate(["/login"])),e})},e}();pr.decorators=[{type:i.Injectable}],pr.ctorParameters=function(){return[{type:qe},{type:re},{type:C.Router}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var dr=function(){function e(e,t){this.authService=e,this.router=t}return e.prototype.canActivate=function(e,t){var n=t.url;return this.checkLogin(n)},e.prototype.canActivateChild=function(e,t){return this.canActivate(e,t)},e.prototype.checkLogin=function(e){return!!this.authService.isLoggedIn()||(this.authService.setRedirectUrl(e),this.router.navigate(["/login"]),!1)},e}();dr.decorators=[{type:i.Injectable}],dr.ctorParameters=function(){return[{type:qe},{type:C.Router}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fr=function(){return function(e){e&&(this.id=e.id,this.message=e.message,this.created=e.created,this.createdBy=e.createdBy)}}(),mr=function(){return function(e){this.pictureId=null,e&&(this.id=e.id,this.email=e.email||null,this.firstName=e.firstName||null,this.lastName=e.lastName||null,this.pictureId=e.pictureId||null)}}(),hr=function(){function e(e,t){this.apiService=e,this.logService=t}return e.prototype.addTaskComment=function(e,t){var n=this;return x.Observable.fromPromise(this.apiService.getInstance().activiti.taskApi.addTaskComment({message:t},e)).map(function(e){return e}).map(function(e){return new fr({id:e.id,message:e.message,created:e.created,createdBy:e.createdBy})})["catch"](function(e){return n.handleError(e)})},e.prototype.getTaskComments=function(e){var t=this;return x.Observable.fromPromise(this.apiService.getInstance().activiti.taskApi.getTaskComments(e)).map(function(e){return e}).map(function(e){var t=[];return e.data.forEach(function(e){var n=new mr(e.createdBy);t.push(new fr({id:e.id,message:e.message,created:e.created,createdBy:n}))}),t})["catch"](function(e){return t.handleError(e)})},e.prototype.getProcessInstanceComments=function(e){var t=this;return x.Observable.fromPromise(this.apiService.getInstance().activiti.commentsApi.getProcessInstanceComments(e)).map(function(e){return e}).map(function(e){var t=[];return e.data.forEach(function(e){var n=new mr(e.createdBy);t.push(new fr({id:e.id,message:e.message,created:e.created,createdBy:n}))}),t})["catch"](function(e){return t.handleError(e)})},e.prototype.addProcessInstanceComment=function(e,t){var n=this;return x.Observable.fromPromise(this.apiService.getInstance().activiti.commentsApi.addProcessInstanceComment({message:t},e)).map(function(e){return new fr({id:e.id,message:e.message,created:e.created,createdBy:e.createdBy})})["catch"](function(e){return n.handleError(e)})},e.prototype.handleError=function(e){return this.logService.error(e),x.Observable["throw"](e||"Server error")},e}();hr.decorators=[{type:i.Injectable}],hr.ctorParameters=function(){return[{type:re},{type:je}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var gr=function(){function e(e,t){this.apiService=e,this.preferences=t}return Object.defineProperty(e.prototype,"nodesApi",{get:function(){return this.apiService.getInstance().core.nodesApi},enumerable:!0,configurable:!0}),e.prototype.getDeletedNodes=function(e){var t=this.nodesApi,n=this.handleError,i={include:["path","properties"],maxItems:this.preferences.paginationSize,skipCount:0},r=Object.assign(i,e),o=t.getDeletedNodes(r);return x.Observable.fromPromise(o)["catch"](n)},e.prototype.handleError=function(e){return x.Observable.of(e)},e}();gr.decorators=[{type:i.Injectable}],gr.ctorParameters=function(){return[{type:re},{type:oe}]};var yr=function(){return function(e){e&&(this.edition=e.edition||null,this.majorVersion=e.majorVersion||null,this.revisionVersion=e.revisionVersion||null,this.minorVersion=e.minorVersion||null,this.type=e.type||null)}}(),vr=function(){return function(e){var t=this;this.modules=[],e&&e.entry&&e.entry.repository&&(this.edition=e.entry.repository.edition||null,this.version=new br(e.entry.repository.version),this.license=new wr(e.entry.repository.license),this.status=new Ir(e.entry.repository.status),e.entry.repository.modules&&e.entry.repository.modules.forEach(function(e){t.modules.push(new Er(e))}))}}(),br=function(){return function(e){e&&(this.major=e.major||null,this.minor=e.minor||null,this.patch=e.patch||null,this.hotfix=e.hotfix||null,this.schema=e.schema||null,this.label=e.label||null,this.display=e.display||null)}}(),wr=function(){return function(e){e&&(this.issuedAt=e.issuedAt||null,this.expiresAt=e.expiresAt||null,this.remainingDays=e.remainingDays||null,this.holder=e.holder||null,this.mode=e.mode||null,this.isClusterEnabled=!!e.isClusterEnabled,this.isCryptodocEnabled=!!e.isCryptodocEnabled)}}(),Ir=function(){return function(e){e&&(this.isReadOnly=!!e.isReadOnly,this.isAuditEnabled=!!e.isAuditEnabled,this.isQuickShareEnabled=!!e.isQuickShareEnabled,this.isThumbnailGenerationEnabled=!!e.isThumbnailGenerationEnabled)}}(),Er=function(){return function(e){e&&(this.id=e.id||null,this.title=e.title||null,this.description=e.description||null,this.version=e.version||null,this.installDate=e.installDate||null,this.installState=e.installState||null,this.versionMin=e.versionMin||null,this.versionMax=e.versionMax||null)}}(),Sr=function(){function e(e){this.apiService=e}return e.prototype.getEcmProductInfo=function(){return x.Observable.fromPromise(this.apiService.getInstance().discovery.discoveryApi.getRepositoryInformation()).map(function(e){return new vr(e)})["catch"](this.handleError)},e.prototype.getBpmProductInfo=function(){return x.Observable.fromPromise(this.apiService.getInstance().activiti.aboutApi.getAppVersion()).map(function(e){return new yr(e)})["catch"](this.handleError)},e.prototype.handleError=function(e){return x.Observable["throw"](e)},e}();Sr.decorators=[{type:i.Injectable}],Sr.ctorParameters=function(){return[{type:re}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Cr=function(){function e(e,t){this.apiService=e,this.preferences=t}return e.remapFavoritesData=function(t){void 0===t&&(t={});var n=t.list||{},i=n.pagination||{};return{list:{entries:e.remapFavoriteEntries(n.entries||[]),pagination:i}}},e.remapEntry=function(e){var t=e.entry;return t.properties={"cm:title":t.title,"cm:description":t.description},{entry:t}},e.remapFavoriteEntries=function(t){return t.map(function(e){var t=e.entry.target;return{entry:t.file||t.folder}}).filter(function(e){return!!e.entry}).map(e.remapEntry)},Object.defineProperty(e.prototype,"favoritesApi",{get:function(){return this.apiService.getInstance().core.favoritesApi},enumerable:!0,configurable:!0}),e.prototype.getFavorites=function(t,n){var i=this.favoritesApi,r=this.handleError,o={maxItems:this.preferences.paginationSize,skipCount:0,where:"(EXISTS(target/file) OR EXISTS(target/folder))",include:["properties","allowableOperations"]},a=Object.assign(o,n),s=i.getFavorites(t,a).then(e.remapFavoritesData);return x.Observable.fromPromise(s)["catch"](r)},e.prototype.handleError=function(e){return x.Observable.of(e)},e}();Cr.decorators=[{type:i.Injectable}],Cr.ctorParameters=function(){return[{type:re},{type:oe}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Tr=function(){function e(e,t){this.api=e,this.preferences=t}return Object.defineProperty(e.prototype,"nodesApi",{get:function(){return this.api.getInstance().core.nodesApi},enumerable:!0,configurable:!0}),e.prototype.getEntryFromEntity=function(e){return e.entry},e.prototype.getNode=function(e,t){void 0===t&&(t={});var n=this.nodesApi,i=this.handleError,r=this.getEntryFromEntity,o=Object.assign({include:["path","properties","allowableOperations"]},t),a=n.getNode(e,o).then(r);return x.Observable.fromPromise(a)["catch"](i)},e.prototype.getNodeChildren=function(e,t){void 0===t&&(t={});var n=this.nodesApi,i=this.handleError,r={maxItems:this.preferences.paginationSize,skipCount:0,include:["path","properties","allowableOperations"]},o=Object.assign(r,t),a=n.getNodeChildren(e,o);return x.Observable.fromPromise(a)["catch"](i)},e.prototype.createNode=function(e,t,n){void 0===n&&(n={});var i=this.nodesApi,r=this.handleError,o=this.getEntryFromEntity,a=i.addNode(e,t,n).then(o);return x.Observable.fromPromise(a)["catch"](r)},e.prototype.createFolder=function(e,t,n){void 0===n&&(n={});var i=Object.assign({nodeType:"cm:folder"},t);return this.createNode(e,i,n)},e.prototype.updateNode=function(e,t,n){void 0===n&&(n={});var i=this.nodesApi,r=this.handleError,o=this.getEntryFromEntity,a=i.updateNode(e,t,n).then(o);return x.Observable.fromPromise(a)["catch"](r)},e.prototype.deleteNode=function(e,t){void 0===t&&(t={});var n=this.nodesApi,i=this.handleError,r=n.deleteNode(e,t);return x.Observable.fromPromise(r)["catch"](i)},e.prototype.restoreNode=function(e){var t=this.nodesApi,n=this.handleError,i=this.getEntryFromEntity,r=t.restoreNode(e).then(i);return x.Observable.fromPromise(r)["catch"](n)},e.prototype.handleError=function(e){return x.Observable["throw"](e)},e}();Tr.decorators=[{type:i.Injectable}],Tr.ctorParameters=function(){return[{type:re},{type:oe}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xr=function(){function e(e,t){this.titleService=e,this.appConfig=t}return e.prototype.setTitle=function(e){void 0===e&&(e="");var t=this.appConfig.get("application.name")||"Alfresco ADF Application",n=e?e+" - "+t:""+t;this.titleService.setTitle(n)},e}();xr.decorators=[{type:i.Injectable}],xr.ctorParameters=function(){return[{type:T.Title},{type:ne}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Or=function(){function e(e){this.apiService=e}return Object.defineProperty(e.prototype,"peopleApi",{get:function(){return this.apiService.getInstance().core.peopleApi},enumerable:!0,configurable:!0}),e.prototype.getPerson=function(e){var t=this.peopleApi,n=this.handleError,i=t.getPerson(e);return x.Observable.fromPromise(i)["catch"](n)},e.prototype.getCurrentPerson=function(){return this.getPerson("-me-")},e.prototype.handleError=function(e){return x.Observable.of(e)},e}();Or.decorators=[{type:i.Injectable}],Or.ctorParameters=function(){return[{type:re}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Pr=function(){function e(e,t){this.authService=e,this.apiService=t}return e.prototype.getNodeQueryResults=function(e,t){var n=this;return x.Observable.fromPromise(this.apiService.getInstance().core.queriesApi.findNodes(e,t)).map(function(e){return e})["catch"](function(e){return n.handleError(e)})},e.prototype.search=function(e){var t=this,n=Object.assign(e),i=this.apiService.getInstance().search.searchApi.search(n);return x.Observable.fromPromise(i)["catch"](function(e){return t.handleError(e)})},e.prototype.handleError=function(e){return x.Observable["throw"](e||"Server error")},e}();Pr.decorators=[{type:i.Injectable}],Pr.ctorParameters=function(){return[{type:qe},{type:re}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Fr=function(){function e(e,t){this.apiService=e,this.preferences=t}return Object.defineProperty(e.prototype,"sharedLinksApi",{get:function(){return this.apiService.getInstance().core.sharedlinksApi},enumerable:!0,configurable:!0}),e.prototype.getSharedLinks=function(e){void 0===e&&(e={});var t=this.sharedLinksApi,n=this.handleError,i={maxItems:this.preferences.paginationSize,skipCount:0,include:["properties","allowableOperations"]},r=Object.assign({},i,e),o=t.findSharedLinks(r);return x.Observable.fromPromise(o)["catch"](n)},e.prototype.handleError=function(e){return x.Observable.of(e)},e}();Fr.decorators=[{type:i.Injectable}],Fr.ctorParameters=function(){return[{type:re},{type:oe}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var kr=function(){return function(e){e&&(this.id=e.id||null,this.folderId=e.folderId||null)}}(),Rr=function(){return function(e){this.emailNotificationsEnabled=!1,this.enable=!1,e&&(this.role=e.role,this.firstName=e.firstName||null,this.emailNotificationsEnabled=e.emailNotificationsEnabled,this.company=e.company||null,this.id=e.id||null,this.enable=e.enable,this.email=e.email)}}(),Ar=function(){return function(e){var t=this;this.contents=[],this.members=[],e&&e.entry&&(this.role=e.entry.role||null,this.visibility=e.entry.visibility||null,this.guid=e.entry.guid||null,this.description=e.entry.description||null,this.id=e.entry.id||null,this.preset=e.entry.preset,this.title=e.entry.title,this.pagination=e.pagination||null,e.relations&&e.relations.containers&&e.relations.containers.list.entries.forEach(function(e){t.contents.push(new kr(e.entry))}),e.relations&&e.relations.members&&e.relations.members.list.entries.forEach(function(e){t.members.push(new Rr(e.entry))}))}}(),Dr=function(){function e(e){this.apiService=e}return e.prototype.getSites=function(e){var t=this;void 0===e&&(e={});var n=Object.assign({},{skipCount:0,include:["properties"]},e);return x.Observable.fromPromise(this.apiService.getInstance().core.sitesApi.getSites(n)).map(function(e){return t.convertToModel(e)})["catch"](this.handleError)},e.prototype.getSite=function(e,t){return x.Observable.fromPromise(this.apiService.getInstance().core.sitesApi.getSite(e,t)).map(function(e){return new Ar(e)})["catch"](this.handleError)},e.prototype.deleteSite=function(e,t){void 0===t&&(t=!0);var n={};return n.permanent=t,x.Observable.fromPromise(this.apiService.getInstance().core.sitesApi.deleteSite(e,n)["catch"](this.handleError))},e.prototype.getSiteContent=function(e){return this.getSite(e,{relations:["containers"]})},e.prototype.getSiteMembers=function(e){return this.getSite(e,{relations:["members"]})},e.prototype.handleError=function(e){return console.error(e),x.Observable["throw"](e||"Server error")},e.prototype.convertToModel=function(e){var t=[];return e&&e.list&&e.list.entries&&e.list.entries.length>0&&e.list.entries.forEach(function(n){n.pagination=e.list.pagination,t.push(new Ar(n))}),t},e}();Dr.decorators=[{type:i.Injectable}],Dr.ctorParameters=function(){return[{type:re}]};var _r=function(){return function(e){this.name=e&&e.name,this.path=e&&e.path,this.json=e&&e.json||[]}}(),Lr=function(){function e(e,t){this.http=e,this.logService=t,this.prefix="i18n",this.suffix=".json",this.providers=[],this.queue=[]}return e.prototype.registerProvider=function(e,t){var n=this.providers.find(function(t){return t.name===e});n?n.path=t:this.providers.push(new _r({name:e,path:t}))},e.prototype.providerRegistered=function(e){return!!this.providers.find(function(t){return t.name===e})},e.prototype.getComponentToFetch=function(e){var t=this,n=[];return this.queue[e]||(this.queue[e]=[]),this.providers.forEach(function(i){if(!t.isComponentInQueue(e,i.name)){t.queue[e].push(i.name);var r=x.Observable.create(function(n){t.http.get(i.path+"/"+t.prefix+"/"+e+t.suffix).map(function(t){i.json[e]=t}).subscribe(function(e){n.next(e),n.complete()},function(){n.next(""),n.complete()})});n.push(r)}}),n},e.prototype.init=function(e){this.queue[e]===undefined&&(this.queue[e]=[])},e.prototype.isComponentInQueue=function(e,t){return!!(this.queue[e]||[]).find(function(e){return e===t})},e.prototype.getFullTranslationJSON=function(e){var t={};return this.providers.slice(0).sort(function(e,t){return"app"===e.name?1:"app"===t.name?-1:e.name.localeCompare(t.name)}).forEach(function(n){n.json&&n.json[e]&&(t=te.merge(t,n.json[e]))}),t},e.prototype.getTranslation=function(e){var t=this,n=this.getComponentToFetch(e);return x.Observable.create(function(i){if(n.length>0)x.Observable.forkJoin(n).subscribe(function(){var n=t.getFullTranslationJSON(e);n&&i.next(n),i.complete()},function(e){t.logService.error(e)});else{var r=t.getFullTranslationJSON(e);r&&i.next(r)}})},e}();Lr.decorators=[{type:i.Injectable}],Lr.ctorParameters=function(){return[{type:n.HttpClient},{type:je}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Vr=Z||$,Mr=function(){function e(e,t){this.apiService=e,this.appConfigService=t,this.queue=[],this.cache={},this.totalComplete=0,this.totalAborted=0,this.totalError=0,this.activeTask=null,this.excludedFileList=[],this.queueChanged=new w.Subject,this.fileUpload=new w.Subject,this.fileUploadStarting=new w.Subject,this.fileUploadCancelled=new w.Subject,this.fileUploadProgress=new w.Subject,this.fileUploadAborted=new w.Subject,this.fileUploadError=new w.Subject,this.fileUploadComplete=new w.Subject,this.fileUploadDeleted=new w.Subject,this.fileDeleted=new w.Subject,this.excludedFileList=this.appConfigService.get("files.excluded")}return e.prototype.isUploading=function(){return!!this.activeTask},e.prototype.getQueue=function(){return this.queue},e.prototype.addToQueue=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t.filter(function(t){return e.filterElement(t)});return this.queue=this.queue.concat(i),this.queueChanged.next(this.queue),i},e.prototype.filterElement=function(e){var t=!0;return this.excludedFileList&&(t=0===this.excludedFileList.filter(function(t){return Vr(e.name,t)}).length),t},e.prototype.uploadFilesInTheQueue=function(e){var t=this;if(!this.activeTask){var n=this.queue.find(function(e){return e.status===dt.Pending});if(n){this.onUploadStarting(n);var i=this.beginUpload(n,e);this.activeTask=i,this.cache[n.id]=i;var r=function(){t.activeTask=null,setTimeout(function(){return t.uploadFilesInTheQueue(e)},100)};i.next=r,i.then(function(){return r()},function(){return r()})}}},e.prototype.cancelUpload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach(function(t){var n=e.cache[t.id];if(n)n.abort(),delete e.cache[t.id];else{e.getAction(t)()}})},e.prototype.clearQueue=function(){this.queue=[],this.totalComplete=0,this.totalAborted=0,this.totalError=0},e.prototype.getUploadPromise=function(e){var t={renditions:"doclib"};return!0===e.options.newVersion?(t.overwrite=!0,t.majorVersion=!0):t.autoRename=!0,this.apiService.getInstance().upload.uploadFile(e.file,e.options.path,e.options.parentId,null,t)},e.prototype.beginUpload=function(e,t){var n=this,i=this.getUploadPromise(e);return i.on("progress",function(t){n.onUploadProgress(e,t)}).on("abort",function(){n.onUploadAborted(e),t.emit({value:"File aborted"})}).on("error",function(i){n.onUploadError(e,i),t.emit({value:"Error file uploaded"})}).on("success",function(i){n.onUploadComplete(e,i),t.emit({value:i})})["catch"](function(e){throw e}),i},e.prototype.onUploadStarting=function(e){if(e){e.status=dt.Starting;var t=new mt(e,dt.Starting);this.fileUpload.next(t),this.fileUploadStarting.next(t)}},e.prototype.onUploadProgress=function(e,t){if(e){e.progress=t,e.status=dt.Progress;var n=new mt(e,dt.Progress);this.fileUpload.next(n),this.fileUploadProgress.next(n)}},e.prototype.onUploadError=function(e,t){if(e){e.status=dt.Error,this.totalError++;this.cache[e.id]&&delete this.cache[e.id];var n=new yt(e,t,this.totalError);this.fileUpload.next(n),this.fileUploadError.next(n)}},e.prototype.onUploadComplete=function(e,t){if(e){e.status=dt.Complete,e.data=t,this.totalComplete++;this.cache[e.id]&&delete this.cache[e.id];var n=new ht(e,this.totalComplete,t,this.totalAborted);this.fileUpload.next(n),this.fileUploadComplete.next(n)}},e.prototype.onUploadAborted=function(e){if(e){e.status=dt.Aborted,this.totalAborted++;var t=this.cache[e.id];t&&delete this.cache[e.id];var n=new mt(e,dt.Aborted);this.fileUpload.next(n),this.fileUploadAborted.next(n),t.next()}},e.prototype.onUploadCancelled=function(e){if(e){e.status=dt.Cancelled;var t=new mt(e,dt.Cancelled);this.fileUpload.next(t),this.fileUploadCancelled.next(t)}},e.prototype.onUploadDeleted=function(e){if(e){e.status=dt.Deleted,this.totalComplete--;var t=new gt(e,this.totalComplete);this.fileUpload.next(t),this.fileUploadDeleted.next(t)}},e.prototype.getAction=function(e){var t=this;return(n={},n[dt.Pending]=function(){return t.onUploadCancelled(e)},n[dt.Deleted]=function(){return t.onUploadDeleted(e)},n[dt.Error]=function(){return t.onUploadError(e,null)},n)[e.status];var n},e}();Mr.decorators=[{type:i.Injectable}],Mr.ctorParameters=function(){return[{type:re},{type:ne}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Nr=function(){return function(){}}();Nr.decorators=[{type:i.NgModule,args:[{imports:[],declarations:[],providers:[qe,re,$t,ze,dr,pr,cr,ur,xr,ie,Me,Fn,et,je,se,Lr,Ye,Mr,Ee,pe,oe,We,gr,Cr,Tr,Or,qi,Pr,Fr,Dr,Sr,hr],exports:[]}]}],Nr.ctorParameters=function(){return[]};var Ur=function(){return function(){}}();Ur.decorators=[{type:i.NgModule,args:[{imports:[An,Je,t.CommonModule,lt,r.FormsModule,r.ReactiveFormsModule,n.HttpClientModule,o.BrowserAnimationsModule,ln,vn,le,ue,an,dn,Ae,Te,Pe,Nr,lr,a.TranslateModule.forRoot({loader:{provide:a.TranslateLoader,useFactory:Q,deps:[n.HttpClient,je]}})],providers:[{provide:ae,multi:!0,useValue:{name:"adf-core",source:"assets/adf-core"}},se],exports:[ue,o.BrowserAnimationsModule,t.CommonModule,r.FormsModule,r.ReactiveFormsModule,a.TranslateModule,Ae,Te,Pe,an,dn,nn,vn,Wt,Ht,Le,Nt,ln,Nr,An,Je,lt,lr,le]}]}],Ur.ctorParameters=function(){return[]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var jr=function(){function e(e){this.label=e.label||"",this.value=e.value,this.key=e.key,this["default"]=e["default"],this.editable=!!e.editable,this.clickable=!!e.clickable}return e.prototype.isEmpty=function(){return this.value===undefined||null===this.value||""===this.value},e}(),Br=function(e){function t(t){var n=e.call(this,t)||this;return n.type="text",n.multiline=!!t.multiline,n.pipes=t.pipes||[],n}return ee(t,e),Object.defineProperty(t.prototype,"displayValue",{get:function(){return this.applyPipes(this.value)},enumerable:!0,configurable:!0}),t.prototype.applyPipes=function(e){return this.pipes.length&&(e=this.pipes.reduce(function(e,t){var n=t.pipe,i=t.params;return n.transform.apply(n,[e].concat(i))},e)),e},t}(jr),qr=function(e){function t(t){var n=e.call(this,t)||this;return n.type="map",n}return ee(t,e),Object.defineProperty(t.prototype,"displayValue",{get:function(){return this.value&&this.value.size>0?this.value.values().next().value:this["default"]},enumerable:!0,configurable:!0}),t}(jr),zr=function(e){function t(t){var n=e.call(this,t)||this;return n.type="date",n.format=t.format||"MMM DD YYYY",n}return ee(t,e),Object.defineProperty(t.prototype,"displayValue",{get:function(){return this.value?b(this.value).format(this.format):this["default"]},enumerable:!0,configurable:!0}),t}(jr),Yr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ee(t,e),t}(String);Yr.DELETE="delete",Yr.UPDATE="update",Yr.CREATE="create",Yr.UPDATEPERMISSIONS="updatePermissions",Yr.NOT_DELETE="!delete",Yr.NOT_UPDATE="!update",Yr.NOT_CREATE="!create",Yr.NOT_UPDATEPERMISSIONS="!updatePermissions";var Hr=function(){return function(){}}(),Gr=function(){function e(){}return e.prototype.login=function(e,t){return new Promise(function(e){e("TICKET_4479f4d3bb155195879bfbb8d5206f433488a1b1")})},e.prototype.logout=function(){return new Promise(function(e){e("logout")})},e.prototype.changeConfig=function(){},e}(),Wr=function(e){function t(t){var n=e.call(this,t)||this;return n.config={application:{name:"Alfresco ADF Application"},ecmHost:"http://{hostname}{:port}/ecm",bpmHost:"http://{hostname}{:port}/bpm",logLevel:"silent"},n}return ee(t,e),t.prototype.load=function(){var e=this;return new Promise(function(t){t(e.config)})},t}(ne);Wr.decorators=[{type:i.Injectable}],Wr.ctorParameters=function(){return[{type:n.HttpClient}]};/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var $r=function(){function e(){this.redirectUrl=""}return e.prototype.setRedirectUrl=function(e){this.redirectUrl=e},e.prototype.getRedirectUrl=function(){return this.redirectUrl},e.prototype.login=function(e,t){return"fake-username"===e&&"fake-password"===t?x.Observable.of({type:"type",ticket:"ticket"}):"fake-username-CORS-error"===e&&"fake-password"===t?x.Observable["throw"]({error:{crossDomain:!0,message:"ERROR: the network is offline, Origin is not allowed by Access-Control-Allow-Origin"}}):"fake-username-CSRF-error"===e&&"fake-password"===t?x.Observable["throw"]({message:"ERROR: Invalid CSRF-token",status:403}):"fake-username-ECM-access-error"===e&&"fake-password"===t?x.Observable["throw"]({message:"ERROR: 00170728 Access Denied.  The system is currently in read-only mode",status:403}):x.Observable["throw"]("Fake server error")},e}(),Xr={apps:[],capabilities:"fake-capability",company:"fake-company",created:"fake-create-date",email:"fakeBpm@fake.com",externalId:"fake-external-id",firstName:"fake-first-name",lastName:"fake-last-name",fullname:"fake-full-name",groups:[],id:"fake-id",lastUpdate:"fake-update-date",latestSyncTimeStamp:"fake-timestamp",password:"fake-password",pictureId:undefined,status:"fake-status",tenantId:"fake-tenant-id",tenantName:"fake-tenant-name",tenantPictureId:"fake-tenant-picture-id",type:"fake-type"},Kr={id:1,email:"fake-email@dom.com",firstName:"firstName",lastName:"lastName"},Jr={size:2,total:2,start:0,data:[{id:1,message:"fake-message-1",created:"",createdBy:Kr},{id:2,message:"fake-message-2",created:"",createdBy:Kr}]},Qr=new fr({id:1,message:"Test",created:new Date("2016-11-10T03:37:30.010+0000"),createdBy:new mr({id:13,firstName:"Wilbur",lastName:"Adams",email:"wilbur@app.com"})}),Zr=function(){function e(){}return e.prototype.getItem=function(e){return this[e]&&this[e].data||null},e.prototype.setItem=function(e,t,n,i){this[e]={data:t,expiration:n,path:i}},e}(),eo=function(){function e(){}return e.keyDown=function(e){var t=document.createEvent("Event");t.keyCode=e,t.initEvent("keydown"),document.dispatchEvent(t)},e.resizeMobileView=function(){window.dispatchEvent(new Event("resize"))},e}(),to={list:{pagination:{count:1,hasMoreItems:!1,totalItems:1,skipCount:0,maxItems:100},entries:[{entry:{id:"123",name:"MyDoc",content:{mimetype:"text/plain"},createdByUser:{displayName:"John Doe"},modifiedByUser:{displayName:"John Doe"}}}]}},no={core:{queriesApi:{findNodes:function(e,t){return Promise.resolve(to)}}}},io=function(){function e(){this.onLangChange=new i.EventEmitter}return e.prototype.addTranslationFolder=function(){},e.prototype.get=function(e,t){return x.Observable.of(e)},e}(),ro=new ai({});e.createTranslateLoader=Q,e.CoreModule=Ur,e.ViewerModule=An,e.UserInfoModule=vn,e.ToolbarModule=dn,e.HostSettingsModule=ln,e.PaginationModule=an,e.LoginModule=nn,e.LanguageMenuModule=Wt,e.InfoDrawerModule=Ht,e.DataColumnModule=Le,e.DataTableModule=Nt,e.ContextMenuModule=Ae,e.CollapsableModule=Pe,e.CardViewModule=Te,e.startupServiceFactory=K,e.AppConfigModule=ue,e.FormModule=lr,e.PipeModule=Je,e.ServiceModule=Nr,e.DirectiveModule=lt,e.ViewerComponent=kn,e.ImgViewerComponent=bn,e.MediaPlayerComponent=wn,e.PdfViewerComponent=En,e.TxtViewerComponent=Sn,e.UnknownFormatComponent=Cn,e.ViewerMoreActionsComponent=Tn,e.ViewerOpenWithComponent=xn,e.ViewerSidebarComponent=On,e.ViewerToolbarComponent=Pn,e.ViewerExtensionDirective=Rn,e.UserInfoComponent=yn,e.BpmUserService=hn,e.EcmUserService=gn,e.ToolbarDividerComponent=un,e.ToolbarTitleComponent=cn,e.ToolbarComponent=pn,e.HostSettingsComponent=sn,e.PaginationComponent=on,e.InfinitePaginationComponent=rn,e.LoginHeaderDirective=tn,e.LoginFooterDirective=en,e.LoginComponent=Zt,e.LoginErrorEvent=Xt,e.LoginSubmitEvent=Kt,e.LoginSuccessEvent=Jt,e.LanguageMenuComponent=Gt,e.InfoDrawerLayoutComponent=Ut,e.InfoDrawerTitleDirective=jt,e.InfoDrawerButtonsDirective=Bt,e.InfoDrawerContentDirective=qt,e.InfoDrawerTabComponent=zt,e.InfoDrawerComponent=Yt,e.DataColumnListComponent=_e,e.DataColumnComponent=De,e.DataRowEvent=vt,e.DataSorting=bt,e.ObjectDataRow=wt,e.ObjectDataTableAdapter=Et,e.ObjectDataColumn=It,e.DataCellEventModel=St,e.DataCellEvent=Ct,e.DataRowActionEvent=Tt,e.DataRowActionModel=xt,e.DataTableCellComponent=ut,e.DataTableComponent=Ot,e.DateCellComponent=Pt,e.EmptyListComponent=Ft,e.EmptyListHeaderDirective=kt,e.EmptyListBodyDirective=Rt,e.EmptyListFooterDirective=At,e.FileSizeCellComponent=Dt,e.LocationCellComponent=_t,e.LoadingContentTemplateDirective=Lt,e.NoContentTemplateDirective=Vt,e.NoPermissionTemplateDirective=Mt,e.ContextMenuHolderComponent=ke,e.ContextMenuDirective=Re,e.ContextMenuService=Fe,e.AccordionGroupComponent=Oe,e.AccordionComponent=xe,e.CardViewContentProxyDirective=ce,e.CardViewDateItemComponent=ye,e.CardViewItemDispatcherComponent=Se,e.CardViewMapItemComponent=ve,e.CardViewTextItemComponent=be,e.CardViewComponent=Ce,e.AppConfigService=ne,e.FormComponent=or,e.FormListComponent=nr,e.ContentWidgetComponent=sr,e.StartFormComponent=ar,e.DocumentWidgetComponent=Ci,e.WIDGET_DIRECTIVES=Ji,e.MASK_DIRECTIVE=Qi,e.baseHost=pi,e.WidgetComponent=di,e.FormFieldTypes=_n,e.FormWidgetModel=Ln,e.FormFieldModel=Kn,e.FormModel=ai,e.ContainerModel=ii,e.ContainerColumnModel=Vn,e.TabModel=oi,e.FormOutcomeModel=ri,e.FormOutcomeEvent=si,e.RequiredFieldValidator=Nn,e.NumberFieldValidator=Un,e.DateFieldValidator=jn,e.MinDateFieldValidator=Bn,e.MaxDateFieldValidator=qn,e.MinLengthFieldValidator=zn,e.MaxLengthFieldValidator=Yn,e.MinValueFieldValidator=Hn,e.MaxValueFieldValidator=Gn,e.RegExFieldValidator=Wn,e.FixedValueFieldValidator=$n,e.FORM_FIELD_VALIDATORS=Xn,e.ContentLinkModel=li,e.ErrorMessageModel=Mn,e.TabsWidgetComponent=hi,e.ContainerWidgetComponent=mi,e.UnknownWidgetComponent=gi,e.TextWidgetComponent=Wi,e.NumberWidgetComponent=Bi,e.CheckboxWidgetComponent=Ii,e.MultilineTextWidgetComponentComponent=ji,e.DropdownWidgetComponent=Ti,e.HyperlinkWidgetComponent=Ui,e.RadioButtonsWidgetComponent=Yi,e.DisplayTextWidgetComponentComponent=Si,e.UploadWidgetComponent=Ki,e.AttachWidgetComponent=bi,e.TypeaheadWidgetComponent=$i,e.FunctionalGroupWidgetComponent=Ni,e.PeopleWidgetComponent=zi,e.DateWidgetComponent=Ei,e.AmountWidgetComponent=yi,e.DynamicTableWidgetComponent=Ri,e.ErrorWidgetComponent=Mi,e.DynamicTableModel=ki,e.RowEditorComponent=Li,e.DateEditorComponent=Di,e.DropdownEditorComponent=_i,e.BooleanEditorComponent=Ai,e.TextEditorComponent=Vi,e.CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR=Hi,e.InputMaskDirective=Gi,e.FormService=ci,e.EcmModelService=ui,e.NodeService=rr,e.FormRenderingService=er,e.ProcessContentService=Xi,e.FormEvent=Jn,e.FormErrorEvent=Qn,e.FormFieldEvent=Zn,e.ValidateFormFieldEvent=ei,e.ValidateFormEvent=ti,e.ValidateDynamicTableRowEvent=ni,e.FileSizePipe=Ve,e.MimeTypeIconPipe=He,e.NodeNameTooltipPipe=Ge,e.HighlightPipe=$e,e.TimeAgoPipe=Xe,e.InitialUsernamePipe=Ke,e.AuthenticationService=qe,e.AlfrescoApiService=re,e.SettingsService=$t,e.ContentService=ze,e.AuthGuard=dr,e.AuthGuardEcm=pr,e.AuthGuardBpm=cr,e.AppsProcessService=ur,e.PageTitleService=xr,e.StorageService=ie,e.CookieService=Me,e.RenditionsService=Fn,e.NotificationService=et,e.LogService=je,e.TRANSLATION_PROVIDER=ae,e.TranslationService=se,e.TranslateLoaderService=Lr,e.ThumbnailService=Ye,e.UploadService=Mr,e.DynamicComponentResolver=we,e.DynamicComponentMapper=Ie,e.CardItemTypeService=Ee,e.transformKeyToObject=J,e.CardViewUpdateService=pe,e.UserPreferencesService=oe,e.HighlightTransformService=We,e.DeletedNodesApiService=gr,e.FavoritesApiService=Cr,e.NodesApiService=Tr,e.PeopleContentService=Or,e.PeopleProcessService=qi,e.SearchService=Pr,e.SharedLinksApiService=Fr,e.SitesService=Dr,e.DiscoveryApiService=Sr,e.CommentProcessService=hr,e.HighlightDirective=Qe,e.LogoutDirective=Ze,e.NodeDeleteDirective=tt,e.NodeFavoriteDirective=nt,e.NodePermissionDirective=rt,e.NodeRestoreDirective=ot,e.UploadDirective=st,e.ObjectUtils=te,e.FileUtils=at,e.MOMENT_DATE_FORMATS=he,e.MomentDateAdapter=me,e.EXTENDIBLE_COMPONENT=it,e.CardViewBaseItemModel=jr,e.CardViewTextItemModel=Br,e.CardViewMapItemModel=qr,e.CardViewDateItemModel=zr,e.FileUploadStatus=dt,e.FileModel=ft,e.PermissionsEnum=Yr,e.SiteContentsModel=kr,e.SiteMembersModel=Rr,e.SiteModel=Ar,e.BpmProductVersionModel=yr,e.EcmProductVersionModel=vr,e.VersionModel=br,e.LicenseModel=wr,e.VersionStatusModel=Ir,e.VersionModuleModel=Er,e.UserProcessModel=mr,e.CommentProcessModel=fr,e.EcmCompanyModel=Hr,e.BaseEvent=ct,e.BaseUIEvent=pt,e.FileUploadEvent=mt,e.FileUploadCompleteEvent=ht,e.FileUploadDeleteEvent=gt,e.FileUploadErrorEvent=yt,e.AlfrescoApiMock=Gr,e.AppConfigServiceMock=Wr,e.fakeApps={size:2,total:2,start:0,data:[{id:1,defaultAppId:null,name:"Sales-Fakes-App",description:"desc-fake1",modelId:22,theme:"theme-1-fake",icon:"glyphicon-asterisk",deploymentId:"111",tenantId:null},{id:2,defaultAppId:null,name:"health-care-Fake",description:"desc-fake2",modelId:33,theme:"theme-2-fake",icon:"glyphicon-asterisk",deploymentId:"444",tenantId:null}]},e.AuthenticationMock=$r,e.fakeBpmUserNoImage=Xr,e.fakeBpmUser={apps:[],capabilities:null,company:"fake-company",created:"fake-create-date",email:"fakeBpm@fake.com",externalId:"fake-external-id",firstName:"fake-bpm-first-name",lastName:"fake-bpm-last-name",fullname:"fake-bpm-full-name",groups:[],id:"fake-id",lastUpdate:"fake-update-date",latestSyncTimeStamp:"fake-timestamp",password:"fake-password",pictureId:12,status:"fake-status",tenantId:"fake-tenant-id",tenantName:"fake-tenant-name",tenantPictureId:"fake-tenant-picture-id",type:"fake-type"},e.fakeBpmEditedUser={apps:[],capabilities:"fake-capability",company:"fake-company",created:"fake-create-date",email:"fakeBpm@fake.com",externalId:"fake-external-id",firstName:"fake-first-name",lastName:"fake-last-name",fullname:"fake-full-name",groups:[],id:"fake-id",lastUpdate:"fake-update-date",latestSyncTimeStamp:"fake-timestamp",password:"fake-password",pictureId:"src/assets/images/bpmImg.gif",status:"fake-status",tenantId:"fake-tenant-id",tenantName:"fake-tenant-name",tenantPictureId:"fake-tenant-picture-id",type:"fake-type"},e.fakeUser1=Kr,e.fakeUser2={id:1001,email:"some-one@somegroup.com",firstName:"some",lastName:"one"},e.fakeTasksComment=Jr,e.fakeProcessComment=Qr,e.CookieServiceMock=Zr,e.fakeEcmCompany={organization:"company-fake-name",address1:"fake-address-1",address2:"fake-address-2",address3:"fake-address-3",postcode:"fAk1",telephone:"00000000",fax:"11111111",email:"fakeCompany@fake.com"},e.fakeEcmUser={id:"fake-id",firstName:"fake-ecm-first-name",lastName:"fake-ecm-last-name",description:"i am a fake user for test",avatarId:"fake-avatar-id",email:"fakeEcm@ecmUser.com",skypeId:"fake-skype-id",googleId:"fake-googleId-id",instantMessageId:"fake-instantMessageId-id",company:null,jobTitle:"job-ecm-test",location:"fake location",mobile:"000000000",telephone:"11111111",statusUpdatedAt:"fake-date",userStatus:"active",enabled:!0,emailNotificationsEnabled:!0},e.fakeEcmUserNoImage={id:"fake-id",firstName:"fake-first-name",lastName:"fake-last-name",description:"i am a fake user for test",avatarId:null,email:"fakeEcm@ecmUser.com",skypeId:"fake-skype-id",googleId:"fake-googleId-id",instantMessageId:"fake-instantMessageId-id",company:null,jobTitle:null,location:"fake location",mobile:"000000000",telephone:"11111111",statusUpdatedAt:"fake-date",userStatus:"active",enabled:!0,emailNotificationsEnabled:!0},e.fakeEcmEditedUser={id:"fake-id",firstName:null,lastName:"fake-last-name",description:"i am a fake user for test",avatarId:"fake-avatar-id",email:"fakeEcm@ecmUser.com",skypeId:"fake-skype-id",googleId:"fake-googleId-id",instantMessageId:"fake-instantMessageId-id",company:null,jobTitle:"test job",location:"fake location",mobile:"000000000",telephone:"11111111",statusUpdatedAt:"fake-date",userStatus:"active",enabled:!0,emailNotificationsEnabled:!0},e.EventMock=eo,e.fakeRedition={entry:{id:"pdf",content:{mimeType:"application/pdf",mimeTypeName:"Adobe PDF Document"},status:"NOT_CREATED"}},e.fakeReditionCreated={entry:{id:"pdf",content:{mimeType:"application/pdf",mimeTypeName:"Adobe PDF Document"},status:"CREATED"}},e.fakeReditionsList={list:{pagination:{count:6,hasMoreItems:!1,totalItems:6,skipCount:0,maxItems:100},entries:[{entry:{id:"avatar",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"avatar32",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"doclib",content:{mimeType:"image/png",mimeTypeName:"PNG Image"},status:"NOT_CREATED"}},{entry:{id:"imgpreview",content:{mimeType:"image/jpeg",mimeTypeName:"JPEG Image"},status:"NOT_CREATED"}},{entry:{id:"medium",content:{mimeType:"image/jpeg",mimeTypeName:"JPEG Image"},status:"NOT_CREATED"}},{entry:{id:"pdf",content:{mimeType:"application/pdf",mimeTypeName:"Adobe PDF Document"},status:"NOT_CREATED"}}]}},e.fakeSearch=to,e.mockError={error:{errorKey:"Search failed",statusCode:400,briefSummary:"08220082 search failed",stackTrace:"For security reasons the stack trace is no longer displayed, but the property is kept for previous versions.",descriptionURL:"https://api-explorer.alfresco.com"}},e.searchMockApi=no,e.TranslationMock=io,e.fakeForm={id:1001,name:"ISSUE_FORM",processDefinitionId:"ISSUE_APP:1:2504",processDefinitionName:"ISSUE_APP",processDefinitionKey:"ISSUE_APP",taskId:"7506",taskDefinitionKey:"sid-F67A2996-1684-4774-855A-4591490081FD",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1498212398417",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"label",name:"Label",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"test1"},{id:"option_2",name:"test2"},{id:"option_3",name:"test3"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[{fieldType:"RestFieldRepresentation",id:"raduio",name:"raduio",type:"radio-buttons",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:[{id:"option_1",name:"Option 1"},{id:"option_2",name:"Option 2"},{id:"option_3",name:"Option 3"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:2,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}]}},{fieldType:"ContainerRepresentation",id:"1498212413062",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"date",name:"date",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formDefinitionTwoTextFields={id:20,name:"formTextDefinition",processDefinitionId:"textDefinition:1:153",processDefinitionName:"textDefinition",processDefinitionKey:"textDefinition",taskId:"159",taskDefinitionKey:"sid-D941F49F-2B04-4FBB-9B49-9E95991993E8",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1507044399260",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"firstname",name:"firstName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"lastname",name:"lastName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formDefinitionDropdownField={id:21,name:"dropdownDefinition",processDefinitionId:"textDefinition:2:163",processDefinitionName:"textDefinition",processDefinitionKey:"textDefinition",taskId:"169",taskDefinitionKey:"sid-D941F49F-2B04-4FBB-9B49-9E95991993E8",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1507046026940",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"country",name:"country",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"united kingdom"},{id:"option_2",name:"italy"},{id:"option_3",name:"france"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formReadonlyTwoTextFields={id:22,name:"formTextDefinition",processDefinitionId:"textDefinition:3:182",processDefinitionName:"textDefinition",processDefinitionKey:"textDefinition",taskId:"188",taskDefinitionKey:"sid-D941F49F-2B04-4FBB-9B49-9E95991993E8",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1507044399260",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"firstname",name:"firstName",type:"readonly",value:"fakeFirstName",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2,field:{id:"firstname",name:"firstName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:0,sizeY:0,row:0,col:0,visibilityCondition:null}},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"lastname",name:"lastName",type:"readonly",value:"fakeLastName",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1,field:{id:"lastname",name:"lastName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:0,sizeY:0,row:0,col:0,visibilityCondition:null}},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formDefVisibilitiFieldDependsOnNextOne={id:19,processDefinitionId:"visibility:1:148",processDefinitionName:"visibility",processDefinitionKey:"visibility",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1506960847579",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"country",name:"country",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"france"},{id:"option_2",name:"uk"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:{leftFormFieldId:"name",leftRestResponseId:null,operator:"==",rightValue:"italy",rightType:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"",nextCondition:null},endpoint:null,requestHeaders:null}],2:[{fieldType:"FormFieldRepresentation",id:"name",name:"name",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.formDefVisibilitiFieldDependsOnPreviousOne={id:19,processDefinitionId:"visibility:1:148",processDefinitionName:"visibility",processDefinitionKey:"visibility",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1506960847579",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"name",name:"name",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"RestFieldRepresentation",id:"country",name:"country",type:"dropdown",value:"Choose one...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Choose one..."},{id:"option_1",name:"france"},{id:"option_2",name:"uk"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:{leftFormFieldId:"name",leftRestResponseId:null,operator:"==",rightValue:"italy",rightType:null,rightFormFieldId:"",rightRestResponseId:"",nextConditionOperator:"",nextCondition:null},endpoint:null,requestHeaders:null}]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D-M-YYYY"},e.startFormDateWidgetMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"FormFieldRepresentation",id:"date",name:"date",type:"date",value:null}]}}]},e.startFormNumberWidgetMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"FormFieldRepresentation",id:"number",name:"number widget",type:"integer",value:null}]}}]},e.startFormAmountWidgetMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"FormFieldRepresentation",id:"amount",name:"amount widget",type:"amount",value:null}]}}]},e.startFormRadioButtonWidgetMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"RestFieldRepresentation",id:"radio-but",name:"radio-buttons",type:"radio-buttons",value:null}]}}]},e.startFormTextDefinitionMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"FormFieldRepresentation",id:"mocktext",name:"mockText",type:"text",value:null}]}}]},e.startFormDropdownDefinitionMock={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,readOnly:!1,fields:{1:[{fieldType:"RestFieldRepresentation",id:"mockTypeDropDown",name:"mock DropDown",type:"dropdown",value:"Chooseone...",required:!1,readOnly:!1,overrideId:!1,options:[{id:"empty",name:"Chooseone..."},{id:"opt1",name:"Option-1"},{id:"opt2",name:"Option-2"},{id:"opt3",name:"Option-3"},{id:"opt2",name:"Option-3"}]}]}}]},e.startMockForm={id:4,name:"Claim Review Process",processDefinitionId:"ClaimReviewProcess:2: 93",processDefinitionName:"ClaimReviewProcess",processDefinitionKey:"ClaimReviewProcess",tabs:[],fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"clientname",name:"ClientName",type:"text",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"policyno",name:"PolicyNo",type:"integer",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterPolicyName",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:1497953270269,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"billamount",name:"BillAmount",type:"integer",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterBillAmount",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"billdate",name:"BillDate",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:"billdate",params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:1497953280930,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"claimtype",name:"ClaimType",type:"dropdown",value:"Chooseone...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Chooseone..."},{id:"cashless",name:"Cashless"},{id:"reimbursement",name:"Reimbursement"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[{fieldType:"FormFieldRepresentation",id:"hospitalname",name:"HospitalName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterHospitalName",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[{id:"approve",name:"Approve"},{id:"complete",name:"Complete"},{id:"start_process",name:"Start Process"}],javascriptEvents:[],className:"",style:"",metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D - M - YYYY"},e.startMockFormWithTab={id:4,taskName:"Mock Title",processDefinitionId:"ClaimReviewProcess:2: 93",processDefinitionName:"ClaimReviewProcess",processDefinitionKey:"ClaimReviewProcess",tabs:[{id:"form1",name:"Tab 1"},{id:"form2",name:"Tab 2"}],fields:[{fieldType:"ContainerRepresentation",id:1497953253784,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"clientname",name:"ClientName",type:"text",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"policyno",name:"PolicyNo",type:"integer",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterPolicyName",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:1497953270269,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"billamount",name:"BillAmount",type:"integer",value:null,required:!0,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterBillAmount",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[{fieldType:"FormFieldRepresentation",id:"billdate",name:"BillDate",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:"billdate",params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:1497953280930,name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"RestFieldRepresentation",id:"claimtype",name:"ClaimType",type:"dropdown",value:"Chooseone...",required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:!0,options:[{id:"empty",name:"Chooseone..."},{id:"cashless",name:"Cashless"},{id:"reimbursement",name:"Reimbursement"}],restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,endpoint:null,requestHeaders:null}],2:[{fieldType:"FormFieldRepresentation",id:"hospitalname",name:"HospitalName",type:"text",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:"EnterHospitalName",minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}}],outcomes:[{id:"approve",name:"Approve"},{id:"complete",name:"Complete"}],javascriptEvents:[],className:"",style:"",metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1,globalDateFormat:"D - M - YYYY"},e.formModelTabs={id:16,name:"start event",description:"",version:2,lastUpdatedBy:4,lastUpdatedByFullName:"User Test",lastUpdated:"2017-10-04T13:00:03.030+0000",stencilSetId:null,referenceId:null,formDefinition:{tabs:[],fields:[{fieldType:"ContainerRepresentation",id:"1507037668653",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"AmountFieldRepresentation",id:"label",name:"Label",type:"amount",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null,enableFractions:!1,currency:null}],2:[{fieldType:"FormFieldRepresentation",id:"label1",name:"Label1",type:"date",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:1},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}]}},{fieldType:"ContainerRepresentation",id:"1507037670167",name:"Label",type:"container",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,dateDisplayFormat:null,layout:null,sizeX:2,sizeY:1,row:-1,col:-1,visibilityCondition:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"label2",name:"Label2",type:"boolean",value:null,required:!1,readOnly:!1,overrideId:!1,colspan:1,placeholder:null,minLength:0,maxLength:0,minValue:null,maxValue:null,regexPattern:null,optionType:null,hasEmptyValue:null,options:null,restUrl:null,restResponsePath:null,restIdProperty:null,restLabelProperty:null,tab:null,className:null,params:{existingColspan:1,maxColspan:2},dateDisplayFormat:null,layout:{row:-1,column:-1,colspan:1},sizeX:1,sizeY:1,row:-1,col:-1,visibilityCondition:null}],2:[]}}],outcomes:[],javascriptEvents:[],className:"",style:"",customFieldTemplates:{},metadata:{},variables:[],customFieldsValueInfo:{},gridsterForm:!1}},e.formTest=ro,e.fakeTaskProcessVariableModels=[{id:"TEST_VAR_1",type:"string",value:"test_value_1"},{id:"TEST_VAR_2",type:"string",value:"test_value_2"},{id:"TEST_VAR_3",type:"string",value:"test_value_3"}],e.formValues={test_1:"value_1",test_2:"value_2",test_3:"value_1",test_4:"dropdown_id",test_5:"dropdown_label",dropdown:{id:"dropdown_id",name:"dropdown_label"}},e.fakeFormJson={id:"9999",name:"FORM_VISIBILITY",processDefinitionId:"PROCESS_TEST:9:9999",processDefinitionName:"PROCESS_TEST",processDefinitionKey:"PROCESS_TEST",taskId:"999",taskName:"TEST",fields:[{fieldType:"ContainerRepresentation",id:"000000000000000000",name:"Label",type:"container",value:null,numberOfColumns:2,fields:{1:[{fieldType:"FormFieldRepresentation",id:"FIELD_TEST",name:"FIELD_TEST",type:"text",value:"RIGHT_FORM_FIELD_VALUE",visibilityCondition:null,isVisible:!0},{fieldType:"FormFieldRepresentation",id:"FIELD_WITH_CONDITION",name:"FIELD_WITH_CONDITION",type:"text",value:"field_with_condition_value",visibilityCondition:null,isVisible:!0},{fieldType:"FormFieldRepresentation",id:"LEFT_FORM_FIELD_ID",name:"LEFT_FORM_FIELD_NAME",type:"text",value:"LEFT_FORM_FIELD_VALUE",visibilityCondition:null,isVisible:!0}],2:[{fieldType:"FormFieldRepresentation",id:"RIGHT_FORM_FIELD_ID",name:"RIGHT_FORM_FIELD_NAME",type:"text",value:"RIGHT_FORM_FIELD_VALUE",visibilityCondition:null,isVisible:!0}]}}]},e.ɵc=ne,e.ɵcg=ce,e.ɵcm=ye,e.ɵcf=Se,e.ɵcl=ve,e.ɵcj=be,e.ɵce=Ce,e.ɵcq=Oe,e.ɵcp=xe,e.ɵcb=ke,e.ɵcd=Re,e.ɵcc=Fe,e.ɵdi=_e,e.ɵdj=De,e.ɵdo=ut,e.ɵdh=Ot,e.ɵdp=Pt,e.ɵdm=Rt,e.ɵdk=Ft,e.ɵdn=At,e.ɵdl=kt,e.ɵdq=Dt,e.ɵdr=_t,e.ɵdu=Lt,e.ɵds=Vt,e.ɵdt=Mt,e.ɵbj=Qe,e.ɵbk=Ze,e.ɵbl=tt,e.ɵbp=nt,e.ɵbq=rt,e.ɵbs=ot,e.ɵbt=st,e.ɵeg=Zi,e.ɵdz=tr,e.ɵee=nr,e.ɵec=or,e.ɵef=ar,e.ɵfc=yi,e.ɵex=bi,e.ɵeq=Ii,e.ɵem=mi,e.ɵdv=sr,e.ɵfb=Ei,e.ɵev=Si,e.ɵff=Ci,e.ɵes=Ti,e.ɵfd=Ri,e.ɵfj=Ai,e.ɵfh=Di,e.ɵfi=_i,e.ɵfg=Li,e.ɵfk=Vi,e.ɵfe=Mi,e.ɵez=Ni,e.ɵet=Ui,e.ɵei=Qi,e.ɵeh=Ji,e.ɵer=ji,e.ɵep=Bi,e.ɵfa=zi,e.ɵeu=Yi,e.ɵel=hi,e.ɵfl=Hi,e.ɵfm=Gi,e.ɵeo=Wi,e.ɵey=$i,e.ɵen=gi,e.ɵew=Ki,e.ɵek=di,e.ɵej=pi,e.ɵfn=vi,e.ɵdx=ui,e.ɵea=er,e.ɵdw=ci,e.ɵed=rr,e.ɵdy=Xi,e.ɵeb=wi,e.ɵfs=Ut,e.ɵfu=Yt,e.ɵft=zt,e.ɵbr=it,e.ɵfr=Gt,e.ɵfo=Zt,e.ɵfp=en,e.ɵfq=tn,e.ɵe=le,e.ɵd=X,e.ɵbz=rn,e.ɵca=on,e.ɵi=Ve,e.ɵm=He,e.ɵv=Ge,e.ɵj=$e,e.ɵl=Xe,e.ɵu=Ke,e.ɵs=re,e.ɵcu=ur,e.ɵct=cr,e.ɵcs=pr,e.ɵcr=dr,e.ɵp=qe,e.ɵch=Ee,e.ɵck=pe,e.ɵdg=hr,e.ɵo=ze,e.ɵt=Me,e.ɵcx=gr,e.ɵdf=Sr,e.ɵci=Ie,e.ɵcy=Cr,e.ɵk=We,e.ɵb=je,e.ɵcz=Tr,e.ɵbm=et,e.ɵcv=xr,e.ɵda=Or,e.ɵdb=qi,e.ɵbb=Fn,e.ɵdc=Pr,e.ɵbv=$t,e.ɵdd=Fr,e.ɵde=Dr,e.ɵr=ie,e.ɵn=Ye,e.ɵa=Lr,e.ɵbn=ae,e.ɵbo=se,e.ɵcw=Mr,e.ɵq=oe,e.ɵbu=sn,e.ɵh=un,e.ɵg=cn,e.ɵf=pn,e.ɵbw=yn,e.ɵby=hn,e.ɵbx=gn,e.ɵco=he,e.ɵcn=me,e.ɵbc=bn,e.ɵbe=wn,e.ɵbf=En,e.ɵbd=Sn,e.ɵbi=Cn,e.ɵba=Tn,e.ɵz=xn,e.ɵy=On,e.ɵx=Pn,e.ɵw=kn,e.ɵbh=Rn,e.ɵbg=In,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=adf-core.umd.min.js.map
